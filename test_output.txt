============================= test session starts ==============================
platform darwin -- Python 3.13.3, pytest-9.0.2, pluggy-1.6.0 -- /Users/josh/Projects/gobby/.venv/bin/python
cachedir: .pytest_cache
rootdir: /Users/josh/Projects/gobby
configfile: pyproject.toml
plugins: anyio-4.12.1, mock-3.15.1, xdist-3.8.0, asyncio-1.3.0, cov-7.0.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 72 items

tests/servers/test_http_coverage.py::TestHTTPServerInit::test_init_minimal PASSED [  1%]
tests/servers/test_http_coverage.py::TestHTTPServerInit::test_init_with_port PASSED [  2%]
tests/servers/test_http_coverage.py::TestHTTPServerInit::test_init_sets_start_time PASSED [  4%]
tests/servers/test_http_coverage.py::TestHTTPServerInit::test_init_creates_broadcaster PASSED [  5%]
tests/servers/test_http_coverage.py::TestHTTPServerInit::test_init_with_session_manager PASSED [  6%]
tests/servers/test_http_coverage.py::TestHTTPServerInit::test_init_background_tasks_empty PASSED [  8%]
tests/servers/test_http_coverage.py::TestHTTPServerInit::test_init_running_flag_false PASSED [  9%]
tests/servers/test_http_coverage.py::TestHTTPServerInit::test_init_creates_app PASSED [ 11%]
tests/servers/test_http_coverage.py::TestHTTPServerInit::test_init_with_llm_service PASSED [ 12%]
tests/servers/test_http_coverage.py::TestHTTPServerInit::test_init_creates_llm_service_from_config PASSED [ 13%]
tests/servers/test_http_coverage.py::TestHTTPServerInit::test_init_llm_service_creation_failure PASSED [ 15%]
tests/servers/test_http_coverage.py::TestResolveProjectId::test_resolve_with_explicit_project_id PASSED [ 16%]
tests/servers/test_http_coverage.py::TestResolveProjectId::test_resolve_from_cwd PASSED [ 18%]
tests/servers/test_http_coverage.py::TestResolveProjectId::test_resolve_no_project_json_raises PASSED [ 19%]
tests/servers/test_http_coverage.py::TestResolveProjectId::test_resolve_with_cwd_default PASSED [ 20%]
tests/servers/test_http_coverage.py::TestProcessShutdown::test_shutdown_no_pending_tasks PASSED [ 22%]
tests/servers/test_http_coverage.py::TestProcessShutdown::test_shutdown_waits_for_pending_tasks PASSED [ 23%]
tests/servers/test_http_coverage.py::TestProcessShutdown::test_shutdown_timeout_with_slow_tasks PASSED [ 25%]
tests/servers/test_http_coverage.py::TestProcessShutdown::test_shutdown_disconnects_mcp_servers PASSED [ 26%]
tests/servers/test_http_coverage.py::TestProcessShutdown::test_shutdown_handles_mcp_disconnect_error PASSED [ 27%]
tests/servers/test_http_coverage.py::TestProcessShutdown::test_shutdown_increments_success_metric PASSED [ 29%]
tests/servers/test_http_coverage.py::TestCreateServer::test_create_server_minimal PASSED [ 30%]
tests/servers/test_http_coverage.py::TestCreateServer::test_create_server_with_all_args PASSED [ 31%]
tests/servers/test_http_coverage.py::TestAdminEndpoints::test_status_check_running_true ERROR [ 33%]
tests/servers/test_http_coverage.py::TestAdminEndpoints::test_status_check_with_daemon PASSED [ 34%]
tests/servers/test_http_coverage.py::TestAdminEndpoints::test_status_check_daemon_status_failure PASSED [ 36%]
tests/servers/test_http_coverage.py::TestAdminEndpoints::test_status_check_with_task_manager PASSED [ 37%]
tests/servers/test_http_coverage.py::TestAdminEndpoints::test_status_check_with_memory_manager PASSED [ 38%]
tests/servers/test_http_coverage.py::TestAdminEndpoints::test_status_check_memory_manager_failure PASSED [ 40%]
tests/servers/test_http_coverage.py::TestAdminEndpoints::test_shutdown_creates_background_task PASSED [ 41%]
tests/servers/test_http_coverage.py::TestAdminEndpoints::test_metrics_endpoint_with_daemon FAILED [ 43%]
tests/servers/test_http_coverage.py::TestAdminEndpoints::test_config_endpoint_error_handling PASSED [ 44%]
tests/servers/test_http_coverage.py::TestMCPEndpoints::test_list_mcp_servers_empty PASSED [ 45%]
tests/servers/test_http_coverage.py::TestMCPEndpoints::test_get_mcp_status_empty PASSED [ 47%]
tests/servers/test_http_coverage.py::TestMCPEndpoints::test_call_tool_missing_fields PASSED [ 48%]
tests/servers/test_http_coverage.py::TestMCPEndpoints::test_get_tool_schema_missing_fields PASSED [ 50%]
tests/servers/test_http_coverage.py::TestMCPEndpoints::test_recommend_tools_missing_task PASSED [ 51%]
tests/servers/test_http_coverage.py::TestMCPEndpoints::test_search_tools_missing_query PASSED [ 52%]
tests/servers/test_http_coverage.py::TestMCPEndpoints::test_proxy_invalid_json PASSED [ 54%]
tests/servers/test_http_coverage.py::TestMCPEndpoints::test_add_server_missing_fields PASSED [ 55%]
tests/servers/test_http_coverage.py::TestMCPEndpoints::test_import_server_missing_source PASSED [ 56%]
tests/servers/test_http_coverage.py::TestMCPEndpoints::test_list_tools_external_server_not_found PASSED [ 58%]
tests/servers/test_http_coverage.py::TestMCPEndpoints::test_mcp_tools_list_all PASSED [ 59%]
tests/servers/test_http_coverage.py::TestMCPEndpointsWithManager::test_remove_server_not_found PASSED [ 61%]
tests/servers/test_http_coverage.py::TestMCPEndpointsWithManager::test_remove_server_success PASSED [ 62%]
tests/servers/test_http_coverage.py::TestMCPEndpointsWithManager::test_list_all_tools_with_server_filter PASSED [ 63%]
tests/servers/test_http_coverage.py::TestCodeEndpoints::test_execute_code_missing_code PASSED [ 65%]
tests/servers/test_http_coverage.py::TestCodeEndpoints::test_process_dataset_missing_data PASSED [ 66%]
tests/servers/test_http_coverage.py::TestCodeEndpoints::test_process_dataset_missing_operation PASSED [ 68%]
tests/servers/test_http_coverage.py::TestHooksEndpoints::test_execute_hook_without_hook_manager ERROR [ 69%]
tests/servers/test_http_coverage.py::TestHooksEndpoints::test_execute_hook_with_mock_manager PASSED [ 70%]
tests/servers/test_http_coverage.py::TestHooksEndpoints::test_execute_hook_graceful_error_on_adapter_exception PASSED [ 72%]
tests/servers/test_http_coverage.py::TestHooksEndpoints::test_execute_hook_graceful_error_for_unsupported_hook_type PASSED [ 73%]
tests/servers/test_http_coverage.py::TestPluginsEndpoints::test_list_plugins_no_config PASSED [ 75%]
tests/servers/test_http_coverage.py::TestPluginsEndpoints::test_list_plugins_with_mock_hook_manager PASSED [ 76%]
tests/servers/test_http_coverage.py::TestPluginsEndpoints::test_reload_plugin_missing_name PASSED [ 77%]
tests/servers/test_http_coverage.py::TestWebhooksEndpoints::test_list_webhooks_no_config PASSED [ 79%]
tests/servers/test_http_coverage.py::TestWebhooksEndpoints::test_list_webhooks_endpoint_exists PASSED [ 80%]
tests/servers/test_http_coverage.py::TestWebhooksEndpoints::test_test_webhook_missing_name PASSED [ 81%]
tests/servers/test_http_coverage.py::TestWebhooksEndpoints::test_test_webhook_no_config PASSED [ 83%]
tests/servers/test_http_coverage.py::TestExceptionHandlers::test_global_exception_handler_logs_details PASSED [ 84%]
tests/servers/test_http_coverage.py::TestExceptionHandlers::test_global_exception_handler_includes_path PASSED [ 86%]
tests/servers/test_http_coverage.py::TestLifespan::test_lifespan_sets_running_flag PASSED [ 87%]
tests/servers/test_http_coverage.py::TestLifespan::test_lifespan_initializes_hook_manager PASSED [ 88%]
tests/servers/test_http_coverage.py::TestRunServer::test_run_server_creates_uvicorn_config PASSED [ 90%]
tests/servers/test_http_coverage.py::TestRunServer::test_run_server_handles_keyboard_interrupt PASSED [ 91%]
tests/servers/test_http_coverage.py::TestRunServer::test_run_server_handles_system_exit PASSED [ 93%]
tests/servers/test_http_coverage.py::TestInternalRegistries::test_list_tools_internal_server PASSED [ 94%]
tests/servers/test_http_coverage.py::TestInternalRegistries::test_list_tools_internal_server_not_found PASSED [ 95%]
tests/servers/test_http_coverage.py::TestInternalRegistries::test_call_tool_internal_server PASSED [ 97%]
tests/servers/test_http_coverage.py::TestInternalRegistries::test_call_tool_internal_server_error PASSED [ 98%]
tests/servers/test_http_coverage.py::TestInternalRegistries::test_get_tool_schema_internal_server PASSED [100%]

==================================== ERRORS ====================================
_____ ERROR at setup of TestAdminEndpoints.test_status_check_running_true ______

basic_http_server = <gobby.servers.http.HTTPServer object at 0x10e44f6f0>

    @pytest.fixture
    def client(basic_http_server: HTTPServer) -> Iterator[TestClient]:
        """Create a test client for the HTTP server."""
>       with TestClient(basic_http_server.app) as client:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/servers/test_http_coverage.py:86: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.13/site-packages/starlette/testclient.py:688: in __enter__
    portal.call(self.wait_startup)
.venv/lib/python3.13/site-packages/anyio/from_thread.py:334: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/concurrent/futures/_base.py:456: in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
.venv/lib/python3.13/site-packages/anyio/from_thread.py:259: in _call_func
    retval = await retval_or_awaitable
             ^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/starlette/testclient.py:723: in wait_startup
    await receive()
.venv/lib/python3.13/site-packages/starlette/testclient.py:714: in receive
    self.task.result()
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/concurrent/futures/_base.py:449: in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
.venv/lib/python3.13/site-packages/anyio/from_thread.py:259: in _call_func
    retval = await retval_or_awaitable
             ^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/starlette/testclient.py:704: in lifespan
    await self.app(scope, self.stream_receive.receive, self.stream_send.send)
.venv/lib/python3.13/site-packages/fastapi/applications.py:1135: in __call__
    await super().__call__(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/applications.py:107: in __call__
    await self.middleware_stack(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/middleware/errors.py:151: in __call__
    await self.app(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/middleware/cors.py:77: in __call__
    await self.app(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py:49: in __call__
    await self.app(scope, receive, send)
.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py:18: in __call__
    await self.app(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/routing.py:716: in __call__
    await self.middleware_stack(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/routing.py:725: in app
    await self.lifespan(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/routing.py:694: in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:153: in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:153: in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:153: in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:153: in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:153: in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:153: in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
src/gobby/servers/http.py:299: in lifespan
    app.state.hook_manager = HookManager(**hook_manager_kwargs)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/gobby/hooks/hook_manager.py:299: in __init__
    self._workflow_handler = WorkflowHookHandler(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <gobby.workflows.hooks.WorkflowHookHandler object at 0x10e8b9a90>
engine = <gobby.workflows.engine.WorkflowEngine object at 0x10e8b97f0>
loop = <_UnixSelectorEventLoop running=False closed=True debug=False>
timeout = <MagicMock name='mock.workflow.timeout' id='4538998064'>
enabled = <MagicMock name='mock.workflow.enabled' id='4538998400'>

    def __init__(
        self,
        engine: "WorkflowEngine",
        loop: asyncio.AbstractEventLoop | None = None,
        timeout: float = 30.0,  # Timeout for workflow operations in seconds
        enabled: bool = True,
    ):
        self.engine = engine
        self._loop = loop
        # Convert 0 to None for asyncio (0 means no timeout)
>       self.timeout = timeout if timeout > 0 else None
                                  ^^^^^^^^^^^
E       TypeError: '>' not supported between instances of 'MagicMock' and 'int'

src/gobby/workflows/hooks.py:30: TypeError
_ ERROR at setup of TestHooksEndpoints.test_execute_hook_without_hook_manager __

basic_http_server = <gobby.servers.http.HTTPServer object at 0x10eef2ea0>

    @pytest.fixture
    def client(basic_http_server: HTTPServer) -> Iterator[TestClient]:
        """Create a test client for the HTTP server."""
>       with TestClient(basic_http_server.app) as client:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/servers/test_http_coverage.py:86: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.13/site-packages/starlette/testclient.py:688: in __enter__
    portal.call(self.wait_startup)
.venv/lib/python3.13/site-packages/anyio/from_thread.py:334: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/concurrent/futures/_base.py:456: in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
.venv/lib/python3.13/site-packages/anyio/from_thread.py:259: in _call_func
    retval = await retval_or_awaitable
             ^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/starlette/testclient.py:723: in wait_startup
    await receive()
.venv/lib/python3.13/site-packages/starlette/testclient.py:714: in receive
    self.task.result()
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/concurrent/futures/_base.py:449: in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
.venv/lib/python3.13/site-packages/anyio/from_thread.py:259: in _call_func
    retval = await retval_or_awaitable
             ^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/starlette/testclient.py:704: in lifespan
    await self.app(scope, self.stream_receive.receive, self.stream_send.send)
.venv/lib/python3.13/site-packages/fastapi/applications.py:1135: in __call__
    await super().__call__(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/applications.py:107: in __call__
    await self.middleware_stack(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/middleware/errors.py:151: in __call__
    await self.app(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/middleware/cors.py:77: in __call__
    await self.app(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py:49: in __call__
    await self.app(scope, receive, send)
.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py:18: in __call__
    await self.app(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/routing.py:716: in __call__
    await self.middleware_stack(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/routing.py:725: in app
    await self.lifespan(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/routing.py:694: in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:153: in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:153: in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:153: in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:153: in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:153: in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:153: in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
src/gobby/servers/http.py:299: in lifespan
    app.state.hook_manager = HookManager(**hook_manager_kwargs)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/gobby/hooks/hook_manager.py:299: in __init__
    self._workflow_handler = WorkflowHookHandler(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <gobby.workflows.hooks.WorkflowHookHandler object at 0x10ddcdf90>
engine = <gobby.workflows.engine.WorkflowEngine object at 0x10ddcf4d0>
loop = <_UnixSelectorEventLoop running=False closed=True debug=False>
timeout = <MagicMock name='mock.workflow.timeout' id='4535277552'>
enabled = <MagicMock name='mock.workflow.enabled' id='4535282256'>

    def __init__(
        self,
        engine: "WorkflowEngine",
        loop: asyncio.AbstractEventLoop | None = None,
        timeout: float = 30.0,  # Timeout for workflow operations in seconds
        enabled: bool = True,
    ):
        self.engine = engine
        self._loop = loop
        # Convert 0 to None for asyncio (0 means no timeout)
>       self.timeout = timeout if timeout > 0 else None
                                  ^^^^^^^^^^^
E       TypeError: '>' not supported between instances of 'MagicMock' and 'int'

src/gobby/workflows/hooks.py:30: TypeError
=================================== FAILURES ===================================
_____________ TestAdminEndpoints.test_metrics_endpoint_with_daemon _____________

self = <test_http_coverage.TestAdminEndpoints object at 0x10d99c850>
basic_http_server = <gobby.servers.http.HTTPServer object at 0x10e5ae3f0>

    def test_metrics_endpoint_with_daemon(self, basic_http_server: HTTPServer) -> None:
        """Test metrics endpoint updates daemon metrics."""
        mock_daemon = MagicMock()
        mock_daemon.uptime = 120.5
        basic_http_server._daemon = mock_daemon
    
>       with TestClient(basic_http_server.app) as client:
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/servers/test_http_coverage.py:662: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.13/site-packages/starlette/testclient.py:688: in __enter__
    portal.call(self.wait_startup)
.venv/lib/python3.13/site-packages/anyio/from_thread.py:334: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/concurrent/futures/_base.py:456: in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
.venv/lib/python3.13/site-packages/anyio/from_thread.py:259: in _call_func
    retval = await retval_or_awaitable
             ^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/starlette/testclient.py:723: in wait_startup
    await receive()
.venv/lib/python3.13/site-packages/starlette/testclient.py:714: in receive
    self.task.result()
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/concurrent/futures/_base.py:449: in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
.venv/lib/python3.13/site-packages/anyio/from_thread.py:259: in _call_func
    retval = await retval_or_awaitable
             ^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/starlette/testclient.py:704: in lifespan
    await self.app(scope, self.stream_receive.receive, self.stream_send.send)
.venv/lib/python3.13/site-packages/fastapi/applications.py:1135: in __call__
    await super().__call__(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/applications.py:107: in __call__
    await self.middleware_stack(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/middleware/errors.py:151: in __call__
    await self.app(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/middleware/cors.py:77: in __call__
    await self.app(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py:49: in __call__
    await self.app(scope, receive, send)
.venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py:18: in __call__
    await self.app(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/routing.py:716: in __call__
    await self.middleware_stack(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/routing.py:725: in app
    await self.lifespan(scope, receive, send)
.venv/lib/python3.13/site-packages/starlette/routing.py:694: in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:153: in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:153: in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:153: in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:153: in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:153: in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.13/site-packages/fastapi/routing.py:153: in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
../../.local/share/uv/python/cpython-3.13.3-macos-aarch64-none/lib/python3.13/contextlib.py:214: in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
src/gobby/servers/http.py:299: in lifespan
    app.state.hook_manager = HookManager(**hook_manager_kwargs)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/gobby/hooks/hook_manager.py:299: in __init__
    self._workflow_handler = WorkflowHookHandler(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <gobby.workflows.hooks.WorkflowHookHandler object at 0x10e215bd0>
engine = <gobby.workflows.engine.WorkflowEngine object at 0x10e215810>
loop = <_UnixSelectorEventLoop running=False closed=True debug=False>
timeout = <MagicMock name='mock.workflow.timeout' id='4537648864'>
enabled = <MagicMock name='mock.workflow.enabled' id='4537648192'>

    def __init__(
        self,
        engine: "WorkflowEngine",
        loop: asyncio.AbstractEventLoop | None = None,
        timeout: float = 30.0,  # Timeout for workflow operations in seconds
        enabled: bool = True,
    ):
        self.engine = engine
        self._loop = loop
        # Convert 0 to None for asyncio (0 means no timeout)
>       self.timeout = timeout if timeout > 0 else None
                                  ^^^^^^^^^^^
E       TypeError: '>' not supported between instances of 'MagicMock' and 'int'

src/gobby/workflows/hooks.py:30: TypeError
================================ tests coverage ================================
_______________ coverage: platform darwin, python 3.13.3-final-0 _______________

Name                                                       Stmts   Miss  Cover   Missing
----------------------------------------------------------------------------------------
src/gobby/__init__.py                                          1      0   100%
src/gobby/adapters/__init__.py                                 6      0   100%
src/gobby/adapters/base.py                                    17      7    59%   47, 62, 88-93
src/gobby/adapters/claude_code.py                             89     75    16%   67-70, 93-111, 139-156, 200-306, 329-335, 346
src/gobby/adapters/codex_impl/__init__.py                      1      0   100%
src/gobby/adapters/codex_impl/adapter.py                     227    180    21%   51-82, 164-167, 176-178, 182-184, 197, 208-219, 226-235, 242-250, 254-275, 315-393, 412, 425-430, 446-498, 534-538, 542-544, 553-561, 569-571, 584-596, 607-613, 638-661, 693, 710-715
src/gobby/adapters/codex_impl/client.py                      283    242    14%   65-85, 90, 95, 99-100, 109, 118-165, 169-203, 213-215, 219-220, 245-267, 279-291, 306-324, 333-335, 359-386, 396-397, 427-468, 482-486, 490, 496-498, 518-566, 570-593, 597-673
src/gobby/adapters/codex_impl/protocol.py                      2      2     0%   14-20
src/gobby/adapters/codex_impl/types.py                        33      0   100%
src/gobby/adapters/gemini.py                                 129    111    14%   121-123, 134-143, 154, 175-203, 231-276, 313-416, 434-445
src/gobby/agents/__init__.py                                   4      4     0%   26-30
src/gobby/agents/codex_session.py                             46     46     0%   10-116
src/gobby/agents/constants.py                                 19     19     0%   18-102
src/gobby/agents/context.py                                  123    123     0%   12-362
src/gobby/agents/definitions.py                               64     64     0%   9-143
src/gobby/agents/gemini_session.py                            41     41     0%   11-111
src/gobby/agents/isolation.py                                155    155     0%   15-525
src/gobby/agents/registry.py                                 240    240     0%   9-629
src/gobby/agents/runner.py                                   305    305     0%   11-976
src/gobby/agents/sandbox.py                                   73     73     0%   9-255
src/gobby/agents/session.py                                   94     94     0%   9-260
src/gobby/agents/spawn.py                                    141    141     0%   12-663
src/gobby/agents/spawn_executor.py                           114    114     0%   9-407
src/gobby/agents/spawners/__init__.py                         10     10     0%   25-66
src/gobby/agents/spawners/base.py                             80     80     0%   3-142
src/gobby/agents/spawners/command_builder.py                  54     54     0%   7-189
src/gobby/agents/spawners/cross_platform.py                  109    109     0%   3-262
src/gobby/agents/spawners/embedded.py                         79     79     0%   3-244
src/gobby/agents/spawners/headless.py                         76     76     0%   3-245
src/gobby/agents/spawners/linux.py                            60     60     0%   3-121
src/gobby/agents/spawners/macos.py                           122    122     0%   3-298
src/gobby/agents/spawners/prompt_manager.py                   62     62     0%   7-125
src/gobby/agents/spawners/windows.py                         145    145     0%   3-304
src/gobby/agents/tty_config.py                                66     66     0%   8-319
src/gobby/app_context.py                                      34      0   100%
src/gobby/autonomous/__init__.py                               4      0   100%
src/gobby/autonomous/progress_tracker.py                     123     67    46%   71, 143-174, 198-227, 244-307, 331-332, 352-395, 406-415, 427-438
src/gobby/autonomous/stop_registry.py                         66     40    39%   34, 76-105, 121-133, 152-153, 164-179, 192-201, 212-233, 253-269
src/gobby/autonomous/stuck_detector.py                       110     69    37%   115-140, 154-199, 210-237, 249-284, 302-316, 327-338, 350-383
src/gobby/cli/__init__.py                                     54     54     0%   5-71
src/gobby/cli/__main__.py                                      1      1     0%   5
src/gobby/cli/agents.py                                      274    274     0%   13-529
src/gobby/cli/artifacts.py                                   135    135     0%   3-266
src/gobby/cli/clones.py                                      222    222     0%   13-419
src/gobby/cli/conductor.py                                   153    153     0%   12-266
src/gobby/cli/daemon.py                                      174    174     0%   5-329
src/gobby/cli/extensions.py                                  271    271     0%   5-526
src/gobby/cli/github.py                                      141    141     0%   7-263
src/gobby/cli/init.py                                         37     37     0%   5-53
src/gobby/cli/install.py                                     365    365     0%   5-614
src/gobby/cli/installers/__init__.py                           7      7     0%   8-19
src/gobby/cli/installers/antigravity.py                       16     16     0%   11-59
src/gobby/cli/installers/claude.py                           219    219     0%   8-369
src/gobby/cli/installers/codex.py                             95     95     0%   8-186
src/gobby/cli/installers/gemini.py                           140    140     0%   8-294
src/gobby/cli/installers/git_hooks.py                        121    121     0%   14-377
src/gobby/cli/installers/shared.py                           449    449     0%   8-899
src/gobby/cli/linear.py                                      143    143     0%   7-250
src/gobby/cli/mcp.py                                           9      9     0%   5-30
src/gobby/cli/mcp_proxy.py                                   387    387     0%   14-698
src/gobby/cli/memory.py                                      248    248     0%   1-489
src/gobby/cli/merge.py                                       200    200     0%   12-384
src/gobby/cli/projects.py                                     50     50     0%   5-79
src/gobby/cli/sessions.py                                    368    368     0%   5-622
src/gobby/cli/skills.py                                      453    453     0%   10-858
src/gobby/cli/tasks/__init__.py                                3      3     0%   14-23
src/gobby/cli/tasks/_utils.py                                307    307     0%   5-658
src/gobby/cli/tasks/ai.py                                    338    338     0%   5-585
src/gobby/cli/tasks/commits.py                                97     97     0%   5-169
src/gobby/cli/tasks/crud.py                                  393    393     0%   5-723
src/gobby/cli/tasks/deps.py                                   76     76     0%   5-135
src/gobby/cli/tasks/labels.py                                 41     41     0%   5-63
src/gobby/cli/tasks/main.py                                  163    163     0%   5-269
src/gobby/cli/tasks/search.py                                 56     56     0%   5-178
src/gobby/cli/utils.py                                       239    239     0%   5-507
src/gobby/cli/workflows.py                                   541    541     0%   5-927
src/gobby/cli/worktrees.py                                   302    302     0%   17-481
src/gobby/clones/__init__.py                                   2      2     0%   7-9
src/gobby/clones/git.py                                      215    215     0%   6-720
src/gobby/conductor/__init__.py                                4      4     0%   12-16
src/gobby/conductor/alerts.py                                 50     50     0%   9-135
src/gobby/conductor/loop.py                                   58     58     0%   10-164
src/gobby/conductor/monitors/__init__.py                       3      3     0%   8-11
src/gobby/conductor/monitors/agents.py                        30     30     0%   7-116
src/gobby/conductor/monitors/tasks.py                         40     40     0%   8-155
src/gobby/conductor/pricing.py                                81     81     0%   9-227
src/gobby/conductor/token_tracker.py                          53     53     0%   7-160
src/gobby/config/__init__.py                                   2      0   100%
src/gobby/config/app.py                                      178     98    45%   108-122, 271, 275, 279, 283, 287, 291, 295, 299, 303, 307, 311, 315, 321-323, 329-331, 347-380, 397-414, 424-435, 457-495, 512-529
src/gobby/config/extensions.py                                34      0   100%
src/gobby/config/features.py                                  80     17    79%   105-107, 207-209, 274-277, 285-290, 348-349
src/gobby/config/llm_providers.py                             26     11    58%   31, 89-98
src/gobby/config/logging.py                                   19      3    84%   64-66
src/gobby/config/mcp.py                                      118    118     0%   8-346
src/gobby/config/persistence.py                               74     20    73%   104-107, 185-187, 193-195, 201-206, 212-215, 245-247
src/gobby/config/search.py                                    21      9    57%   89-93, 104-108
src/gobby/config/servers.py                                   57     18    68%   42-44, 50-52, 115-117, 123-125, 131-133, 139-141
src/gobby/config/sessions.py                                  62     12    81%   54-56, 102-104, 203-205, 248-250
src/gobby/config/skills.py                                    20      4    80%   71-74
src/gobby/config/tasks.py                                    105     16    85%   311-313, 319-321, 681-683, 743-756
src/gobby/hooks/__init__.py                                    9      0   100%
src/gobby/hooks/artifact_capture.py                           79     56    29%   66, 73-85, 92, 104-110, 122-135, 158-213
src/gobby/hooks/broadcaster.py                                82     68    17%   73-170, 187-243
src/gobby/hooks/event_handlers/__init__.py                    37     24    35%   93-111, 141-146, 155
src/gobby/hooks/event_handlers/_agent.py                     110    100     9%   12-47, 54-80, 87-112, 125-148, 152-164, 168-175
src/gobby/hooks/event_handlers/_base.py                       33      9    73%   49-78
src/gobby/hooks/event_handlers/_misc.py                       37     29    22%   12-31, 35-44, 48-55, 59-66
src/gobby/hooks/event_handlers/_session.py                   266    254     5%   22-161, 176-262, 286-338, 386-451, 473-536, 547-573
src/gobby/hooks/event_handlers/_tool.py                       91     81    11%   23-45, 52-118, 122-129, 141-196
src/gobby/hooks/events.py                                     50      0   100%
src/gobby/hooks/git.py                                        61     61     0%   7-169
src/gobby/hooks/health_monitor.py                             72     61    15%   48-64, 72-110, 119-123, 136-137, 154-168
src/gobby/hooks/hook_manager.py                              355    234    34%   153-154, 165-170, 180, 187, 231-233, 307-402, 448, 452, 461, 480-740, 755, 768-808, 817-851, 859-878, 884-887, 904-922
src/gobby/hooks/hook_types.py                                180      0   100%
src/gobby/hooks/plugins.py                                   264    206    22%   62-85, 91-108, 163-169, 211-213, 247-254, 288-300, 312, 325-326, 369-394, 406-420, 439-446, 450, 454, 488-491, 513-516, 528-555, 567-596, 614-639, 648-663, 672-695, 699-704, 718-760, 787-813
src/gobby/hooks/session_coordinator.py                       143    121    15%   58-80, 91-92, 101-102, 114-115, 119-120, 131-132, 144-145, 157-158, 174-185, 194-195, 206, 224-254, 270-293, 307-363, 375-393
src/gobby/hooks/skill_manager.py                              40     28    30%   39-46, 55-70, 82-88, 92, 107-130
src/gobby/hooks/verification_runner.py                        88     88     0%   6-268
src/gobby/hooks/webhooks.py                                  121     93    23%   68-70, 78-86, 90-92, 105-115, 126, 153-253, 274-318, 332-339
src/gobby/integrations/__init__.py                             3      0   100%
src/gobby/integrations/github.py                              51     40    22%   45-49, 64-76, 81-95, 99-100, 108-131, 143-145
src/gobby/integrations/linear.py                              51     40    22%   45-49, 64-76, 81-95, 99-100, 108-131, 143-145
src/gobby/llm/__init__.py                                      7      0   100%
src/gobby/llm/base.py                                         23      6    74%   33, 46, 62, 78, 98, 120
src/gobby/llm/claude.py                                      361    307    15%   85, 90, 104-120, 129-144, 156-186, 194-200, 220-239, 263-272, 280-283, 289-319, 325-345, 353-356, 364-408, 414-451, 462-465, 474-523, 532-553, 600-725, 748-751, 763-785, 793-853, 861-901
src/gobby/llm/claude_executor.py                              91     74    19%   75-92, 97, 127, 153-287
src/gobby/llm/codex.py                                       117    117     0%   13-322
src/gobby/llm/codex_executor.py                               79     79     0%   12-275
src/gobby/llm/executor.py                                     95     20    79%   169, 204, 245-337
src/gobby/llm/factory.py                                       6      0   100%
src/gobby/llm/gemini.py                                       96     96     0%   11-282
src/gobby/llm/litellm.py                                     104    104     0%   11-287
src/gobby/llm/litellm_executor.py                            137    137     0%   13-433
src/gobby/llm/resolver.py                                    187    187     0%   13-562
src/gobby/llm/service.py                                      75     52    31%   61, 80-126, 145, 176-195, 207-219, 225, 231, 234-236
src/gobby/mcp_proxy/__init__.py                                3      0   100%
src/gobby/mcp_proxy/actions.py                                43     43     0%   7-171
src/gobby/mcp_proxy/daemon_control.py                         95     95     0%   3-198
src/gobby/mcp_proxy/importer.py                              173    173     0%   3-494
src/gobby/mcp_proxy/instructions.py                            2      0   100%
src/gobby/mcp_proxy/lazy.py                                  129     72    44%   55-57, 61-71, 75-97, 111-112, 134, 138-139, 143-145, 149-150, 181-184, 195-200, 209-210, 222, 234-235, 247-250, 259-262, 272-275, 289-291, 300, 321-323
src/gobby/mcp_proxy/manager.py                               377    332    12%   84-145, 156-169, 174, 178, 182, 186-190, 194, 198-237, 245-265, 269, 274, 289-355, 369, 373-395, 400-432, 436-470, 493-563, 583, 593-628, 632-642, 654-683, 687-689, 698-713, 717-752, 756-765, 769, 784-786, 796-808
src/gobby/mcp_proxy/metrics.py                               151    151     0%   3-604
src/gobby/mcp_proxy/models.py                                 72     23    68%   30-31, 81-85, 94-102, 143-154
src/gobby/mcp_proxy/registries.py                            112     62    45%   86-87, 91, 95, 99-112, 128-139, 153-168, 172-208, 212-220, 224-245, 249-258, 283, 296
src/gobby/mcp_proxy/schema_hash.py                            86     86     0%   7-378
src/gobby/mcp_proxy/semantic_search.py                       195    136    30%   38-48, 64, 92-95, 110, 125, 130, 142-162, 192-195, 218-253, 265-269, 281-285, 298-302, 314-318, 331-335, 359-364, 376-401, 425, 440, 457-464, 476-492, 522-533, 561-612, 639-674, 689-706
src/gobby/mcp_proxy/server.py                                171    112    35%   69, 73-87, 109-130, 134, 138, 142, 158, 164, 174, 200, 232-263, 285-317, 328-369, 391-449, 460-486, 502-538
src/gobby/mcp_proxy/services/__init__.py                       0      0   100%
src/gobby/mcp_proxy/services/fallback.py                      77     77     0%   7-306
src/gobby/mcp_proxy/services/recommendation.py                96     72    25%   59-63, 92-103, 109-151, 158-213, 217-256
src/gobby/mcp_proxy/services/server_mgmt.py                   79     66    16%   47-106, 113-141, 162-214
src/gobby/mcp_proxy/services/system.py                        22     10    55%   25-62
src/gobby/mcp_proxy/services/tool_filter.py                   92     80    13%   29-31, 35-44, 48-54, 71-97, 121-140, 160-191, 210-231
src/gobby/mcp_proxy/services/tool_proxy.py                   154    132    14%   19-25, 55-75, 83-101, 116-139, 160-200, 222-300, 304, 309-328, 343-358, 378-389
src/gobby/mcp_proxy/stdio.py                                 142    142     0%   8-562
src/gobby/mcp_proxy/tools/__init__.py                          7      0   100%
src/gobby/mcp_proxy/tools/agent_messaging.py                  97     97     0%   15-363
src/gobby/mcp_proxy/tools/agents.py                          113    113     0%   14-439
src/gobby/mcp_proxy/tools/artifacts.py                        71     50    30%   45-49, 54-56, 90-114, 139-159, 175-188, 210-239
src/gobby/mcp_proxy/tools/clones.py                           93     93     0%   13-518
src/gobby/mcp_proxy/tools/hub.py                              85     64    25%   30-31, 53-55, 67-129, 149-199, 217-254, 269-330
src/gobby/mcp_proxy/tools/internal.py                        104     28    73%   39, 49, 55, 63, 65, 159, 194-202, 211, 229-233, 277-279, 291, 300, 316, 330-333
src/gobby/mcp_proxy/tools/memory.py                          124    124     0%   17-520
src/gobby/mcp_proxy/tools/merge.py                           110    110     0%   15-422
src/gobby/mcp_proxy/tools/metrics.py                          84     84     0%   12-347
src/gobby/mcp_proxy/tools/orchestration/__init__.py            7      0   100%
src/gobby/mcp_proxy/tools/orchestration/cleanup.py           210    201     4%   29-628, 678-767
src/gobby/mcp_proxy/tools/orchestration/monitor.py           123    115     7%   29-362
src/gobby/mcp_proxy/tools/orchestration/orchestrate.py       205    195     5%   34-638, 724-746
src/gobby/mcp_proxy/tools/orchestration/review.py            196    187     5%   29-659, 712-736
src/gobby/mcp_proxy/tools/orchestration/utils.py               6      2    67%   15-16
src/gobby/mcp_proxy/tools/orchestration/wait.py              132    121     8%   38-441
src/gobby/mcp_proxy/tools/sessions/__init__.py                 2      0   100%
src/gobby/mcp_proxy/tools/sessions/_commits.py                80     71    11%   32-37, 60-162, 195-234
src/gobby/mcp_proxy/tools/sessions/_crud.py                   56     45    20%   48-68, 101-136, 173-209, 235-248
src/gobby/mcp_proxy/tools/sessions/_factory.py                19      1    95%   46
src/gobby/mcp_proxy/tools/sessions/_handoff.py               214    201     6%   29-89, 94-112, 130-133, 149-165, 206-381, 423-492
src/gobby/mcp_proxy/tools/sessions/_messages.py               51     48     6%   32-166
src/gobby/mcp_proxy/tools/skills/__init__.py                 180    139    23%   41-42, 93-131, 159-204, 231, 261-317, 342-379, 407-444, 477-611
src/gobby/mcp_proxy/tools/spawn_agent.py                     113    113     0%   12-455
src/gobby/mcp_proxy/tools/task_dependencies.py                69     59    14%   29-30, 38-39, 57-219
src/gobby/mcp_proxy/tools/task_github.py                     101     92     9%   56-393
src/gobby/mcp_proxy/tools/task_linear.py                      99     99     0%   14-379
src/gobby/mcp_proxy/tools/task_orchestration.py               20      8    60%   33-84
src/gobby/mcp_proxy/tools/task_readiness.py                  178    160    10%   37-38, 63-86, 108-123, 141-155, 176-194, 202-203, 219-559
src/gobby/mcp_proxy/tools/task_sync.py                       110    100     9%   32-33, 41-42, 66-351
src/gobby/mcp_proxy/tools/task_validation.py                 239    231     3%   53-843
src/gobby/mcp_proxy/tools/tasks/__init__.py                    4      0   100%
src/gobby/mcp_proxy/tools/tasks/_context.py                   58     28    52%   58-74, 78-81, 85-89, 93-95, 109-110
src/gobby/mcp_proxy/tools/tasks/_crud.py                     173    160     8%   30-544, 583-610
src/gobby/mcp_proxy/tools/tasks/_expansion.py                104     94    10%   31-348
src/gobby/mcp_proxy/tools/tasks/_factory.py                   59     40    32%   63-166
src/gobby/mcp_proxy/tools/tasks/_helpers.py                   16     12    25%   112-121, 126-129
src/gobby/mcp_proxy/tools/tasks/_lifecycle.py                191    182     5%   32-597
src/gobby/mcp_proxy/tools/tasks/_lifecycle_validation.py      71     54    24%   49-68, 84-102, 124-172, 198-265, 284-290
src/gobby/mcp_proxy/tools/tasks/_resolution.py                15     11    27%   39-55
src/gobby/mcp_proxy/tools/tasks/_search.py                    37     31    16%   23-215
src/gobby/mcp_proxy/tools/tasks/_session.py                   43     37    14%   24-140
src/gobby/mcp_proxy/tools/workflows/__init__.py               78     31    60%   81, 85, 89-92, 107, 118, 131-133, 154-156, 165-167, 180-182, 202-204, 217-219, 229-231, 243, 250, 264
src/gobby/mcp_proxy/tools/workflows/_artifacts.py             63     51    19%   42-62, 96-161, 183-221
src/gobby/mcp_proxy/tools/workflows/_import.py                48     37    23%   39-90, 110-112
src/gobby/mcp_proxy/tools/workflows/_lifecycle.py            102     89    13%   50-153, 189-224, 254-315
src/gobby/mcp_proxy/tools/workflows/_query.py                 65     52    20%   37-48, 99-157, 177-193
src/gobby/mcp_proxy/tools/workflows/_resolution.py            35     25    29%   22-24, 49-78
src/gobby/mcp_proxy/tools/workflows/_terminal.py              57     47    18%   40-136
src/gobby/mcp_proxy/tools/worktrees.py                       279    279     0%   14-951
src/gobby/mcp_proxy/transports/__init__.py                     0      0   100%
src/gobby/mcp_proxy/transports/base.py                        42     24    43%   38-45, 49, 53, 58, 63, 68, 72, 84-95
src/gobby/mcp_proxy/transports/factory.py                     13      5    62%   32-44
src/gobby/mcp_proxy/transports/http.py                        86     72    16%   24-29, 33-69, 73-116, 120-131, 135-139
src/gobby/mcp_proxy/transports/stdio.py                      108     89    18%   30-44, 56-59, 71-74, 93-97, 101-179, 184-213
src/gobby/mcp_proxy/transports/websocket.py                   78     65    17%   30-31, 35-100, 105-136
src/gobby/memory/backends/__init__.py                         33     24    27%   66-71, 78-119
src/gobby/memory/backends/null.py                             22      9    59%   33, 56-57, 74, 84-85, 96, 100, 111
src/gobby/memory/components/__init__.py                        0      0   100%
src/gobby/memory/components/ingestion.py                      24      5    79%   42, 47-48, 64, 89
src/gobby/memory/components/search.py                         30      7    77%   47, 51, 55, 59, 73, 91, 104
src/gobby/memory/context.py                                   46     40    13%   21-27, 40-87
src/gobby/memory/ingestion/__init__.py                         2      0   100%
src/gobby/memory/ingestion/multimodal.py                      51     32    37%   50, 55, 91-141, 189-212
src/gobby/memory/manager.py                                  201    151    25%   63, 68-69, 80, 84, 88, 103, 130-160, 196-208, 243-255, 277, 300, 337-368, 389-392, 423-429, 438-463, 467-471, 497, 510, 514-517, 532-536, 560-571, 584-602, 616-674, 713-780
src/gobby/memory/protocol.py                                  97     22    77%   229, 263-291, 341, 373, 384, 407, 418, 429, 451
src/gobby/memory/search/__init__.py                           16     10    38%   40-44, 67-76
src/gobby/memory/search/coordinator.py                        93     74    20%   56-73, 77-96, 100, 116-139, 177-224, 234-248
src/gobby/memory/services/__init__.py                          2      0   100%
src/gobby/memory/services/crossref.py                         47     32    32%   70-107, 126-142
src/gobby/paths.py                                            18     14    22%   19-21, 35-51
src/gobby/prompts/__init__.py                                  3      0   100%
src/gobby/prompts/loader.py                                  120     82    32%   62, 86, 98-106, 118-130, 145-178, 200-213, 227-254, 268-272, 283, 294-313, 324, 336, 349
src/gobby/prompts/models.py                                   34     13    62%   69-83, 98, 109-113
src/gobby/runner.py                                          288    288     0%   1-521
src/gobby/search/__init__.py                                   7      0   100%
src/gobby/search/backends/__init__.py                         34     14    59%   55, 72, 80, 88, 92, 119, 129, 137, 141, 145-147, 151, 155
src/gobby/search/backends/embedding.py                        76     60    21%   29-39, 75-83, 95, 112-144, 167-194, 198, 202, 212-215, 225
src/gobby/search/embeddings.py                                67     57    15%   62-107, 132-143, 165-197, 211, 233
src/gobby/search/models.py                                    39      8    79%   94, 102-106, 136, 147-148
src/gobby/search/protocol.py                                  25     12    52%   37, 52, 61, 70-71, 74, 78, 96-104
src/gobby/search/tfidf.py                                     82     69    16%   68-79, 83-99, 113-134, 148-185, 194, 203, 212-225, 229-232
src/gobby/search/unified.py                                  196    151    23%   106, 110-112, 116-122, 131-147, 162-176, 193-279, 299-356, 364-394, 402, 410, 418, 426-448, 456-472, 477, 479, 494-495
src/gobby/servers/__init__.py                                  0      0   100%
src/gobby/servers/http.py                                    237     46    81%   110-112, 119-129, 166-167, 172-173, 178-184, 215, 308-309, 317-328, 333-336, 345-346, 411, 488, 519-522, 599-602
src/gobby/servers/models.py                                   13      0   100%
src/gobby/servers/routes/__init__.py                           4      0   100%
src/gobby/servers/routes/admin.py                            300    173    42%   76-78, 94-118, 123-127, 150-151, 165-166, 186-187, 192-200, 205-223, 261-291, 334-336, 379-382, 393-441, 466-525, 550-590, 603-641, 668-720
src/gobby/servers/routes/dependencies.py                      42     18    57%   43, 58-61, 72-73, 78-79, 84-85, 90-91, 108-112
src/gobby/servers/routes/mcp/__init__.py                       5      0   100%
src/gobby/servers/routes/mcp/endpoints/__init__.py             5      0   100%
src/gobby/servers/routes/mcp/endpoints/discovery.py          169    111    34%   61-65, 71-73, 76-96, 101-102, 106-123, 128-148, 157-160, 189-190, 209-240, 249-252, 280-281, 299-386, 395-398
src/gobby/servers/routes/mcp/endpoints/execution.py          214    126    41%   52-96, 127-128, 203-271, 278-281, 329, 331-367, 374-377, 414-449, 455-459, 495-497, 505-557, 563-567
src/gobby/servers/routes/mcp/endpoints/registry.py           157    134    15%   42-93, 116-120, 128-135, 151-154, 174-371
src/gobby/servers/routes/mcp/endpoints/server.py             101     52    49%   50-51, 62-65, 84-87, 122-156, 162, 165-168, 208-252, 256-259, 279, 293-296
src/gobby/servers/routes/mcp/hooks.py                         70     21    70%   101, 104, 108, 120-127, 152-157, 170-180
src/gobby/servers/routes/mcp/plugins.py                       42     20    52%   50-72, 97-109, 117-119
src/gobby/servers/routes/mcp/tools.py                         22      0   100%
src/gobby/servers/routes/mcp/webhooks.py                      60     29    52%   49-64, 88-89, 102-142, 150, 152, 155-157
src/gobby/servers/routes/sessions.py                         265    232    12%   46-107, 130-173, 186-210, 231-256, 266-306, 316-361, 368-390, 397-421, 438-485, 498-538, 553-580
src/gobby/servers/websocket.py                               266    266     0%   10-814
src/gobby/sessions/__init__.py                                 3      0   100%
src/gobby/sessions/analyzer.py                               145    145     0%   8-324
src/gobby/sessions/lifecycle.py                              121    121     0%   9-236
src/gobby/sessions/manager.py                                192    171    11%   60-71, 108-165, 189-227, 239, 256-267, 284-308, 323-338, 351-352, 363-364, 376-391, 414-460, 482-525, 537-572
src/gobby/sessions/processor.py                              111    111     0%   8-235
src/gobby/sessions/summary.py                                230    208    10%   59-90, 105-143, 158-239, 252-267, 299-397, 409-430, 443-475, 484-493, 502-532
src/gobby/sessions/transcripts/__init__.py                     9      2    78%   40-41
src/gobby/sessions/transcripts/base.py                        39      5    87%   67, 80, 95, 115, 127
src/gobby/sessions/transcripts/claude.py                     189    170    10%   63-82, 112-199, 217-225, 242-270, 283-360, 382-420, 439-448
src/gobby/sessions/transcripts/codex.py                       65     50    23%   27, 32-41, 48, 51, 54-84, 100-126, 134-143
src/gobby/sessions/transcripts/gemini.py                     129    114    12%   34, 44-80, 90, 97, 110-219, 235-240, 252-261
src/gobby/skills/__init__.py                                   8      0   100%
src/gobby/skills/loader.py                                   266    221    17%   53, 58-59, 84-102, 107-121, 127-151, 164-191, 211-261, 288-328, 335-336, 395-446, 458-485, 507-532, 548-559, 589-616, 644-685
src/gobby/skills/manager.py                                   75     51    32%   70-80, 85, 90, 98-133, 176, 204, 220, 245, 262, 286, 313, 321-340, 348, 363, 381
src/gobby/skills/parser.py                                   125     92    26%   90-99, 103-111, 119-127, 131, 155-156, 171-189, 205-275, 303-309
src/gobby/skills/search.py                                   165     93    44%   60, 134, 139, 144, 158-173, 187-188, 200, 222-243, 263-288, 308-327, 339-358, 366-373, 381-388, 396-399, 407-409, 417, 425, 433, 441-454, 458-463
src/gobby/skills/sync.py                                      44     44     0%   7-120
src/gobby/skills/updater.py                                  126     80    37%   40-41, 143-227, 248-261, 265, 283-298, 302-317, 326-360, 364, 376
src/gobby/skills/validator.py                                117     88    25%   51-52, 56, 60-63, 67, 91-125, 141-152, 168-179, 197-220, 236-246, 263-273, 326-354, 368
src/gobby/storage/__init__.py                                  9      0   100%
src/gobby/storage/agents.py                                   99     52    47%   43, 64, 114-142, 146-147, 151-160, 181-195, 216-230, 234-247, 251-260, 264-273, 292-312, 316-325, 337-346, 350-351, 363-379, 393-409
src/gobby/storage/artifact_classifier.py                     141    105    26%   45, 138-141, 146-175, 180-183, 188-191, 196-203, 208-228, 233-242, 247-255, 260-264, 277-341
src/gobby/storage/artifacts.py                               109     70    36%   39-42, 56, 78, 82-86, 112-144, 155-158, 178-193, 204-212, 236-285, 297
src/gobby/storage/clones.py                                   98     49    50%   51, 69, 91, 120-149, 167-168, 172-173, 177-178, 182-186, 207-233, 265-285, 297-298, 312, 324, 336, 348-349, 366, 378
src/gobby/storage/compaction.py                               23     23     0%   3-63
src/gobby/storage/database.py                                161     65    60%   25-27, 32, 37-41, 46, 70, 75, 80, 84, 88, 92, 96, 106, 110, 114, 141-143, 197-204, 212, 265-291, 303-310, 327-328, 341-344, 352-356, 360, 364
src/gobby/storage/inter_session_messages.py                   46     22    52%   51, 67, 91, 111-123, 142-149, 161-170, 184-194
src/gobby/storage/mcp.py                                     241    187    22%   37, 55, 73-92, 110, 122, 138, 166-209, 220-227, 231-232, 249-260, 274-279, 289-329, 339-344, 360-392, 402-410, 440-546, 563-616, 634-680
src/gobby/storage/memories.py                                202    141    30%   33, 41, 67-81, 98, 121, 124-128, 142-186, 189-192, 196-197, 216-221, 237-244, 254-286, 289-294, 323-350, 360-361, 395-415, 436-457, 482-495, 520-535, 550-558, 577-603
src/gobby/storage/merge_resolutions.py                       171    171     0%   7-550
src/gobby/storage/migrations.py                              104     58    44%   636-653, 663-698, 707-712, 725-730, 749, 794-815, 818, 848-856
src/gobby/storage/projects.py                                 59     24    59%   30, 101-102, 106-107, 116-119, 123-124, 137-156, 165-166
src/gobby/storage/session_messages.py                         76     59    22%   33-91, 112-123, 135-140, 157-177, 189-194, 203-207, 231-251
src/gobby/storage/session_tasks.py                            33     18    45%   29-44, 53-61, 68-87, 94-97
src/gobby/storage/sessions.py                                284    205    28%   61, 104-111, 115, 193-284, 288-289, 312-354, 379-386, 407-417, 429-437, 441-446, 450-455, 459-464, 468-474, 483-494, 498-508, 512-517, 543-562, 583-609, 628-648, 662-663, 675-688, 703-716, 730-741, 753-758, 770-775, 787-814, 830-846, 863-885, 911-928
src/gobby/storage/skills.py                                  273    186    32%   113-119, 151, 181-190, 194-198, 207-218, 248, 306-310, 330-341, 348, 353, 394-403, 454-507, 521-524, 544-561, 612-684, 696-708, 736-741, 746-747, 752-756, 784-799, 810-822, 833-834, 850-862
src/gobby/storage/task_dependencies.py                       109     79    28%   24, 34, 51, 57-78, 82-88, 92-96, 100-104, 108-112, 119-138, 153-181, 185-223
src/gobby/storage/tasks/__init__.py                            5      0   100%
src/gobby/storage/tasks/_aggregates.py                        38     16    58%   30-41, 61-62, 120-121, 176-177
src/gobby/storage/tasks/_crud.py                             211    197     7%   58-186, 209-223, 229-237, 242-243, 288-449
src/gobby/storage/tasks/_id.py                                36     31    14%   32-33, 56-104
src/gobby/storage/tasks/_lifecycle.py                        124    109    12%   47-101, 119-156, 161-167, 172-178, 201-220, 243-274, 302-361
src/gobby/storage/tasks/_manager.py                          179    106    41%   112, 117-124, 139, 150, 163, 195-225, 245, 249, 253, 274, 314-357, 381-391, 407-409, 413-415, 419-421, 440-442, 461-463, 480-483, 507, 544, 570, 598, 621, 707-727, 743-744, 750-752, 764-786, 790-791, 824-876, 890-898
src/gobby/storage/tasks/_models.py                            86     20    77%   45-48, 53-64, 147-153, 232, 292
src/gobby/storage/tasks/_ordering.py                          54     52     4%   21-119
src/gobby/storage/tasks/_path_cache.py                        38     31    18%   30-61, 74-81, 96-110
src/gobby/storage/tasks/_queries.py                          108    100     7%   49-114, 145-237, 258-304, 328-343
src/gobby/storage/tasks/_search.py                            45     31    31%   32-54, 83-90, 99-109, 123, 127, 131-132, 136-138, 142-143
src/gobby/storage/workflow_audit.py                           91     58    36%   44, 49, 79-105, 129, 163, 194-197, 228, 260-265, 294-352, 363-374, 385-393
src/gobby/storage/worktrees.py                               133     78    41%   47-54, 71, 117-142, 158-159, 163-164, 168-172, 176-177, 198-224, 256-276, 288-289, 304, 316, 328, 340-341, 357, 377-392, 415-426, 438-447, 462, 481-501, 523-530, 547
src/gobby/sync/__init__.py                                     3      0   100%
src/gobby/sync/github.py                                      87     67    23%   42-43, 60-62, 98-102, 110, 134-164, 181-218, 243-281, 297-307, 323-333
src/gobby/sync/linear.py                                      73     53    27%   42-43, 60-62, 98-102, 110, 135-169, 186-213, 235-265, 276-284, 295-304
src/gobby/sync/memories.py                                   157    129    18%   58-66, 70-86, 90-97, 101-119, 126-141, 153-163, 172-183, 198-205, 209-210, 214-254, 262-263, 274-284, 288-315
src/gobby/sync/tasks.py                                      288    263     9%   32-38, 54-65, 85-93, 103-115, 131-150, 160-263, 273-453, 459-486, 498-511, 526-543, 560-694, 698-700, 709-718
src/gobby/tasks/__init__.py                                    2      0   100%
src/gobby/tasks/build_verification.py                         60     60     0%   6-193
src/gobby/tasks/commits.py                                   243    243     0%   6-633
src/gobby/tasks/enhanced_validator.py                         67     67     0%   6-219
src/gobby/tasks/escalation.py                                 67     67     0%   6-258
src/gobby/tasks/external_validator.py                        188    188     0%   11-760
src/gobby/tasks/issue_extraction.py                           65     65     0%   6-164
src/gobby/tasks/tree_builder.py                              103    103     0%   8-263
src/gobby/tasks/validation.py                                273    239    12%   99-109, 125-133, 149-159, 177-185, 203-211, 228-257, 275-297, 313-335, 367-419, 440-469, 489-495, 507-516, 543-651, 670-723
src/gobby/tasks/validation_history.py                         99     69    30%   61, 87-109, 120-127, 138-148, 156-162, 174-180, 214-239, 258-263, 281-298, 318-354
src/gobby/tasks/validation_models.py                          29      4    86%   53, 78-81
src/gobby/tools/__init__.py                                    0      0   100%
src/gobby/tools/summarizer.py                                105     81    23%   64-74, 87-134, 148-168, 187-251
src/gobby/utils/__init__.py                                    1      0   100%
src/gobby/utils/daemon_client.py                              68     47    31%   93-115, 128-136, 157-176, 197-205, 209-217, 229-230
src/gobby/utils/git.py                                        79     65    18%   38-62, 76-95, 110-122, 149-180, 197-205, 220-222
src/gobby/utils/id.py                                         14     11    21%   24-38
src/gobby/utils/json_helpers.py                               58     49    16%   45-82, 97-109, 148-161
src/gobby/utils/logging.py                                   137    137     0%   8-376
src/gobby/utils/machine_id.py                                 48     48     0%   7-135
src/gobby/utils/metrics.py                                   206     87    58%   42, 46, 50, 74-80, 256, 278, 305, 338-342, 352-356, 366-370, 382, 393, 402-422, 432-437, 447-450, 460-465, 475-480, 489-490, 518-556, 568-572
src/gobby/utils/project_context.py                            68     41    40%   29, 37, 60, 68-70, 89-100, 113-114, 127, 140-154, 167-181
src/gobby/utils/project_init.py                              113     87    23%   31-42, 70-125, 151-218, 244-263
src/gobby/utils/status.py                                    146    146     0%   7-282
src/gobby/utils/validation.py                                 32     32     0%   3-76
src/gobby/utils/version.py                                     6      0   100%
src/gobby/workflows/__init__.py                                2      0   100%
src/gobby/workflows/actions.py                               195     46    76%   161-174, 179-190, 263, 266, 269, 274, 277, 282, 285, 288, 304, 313, 321, 329, 342, 347, 355, 364, 367, 370, 378, 392-401
src/gobby/workflows/approval_flow.py                          53     46    13%   48-138
src/gobby/workflows/artifact_actions.py                       53     41    23%   31-51, 69-104, 119, 129
src/gobby/workflows/audit_helpers.py                          27     20    26%   27-38, 52-64, 76-86, 99-110
src/gobby/workflows/autonomous_actions.py                     60     50    17%   38-49, 69-83, 113-132, 157-169, 193-220, 242-251, 271-276
src/gobby/workflows/context_actions.py                       223    207     7%   47-188, 212-225, 247-335, 350-361, 374-441, 450, 464, 479
src/gobby/workflows/definitions.py                            76      5    93%   65, 85-88
src/gobby/workflows/detection_helpers.py                     117    109     7%   44-146, 162-172, 191-236, 260-276, 294-306
src/gobby/workflows/enforcement/__init__.py                    5      0   100%
src/gobby/workflows/enforcement/blocking.py                  125    109    13%   48, 64-70, 88-104, 124-131, 167-203, 266-377
src/gobby/workflows/enforcement/commit_policy.py             102     94     8%   38-54, 81-150, 189-283
src/gobby/workflows/enforcement/handlers.py                  101     85    16%   50-68, 83-99, 112-118, 131, 147-169, 190-197, 222-263, 283-300
src/gobby/workflows/enforcement/task_policy.py               182    173     5%   61-205, 246-399, 444-534
src/gobby/workflows/engine.py                                208    161    23%   80-290, 298-325, 331-358, 367, 375, 396, 405, 413, 423-424, 440, 453, 466, 478, 482-484, 488, 492, 496, 521-585
src/gobby/workflows/evaluator.py                             306    263    14%   38-43, 61-68, 90-116, 121-134, 160-176, 225-226, 241-250, 263-467, 473-534, 546-588, 600-608, 620-660, 699-775
src/gobby/workflows/git_utils.py                              80     70    12%   26-35, 47-64, 73-103, 118-161, 182-202
src/gobby/workflows/hooks.py                                  82     67    18%   31-38, 54-79, 86-130, 138-169, 194-210
src/gobby/workflows/lifecycle_evaluator.py                   229    217     5%   59-72, 97-249, 279-425, 465-625
src/gobby/workflows/llm_actions.py                            35     28    20%   36-70, 85-92
src/gobby/workflows/loader.py                                156    129    17%   52-105, 108-120, 127-141, 148-168, 189-229, 247-299, 306-307, 329-346
src/gobby/workflows/mcp_actions.py                            25     20    20%   37-63, 72
src/gobby/workflows/memory_actions.py                        151    132    13%   16, 28-33, 45-50, 78-136, 164-252, 267-283, 314-357, 374, 381, 386, 402-407, 423, 428
src/gobby/workflows/premature_stop.py                         52     45    13%   51-156
src/gobby/workflows/safe_evaluator.py                        110     84    24%   30-32, 35-38, 41-43, 71-72, 76-80, 84-88, 92-101, 105-112, 116-127, 131, 136-157, 161-170, 174-179, 183, 187, 191
src/gobby/workflows/session_actions.py                        61     48    21%   36-87, 107-119, 131-139, 156-158, 173, 183
src/gobby/workflows/state_actions.py                          59     45    24%   28-40, 53-57, 71-78, 94-112, 124-127, 138, 147, 155-168, 175, 182
src/gobby/workflows/state_manager.py                          22     10    55%   21-55, 59, 104
src/gobby/workflows/stop_signal_actions.py                    49     39    20%   41-83, 104-106, 126-132, 159-163, 177-186, 194-203, 211-218
src/gobby/workflows/summary_actions.py                       228    210     8%   34-50, 59-89, 94-126, 144-166, 171-189, 215-270, 300-386, 418-437, 447-451, 464, 482-519
src/gobby/workflows/task_actions.py                           70     70     0%   9-243
src/gobby/workflows/task_sync_actions.py                     109     95    13%   37-53, 74-90, 121-168, 194-230, 256-285, 294, 303, 312, 326, 339
src/gobby/workflows/templates.py                              24     13    46%   16, 33-41, 47-52
src/gobby/workflows/todo_actions.py                           46     37    20%   33-46, 62-88, 97, 109-113
src/gobby/workflows/webhook.py                                95     95     0%   8-223
src/gobby/workflows/webhook_actions.py                        67     61     9%   49-154, 173
src/gobby/workflows/webhook_executor.py                      124    124     0%   8-393
src/gobby/worktrees/__init__.py                                2      2     0%   3-5
src/gobby/worktrees/git.py                                   242    242     0%   3-690
src/gobby/worktrees/merge/__init__.py                          3      3     0%   3-12
src/gobby/worktrees/merge/conflict_parser.py                  79     79     0%   7-167
src/gobby/worktrees/merge/resolver.py                        162    162     0%   10-485
----------------------------------------------------------------------------------------
TOTAL                                                      39274  32822    16%
Coverage HTML written to dir htmlcov
=========================== short test summary info ============================
ERROR tests/servers/test_http_coverage.py::TestAdminEndpoints::test_status_check_running_true
ERROR tests/servers/test_http_coverage.py::TestHooksEndpoints::test_execute_hook_without_hook_manager
=================== 1 failed, 69 passed, 2 errors in 47.19s ====================
