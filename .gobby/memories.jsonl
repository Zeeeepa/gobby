{"id": "mm-86733813", "content": "The gobby project uses a task management system with MCP tool `mcp__gobby__call_tool` for closing tasks. The close_task operation requires a 'reason' parameter (not 'resolution'), and task closure is only possible after commits are made with the commit SHA.", "type": "fact", "importance": 0.9, "tags": ["gobby", "task-management", "mcp-tools", "workflow"], "created_at": "2026-01-25T04:09:05.686362+00:00", "updated_at": "2026-01-25T04:09:05.686362+00:00", "source": "session", "source_id": "82c1590d-8051-4ccf-af2c-988867c7e884"}
{"id": "mm-5e7a4810", "content": "The gobby project uses a task management system with MCP tool `mcp__gobby__call_tool` for closing tasks. The close_task operation requires a 'reason' parameter (not 'resolution'), and task closure is only possible after commits are made with the commit SHA.", "type": "fact", "importance": 0.9, "tags": ["gobby", "task-management", "mcp-tools", "workflow"], "created_at": "2026-01-25T04:08:42.982283+00:00", "updated_at": "2026-01-25T04:08:42.982283+00:00", "source": "session", "source_id": "82c1590d-8051-4ccf-af2c-988867c7e884"}
{"id": "mm-3ff49ce3", "content": "Gobby uses ISO 8601 timestamps with 'T' separator (not space) in database and JSON files. The root cause of timestamp issues was using `isoformat(\" \")` instead of `isoformat()` in src/gobby/storage/database.py. When fixing timestamps, normalize existing data from space to T separator format.", "type": "fact", "importance": 0.9, "tags": ["timestamps", "database", "iso8601", "data-migration"], "created_at": "2026-01-25T04:04:50.332116+00:00", "updated_at": "2026-01-25T04:04:50.332116+00:00", "source": "session", "source_id": "1a867b59-ad3d-4075-9020-6293616fbeb2"}
{"id": "mm-269f997a", "content": "Gobby uses ISO 8601 timestamps with 'T' separator (not space) in database and JSON files. The root cause of timestamp issues was using `isoformat(\" \")` instead of `isoformat()` in src/gobby/storage/database.py. When fixing timestamps, normalize existing data from space to T separator format.", "type": "fact", "importance": 0.9, "tags": ["timestamps", "database", "iso8601", "data-migration"], "created_at": "2026-01-25T04:02:56.261015+00:00", "updated_at": "2026-01-25T04:02:56.261015+00:00", "source": "session", "source_id": "1a867b59-ad3d-4075-9020-6293616fbeb2"}
{"id": "mm-9a411c25", "content": "The gobby project uses SQLite with custom datetime adapters. The `_adapt_datetime` function in `database.py` (line 24) uses `isoformat(\" \")` which produces space-separated timestamps like \"2026-01-25 01:43:54\" instead of ISO 8601 standard \"2026-01-25T01:43:54\". This non-standard format can cause timestamp normalization issues in exported JSONL files.", "type": "fact", "importance": 0.9, "tags": ["database", "datetime", "sqlite", "bug-source"], "created_at": "2026-01-25T03:59:31.178992+00:00", "updated_at": "2026-01-25T03:59:31.178992+00:00", "source": "session", "source_id": "8dfb36ae-572d-4a12-a667-0e710b658a2d"}
{"id": "mm-e97a285c", "content": "The gobby project uses SQLite with custom datetime adapters. The `_adapt_datetime` function in `database.py` (line 24) uses `isoformat(\" \")` which produces space-separated timestamps like \"2026-01-25 01:43:54\" instead of ISO 8601 standard \"2026-01-25T01:43:54\". This non-standard format can cause timestamp normalization issues in exported JSONL files.", "type": "fact", "importance": 0.9, "tags": ["database", "datetime", "sqlite", "bug-source"], "created_at": "2026-01-25T03:58:56.473712+00:00", "updated_at": "2026-01-25T03:58:56.473712+00:00", "source": "session", "source_id": "8dfb36ae-572d-4a12-a667-0e710b658a2d"}
{"id": "mm-42c78c93", "content": "The gobby project has a `TaskSyncManager` that handles export from SQLite to JSONL format, triggered via CLI command `gobby tasks sync --export`. Timestamps are written as-is from the database without normalization during export, so fixing timestamps at the database level (via SQL normalization) is more effective than post-processing the JSONL file.", "type": "fact", "importance": 0.85, "tags": ["architecture", "cli", "export", "workflow"], "created_at": "2026-01-25T03:59:31.181324+00:00", "updated_at": "2026-01-25T03:59:31.181324+00:00", "source": "session", "source_id": "8dfb36ae-572d-4a12-a667-0e710b658a2d"}
{"id": "mm-44e91fb4", "content": "The gobby project has a `TaskSyncManager` that handles export from SQLite to JSONL format, triggered via CLI command `gobby tasks sync --export`. Timestamps are written as-is from the database without normalization during export, so fixing timestamps at the database level (via SQL normalization) is more effective than post-processing the JSONL file.", "type": "fact", "importance": 0.85, "tags": ["architecture", "cli", "export", "workflow"], "created_at": "2026-01-25T03:58:56.475053+00:00", "updated_at": "2026-01-25T03:58:56.475053+00:00", "source": "session", "source_id": "8dfb36ae-572d-4a12-a667-0e710b658a2d"}
{"id": "mm-bd311197", "content": "The gobby project has 14 test failures across 4 categories: session message tests (3), git logging tests (10), skill version warnings (2), and E2E daemon timeout (1). Session tests need assertions updated from 'Session enhanced by gobby' to check for 'Gobby Session ID:' and 'External ID:'. Git logging tests require a caplog autouse fixture to capture the gobby.utils.git logger.", "type": "context", "importance": 0.85, "tags": ["test-failures", "gobby", "debugging"], "created_at": "2026-01-25T03:55:42.226242+00:00", "updated_at": "2026-01-25T03:55:42.226242+00:00", "source": "session", "source_id": "f41bfbd1-8db4-4411-af15-7986f3249da4"}
{"id": "mm-5d78c5cf", "content": "The gobby project has 14 test failures across 4 categories: session message tests (3), git logging tests (10), skill version warnings (2), and E2E daemon timeout (1). Session tests need assertions updated from 'Session enhanced by gobby' to check for 'Gobby Session ID:' and 'External ID:'. Git logging tests require a caplog autouse fixture to capture the gobby.utils.git logger.", "type": "context", "importance": 0.85, "tags": ["test-failures", "gobby", "debugging"], "created_at": "2026-01-25T03:55:11.338525+00:00", "updated_at": "2026-01-25T03:55:11.338525+00:00", "source": "session", "source_id": "f41bfbd1-8db4-4411-af15-7986f3249da4"}
{"id": "mm-a74044c1", "content": "gobby syncs require timestamp normalization to ensure all timestamps have timezone suffix (appends 'Z' if missing in src/gobby/sync/tasks.py) and memory deduplication during export (src/gobby/sync/memories.py).", "type": "pattern", "importance": 0.8, "tags": ["gobby", "sync", "timestamps", "deduplication"], "created_at": "2026-01-25T04:17:24.126574+00:00", "updated_at": "2026-01-25T04:17:24.126574+00:00", "source": "session", "source_id": "c9787d92-bd8e-4fcc-a158-05af9147f470"}
{"id": "mm-7d8398f5", "content": "The gobby project uses structured error codes via ToolProxyErrorCode enum (SERVER_NOT_FOUND, INVALID_ARGUMENTS, etc.) in src/gobby/mcp_proxy/models.py, with error classification in tool_proxy.py and backward-compatible fallback string matching in routes/mcp/tools.py.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "error-handling", "mcp-proxy", "structured-errors"], "created_at": "2026-01-25T04:17:24.126037+00:00", "updated_at": "2026-01-25T04:17:24.126037+00:00", "source": "session", "source_id": "c9787d92-bd8e-4fcc-a158-05af9147f470"}
{"id": "mm-41a61c2a", "content": "Memory ID generation in gobby uses '||' delimiter between content and project_id to prevent collisions (e.g., 'abc'+'def' vs 'abcd'+'ef'). This is implemented in src/gobby/storage/memories.py.", "type": "fact", "importance": 0.8, "tags": ["gobby", "memory-system", "id-generation", "collision-prevention"], "created_at": "2026-01-25T04:17:24.123650+00:00", "updated_at": "2026-01-25T04:17:24.123650+00:00", "source": "session", "source_id": "c9787d92-bd8e-4fcc-a158-05af9147f470"}
{"id": "mm-c31f63e6", "content": "Async test methods in the gobby project must be decorated with `@pytest.mark.asyncio`. This is a project-wide convention that was missing from tests/workflows/test_task_enforcement.py in the TestBlockTools class.", "type": "pattern", "importance": 0.8, "tags": ["testing", "pytest", "async", "conventions"], "created_at": "2026-01-25T04:09:05.688321+00:00", "updated_at": "2026-01-25T04:09:05.688321+00:00", "source": "session", "source_id": "82c1590d-8051-4ccf-af2c-988867c7e884"}
{"id": "mm-010003b6", "content": "Async test methods in the gobby project must be decorated with `@pytest.mark.asyncio`. This is a project-wide convention that was missing from tests/workflows/test_task_enforcement.py in the TestBlockTools class.", "type": "pattern", "importance": 0.8, "tags": ["testing", "pytest", "async", "conventions"], "created_at": "2026-01-25T04:08:42.983058+00:00", "updated_at": "2026-01-25T04:08:42.983058+00:00", "source": "session", "source_id": "82c1590d-8051-4ccf-af2c-988867c7e884"}
{"id": "mm-9f86531f", "content": "Git logging tests require a caplog fixture configured with 'gobby.utils.git' logger. Use autouse fixture in conftest.py to configure caplog at the start of each test in test_utils_git.py to capture logger output properly.", "type": "pattern", "importance": 0.8, "tags": ["testing", "logging", "fixtures", "git"], "created_at": "2026-01-25T04:04:50.340569+00:00", "updated_at": "2026-01-25T04:04:50.340569+00:00", "source": "session", "source_id": "edd104f2-b2d8-4d31-a4fa-5799376ae6ec"}
{"id": "mm-f905f7ab", "content": "Skill SKILL.md files must use semantic versioning (e.g., '2.0.0' not '2.0'). Invalid versions cause 'skipping invalid skill' warnings during test execution.", "type": "fact", "importance": 0.8, "tags": ["skills", "versioning", "configuration"], "created_at": "2026-01-25T04:04:50.339375+00:00", "updated_at": "2026-01-25T04:04:50.339375+00:00", "source": "session", "source_id": "edd104f2-b2d8-4d31-a4fa-5799376ae6ec"}
{"id": "mm-7f5d5a3e", "content": "In claiming-tasks/SKILL.md API documentation, the task_id extraction requires accessing a nested 'suggestion' object in the response, not at the top level. The API path pattern is important for skill implementations that interact with task management.", "type": "fact", "importance": 0.8, "tags": ["api-patterns", "skills", "claiming-tasks"], "created_at": "2026-01-25T04:04:50.338321+00:00", "updated_at": "2026-01-25T04:04:50.338321+00:00", "source": "session", "source_id": "1a867b59-ad3d-4075-9020-6293616fbeb2"}
{"id": "mm-990d4ac7", "content": "The _is_plan_file() function in task_enforcement_actions.py should explicitly check `if source != \"claude\"` rather than `if source and source != \"claude\"` to enforce that a source value must be present and not 'claude'. This prevents plan files from being processed without explicit source attribution.", "type": "pattern", "importance": 0.8, "tags": ["validation", "task-enforcement", "source-attribution"], "created_at": "2026-01-25T04:04:50.336988+00:00", "updated_at": "2026-01-25T04:04:50.336988+00:00", "source": "session", "source_id": "1a867b59-ad3d-4075-9020-6293616fbeb2"}
{"id": "mm-d8480438", "content": "Gobby task workflow: make targeted fixes, verify with tests (all must pass), run git operations selectively (stage only relevant files, not unrelated changes), commit with task number format [#XXXX], then use tool to close task. The .gobby/tasks.jsonl file tracks task metadata.", "type": "pattern", "importance": 0.8, "tags": ["workflow", "git-practices", "testing", "task-management"], "created_at": "2026-01-25T04:04:50.336149+00:00", "updated_at": "2026-01-25T04:04:50.336149+00:00", "source": "session", "source_id": "1a867b59-ad3d-4075-9020-6293616fbeb2"}
{"id": "mm-56ae40e4", "content": "Gobby diagnostic skill uses `__diag__` prefix for self-cleaning test artifacts. Cleanup protocol (Step 3-4) must iterate over list_tasks() results and call close_task(task_id, reason='obsolete') or delete_task(task_id) for hard deletion. Similar patterns apply to memories, worktrees, and clones—always search by prefix/tag, iterate results, then clean up individually.", "type": "pattern", "importance": 0.8, "tags": ["gobby-diagnostic", "cleanup", "testing", "MCP-tools"], "created_at": "2026-01-25T04:04:50.335354+00:00", "updated_at": "2026-01-25T04:04:50.335354+00:00", "source": "session", "source_id": "90eefa0c-bedd-4489-bcd4-df7bf8a3cc6b"}
{"id": "mm-28d8d578", "content": "Test fixtures in gobby: protect_production_resources fixture patches load_config in already-imported modules (e.g., gobby.runner, gobby.mcp_proxy.stdio) to use safe_load_config with test DB paths. Must be added to test signature to ensure safe DB is used when instantiating GobbyRunner.", "type": "fact", "importance": 0.8, "tags": ["testing", "fixtures", "safety"], "created_at": "2026-01-25T04:04:50.334561+00:00", "updated_at": "2026-01-25T04:04:50.334561+00:00", "source": "session", "source_id": "90eefa0c-bedd-4489-bcd4-df7bf8a3cc6b"}
{"id": "mm-7e22c013", "content": "Async test methods in gobby test suite (especially in test_task_enforcement.py) require @pytest.mark.asyncio decorator above each async def so pytest-asyncio discovers and runs them correctly. Can also use pytestmark at class level as alternative.", "type": "pattern", "importance": 0.8, "tags": ["testing", "pytest-asyncio", "async"], "created_at": "2026-01-25T04:04:50.333759+00:00", "updated_at": "2026-01-25T04:04:50.333759+00:00", "source": "session", "source_id": "90eefa0c-bedd-4489-bcd4-df7bf8a3cc6b"}
{"id": "mm-a545e466", "content": "Async test methods in gobby test suite (especially in test_task_enforcement.py) require @pytest.mark.asyncio decorator above each async def so pytest-asyncio discovers and runs them correctly. Can also use pytestmark at class level as alternative.", "type": "pattern", "importance": 0.8, "tags": ["testing", "pytest-asyncio", "async"], "created_at": "2026-01-25T04:04:12.026137+00:00", "updated_at": "2026-01-25T04:04:12.026137+00:00", "source": "session", "source_id": "90eefa0c-bedd-4489-bcd4-df7bf8a3cc6b"}
{"id": "mm-f6a8722e", "content": "Test fixtures in gobby: protect_production_resources fixture patches load_config in already-imported modules (e.g., gobby.runner, gobby.mcp_proxy.stdio) to use safe_load_config with test DB paths. Must be added to test signature to ensure safe DB is used when instantiating GobbyRunner.", "type": "fact", "importance": 0.8, "tags": ["testing", "fixtures", "safety"], "created_at": "2026-01-25T04:04:12.025826+00:00", "updated_at": "2026-01-25T04:04:12.025826+00:00", "source": "session", "source_id": "90eefa0c-bedd-4489-bcd4-df7bf8a3cc6b"}
{"id": "mm-da925f09", "content": "Gobby diagnostic skill uses `__diag__` prefix for self-cleaning test artifacts. Cleanup protocol (Step 3-4) must iterate over list_tasks() results and call close_task(task_id, reason='obsolete') or delete_task(task_id) for hard deletion. Similar patterns apply to memories, worktrees, and clones—always search by prefix/tag, iterate results, then clean up individually.", "type": "pattern", "importance": 0.8, "tags": ["gobby-diagnostic", "cleanup", "testing", "MCP-tools"], "created_at": "2026-01-25T04:04:12.024012+00:00", "updated_at": "2026-01-25T04:04:12.024012+00:00", "source": "session", "source_id": "90eefa0c-bedd-4489-bcd4-df7bf8a3cc6b"}
{"id": "mm-c35a5d64", "content": "Gobby task workflow: make targeted fixes, verify with tests (all must pass), run git operations selectively (stage only relevant files, not unrelated changes), commit with task number format [#XXXX], then use tool to close task. The .gobby/tasks.jsonl file tracks task metadata.", "type": "pattern", "importance": 0.8, "tags": ["workflow", "git-practices", "testing", "task-management"], "created_at": "2026-01-25T04:02:56.264086+00:00", "updated_at": "2026-01-25T04:02:56.264086+00:00", "source": "session", "source_id": "1a867b59-ad3d-4075-9020-6293616fbeb2"}
{"id": "mm-3f91e1c8", "content": "The _is_plan_file() function in task_enforcement_actions.py should explicitly check `if source != \"claude\"` rather than `if source and source != \"claude\"` to enforce that a source value must be present and not 'claude'. This prevents plan files from being processed without explicit source attribution.", "type": "pattern", "importance": 0.8, "tags": ["validation", "task-enforcement", "source-attribution"], "created_at": "2026-01-25T04:02:56.263283+00:00", "updated_at": "2026-01-25T04:02:56.263283+00:00", "source": "session", "source_id": "1a867b59-ad3d-4075-9020-6293616fbeb2"}
{"id": "mm-40adbbec", "content": "In claiming-tasks/SKILL.md API documentation, the task_id extraction requires accessing a nested 'suggestion' object in the response, not at the top level. The API path pattern is important for skill implementations that interact with task management.", "type": "fact", "importance": 0.8, "tags": ["api-patterns", "skills", "claiming-tasks"], "created_at": "2026-01-25T04:02:56.262863+00:00", "updated_at": "2026-01-25T04:02:56.262863+00:00", "source": "session", "source_id": "1a867b59-ad3d-4075-9020-6293616fbeb2"}
{"id": "mm-6b0e1503", "content": "Skill SKILL.md files must use semantic versioning (e.g., '2.0.0' not '2.0'). Invalid versions cause 'skipping invalid skill' warnings during test execution.", "type": "fact", "importance": 0.8, "tags": ["skills", "versioning", "configuration"], "created_at": "2026-01-25T04:00:54.888578+00:00", "updated_at": "2026-01-25T04:00:54.888578+00:00", "source": "session", "source_id": "edd104f2-b2d8-4d31-a4fa-5799376ae6ec"}
{"id": "mm-d0bd9cb7", "content": "Git logging tests require a caplog fixture configured with 'gobby.utils.git' logger. Use autouse fixture in conftest.py to configure caplog at the start of each test in test_utils_git.py to capture logger output properly.", "type": "pattern", "importance": 0.8, "tags": ["testing", "logging", "fixtures", "git"], "created_at": "2026-01-25T04:00:54.888148+00:00", "updated_at": "2026-01-25T04:00:54.888148+00:00", "source": "session", "source_id": "edd104f2-b2d8-4d31-a4fa-5799376ae6ec"}
{"id": "mm-0f81f76f", "content": "Gobby daemon runs on two ports: 60887 (primary) and 60888 (secondary). These are the standard ports for the Gobby service.", "type": "fact", "importance": 0.8, "tags": ["gobby", "daemon", "ports", "configuration"], "created_at": "2026-01-25T03:55:42.227210+00:00", "updated_at": "2026-01-25T03:55:42.227210+00:00", "source": "session", "source_id": "9802ab5d-afe8-4c12-a35e-228cedb63faa"}
{"id": "mm-7d7628c7", "content": "Gobby daemon runs on two ports: 60887 (primary) and 60888 (secondary). These are the standard ports for the Gobby service.", "type": "fact", "importance": 0.8, "tags": ["gobby", "daemon", "ports", "configuration"], "created_at": "2026-01-25T03:41:26.415143+00:00", "updated_at": "2026-01-25T03:41:26.415143+00:00", "source": "session", "source_id": "9802ab5d-afe8-4c12-a35e-228cedb63faa"}
{"id": "mm-f4d2816d", "content": "Memory exports in gobby should sanitize user home paths by replacing absolute paths with '~' using _sanitize_content() method (src/gobby/sync/memories.py) to avoid exposing user-specific paths.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "memory-export", "path-sanitization", "privacy"], "created_at": "2026-01-25T04:17:24.127397+00:00", "updated_at": "2026-01-25T04:17:24.127397+00:00", "source": "session", "source_id": "c9787d92-bd8e-4fcc-a158-05af9147f470"}
{"id": "mm-df237db0", "content": "The gobby codebase uses RuntimeError rather than ValueError for runtime conditions (e.g., in src/gobby/search/embeddings.py:121), even when docstrings initially reference ValueError. Ensure error types match their docstring documentation.", "type": "pattern", "importance": 0.75, "tags": ["error-handling", "code-quality", "documentation"], "created_at": "2026-01-25T04:09:05.690788+00:00", "updated_at": "2026-01-25T04:09:05.690788+00:00", "source": "session", "source_id": "82c1590d-8051-4ccf-af2c-988867c7e884"}
{"id": "mm-c0e7ebeb", "content": "Variable shadowing should be avoided in gobby code (e.g., in src/gobby/workflows/summary_actions.py, inner 'content' variables should be renamed to avoid shadowing outer scope variables like 'result_content').", "type": "pattern", "importance": 0.75, "tags": ["code-quality", "variable-naming", "best-practices"], "created_at": "2026-01-25T04:09:05.689824+00:00", "updated_at": "2026-01-25T04:09:05.689824+00:00", "source": "session", "source_id": "82c1590d-8051-4ccf-af2c-988867c7e884"}
{"id": "mm-ad6bb7b1", "content": "Variable shadowing should be avoided in gobby code (e.g., in src/gobby/workflows/summary_actions.py, inner 'content' variables should be renamed to avoid shadowing outer scope variables like 'result_content').", "type": "pattern", "importance": 0.75, "tags": ["code-quality", "variable-naming", "best-practices"], "created_at": "2026-01-25T04:08:42.983864+00:00", "updated_at": "2026-01-25T04:08:42.983864+00:00", "source": "session", "source_id": "82c1590d-8051-4ccf-af2c-988867c7e884"}
{"id": "mm-6d28d35b", "content": "The gobby codebase uses RuntimeError rather than ValueError for runtime conditions (e.g., in src/gobby/search/embeddings.py:121), even when docstrings initially reference ValueError. Ensure error types match their docstring documentation.", "type": "pattern", "importance": 0.75, "tags": ["error-handling", "code-quality", "documentation"], "created_at": "2026-01-25T04:08:42.983483+00:00", "updated_at": "2026-01-25T04:08:42.983483+00:00", "source": "session", "source_id": "82c1590d-8051-4ccf-af2c-988867c7e884"}
{"id": "mm-e3b0c442", "content": "", "type": "fact", "importance": 0.75, "tags": ["embeddings", "error-handling", "API-design"], "created_at": "2026-01-25T04:04:50.344580+00:00", "updated_at": "2026-01-25T04:04:50.344580+00:00", "source": "session", "source_id": "90eefa0c-bedd-4489-bcd4-df7bf8a3cc6b"}
{"id": "mm-96e9d131", "content": "Test assertions for session messages must check for both 'Gobby Session ID:' and 'External ID:' strings in output. This applies to tests in test_event_handlers.py and test_hooks_manager.py.", "type": "pattern", "importance": 0.75, "tags": ["testing", "assertions", "session-messages"], "created_at": "2026-01-25T04:04:50.343774+00:00", "updated_at": "2026-01-25T04:04:50.343774+00:00", "source": "session", "source_id": "edd104f2-b2d8-4d31-a4fa-5799376ae6ec"}
{"id": "mm-e3c99e86", "content": "E2E tests in conftest.py should include early failure detection with a 0.5s delay and polling check. Timeout error messages should include exit codes for better debugging.", "type": "pattern", "importance": 0.75, "tags": ["e2e-testing", "error-handling", "debugging"], "created_at": "2026-01-25T04:04:50.342982+00:00", "updated_at": "2026-01-25T04:04:50.342982+00:00", "source": "session", "source_id": "edd104f2-b2d8-4d31-a4fa-5799376ae6ec"}
{"id": "mm-c3dd8d83", "content": "In gobby.search.embeddings: generate_embeddings() returns empty list on empty input and raises RuntimeError on failure; generate_embedding() is a single-item wrapper that must raise RuntimeError (not ValueError) when result is empty to maintain exception type consistency for callers.", "type": "fact", "importance": 0.75, "tags": ["embeddings", "error-handling", "API-design"], "created_at": "2026-01-25T04:04:50.342168+00:00", "updated_at": "2026-01-25T04:04:50.342168+00:00", "source": "session", "source_id": "90eefa0c-bedd-4489-bcd4-df7bf8a3cc6b"}
{"id": "mm-4a483fab", "content": "In gobby.workflows.summary_actions.format_turns_for_llm(), avoid variable shadowing: when processing tool_result blocks, extract content to a distinct variable name (e.g., result_content or block_content) rather than reusing the outer 'content' variable. This prevents scope confusion in nested isinstance() checks and content transformations.", "type": "pattern", "importance": 0.75, "tags": ["code-quality", "variable-naming", "scope"], "created_at": "2026-01-25T04:04:50.341374+00:00", "updated_at": "2026-01-25T04:04:50.341374+00:00", "source": "session", "source_id": "90eefa0c-bedd-4489-bcd4-df7bf8a3cc6b"}
{"id": "mm-38f1e591", "content": "In gobby.workflows.summary_actions.format_turns_for_llm(), avoid variable shadowing: when processing tool_result blocks, extract content to a distinct variable name (e.g., result_content or block_content) rather than reusing the outer 'content' variable. This prevents scope confusion in nested isinstance() checks and content transformations.", "type": "pattern", "importance": 0.75, "tags": ["code-quality", "variable-naming", "scope"], "created_at": "2026-01-25T04:04:12.025427+00:00", "updated_at": "2026-01-25T04:04:12.025427+00:00", "source": "session", "source_id": "90eefa0c-bedd-4489-bcd4-df7bf8a3cc6b"}
{"id": "mm-1800e573", "content": "In gobby.search.embeddings: generate_embeddings() returns empty list on empty input and raises RuntimeError on failure; generate_embedding() is a single-item wrapper that must raise RuntimeError (not ValueError) when result is empty to maintain exception type consistency for callers.", "type": "fact", "importance": 0.75, "tags": ["embeddings", "error-handling", "API-design"], "created_at": "2026-01-25T04:04:12.024974+00:00", "updated_at": "2026-01-25T04:04:12.024974+00:00", "source": "session", "source_id": "90eefa0c-bedd-4489-bcd4-df7bf8a3cc6b"}
{"id": "mm-11967e90", "content": "E2E tests in conftest.py should include early failure detection with a 0.5s delay and polling check. Timeout error messages should include exit codes for better debugging.", "type": "pattern", "importance": 0.75, "tags": ["e2e-testing", "error-handling", "debugging"], "created_at": "2026-01-25T04:00:54.889019+00:00", "updated_at": "2026-01-25T04:00:54.889019+00:00", "source": "session", "source_id": "edd104f2-b2d8-4d31-a4fa-5799376ae6ec"}
{"id": "mm-2d32dd1c", "content": "Test assertions for session messages must check for both 'Gobby Session ID:' and 'External ID:' strings in output. This applies to tests in test_event_handlers.py and test_hooks_manager.py.", "type": "pattern", "importance": 0.75, "tags": ["testing", "assertions", "session-messages"], "created_at": "2026-01-25T04:00:54.887390+00:00", "updated_at": "2026-01-25T04:00:54.887390+00:00", "source": "session", "source_id": "edd104f2-b2d8-4d31-a4fa-5799376ae6ec"}
{"id": "mm-a98b7a23", "content": "The user prefers database-first approaches for data consistency fixes over post-processing text files. When fixing timestamp format issues, normalize at the source (SQLite) then regenerate exports, rather than regex-replacing output files.", "type": "preference", "importance": 0.75, "tags": ["data-integrity", "approach"], "created_at": "2026-01-25T03:59:31.182179+00:00", "updated_at": "2026-01-25T03:59:31.182179+00:00", "source": "session", "source_id": "8dfb36ae-572d-4a12-a667-0e710b658a2d"}
{"id": "mm-7580f93d", "content": "The user prefers database-first approaches for data consistency fixes over post-processing text files. When fixing timestamp format issues, normalize at the source (SQLite) then regenerate exports, rather than regex-replacing output files.", "type": "preference", "importance": 0.75, "tags": ["data-integrity", "approach"], "created_at": "2026-01-25T03:58:56.475527+00:00", "updated_at": "2026-01-25T03:58:56.475527+00:00", "source": "session", "source_id": "8dfb36ae-572d-4a12-a667-0e710b658a2d"}
{"id": "mm-9303799c", "content": "The project uses a memory database system with both in-memory storage and JSONL file persistence. Session hooks may auto-create memories during active sessions, so manual clearing and syncing may be needed to maintain a clean state.", "type": "context", "importance": 0.75, "tags": ["gobby", "memory-system", "architecture", "database"], "created_at": "2026-01-25T03:55:42.228726+00:00", "updated_at": "2026-01-25T03:55:42.228726+00:00", "source": "session", "source_id": "9802ab5d-afe8-4c12-a35e-228cedb63faa"}
