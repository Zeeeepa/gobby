{"id": "mm-a9c13ab0", "content": "Gobby requires explicit task claiming before file edits are permitted. Use create_task with claim: true parameter or claim_task tool to enable write access. The hook system enforces this via PreToolUse validation.", "type": "pattern", "importance": 0.95, "tags": ["task-management", "workflow", "write-access", "hooks"], "created_at": "2026-01-25T17:02:58.234367+00:00", "updated_at": "2026-01-25T17:02:58.234367+00:00", "source": "session", "source_id": "510d507d-f02a-47d5-8b8c-5c8fc2299ab3"}
{"id": "mm-86377881", "content": "gobby-skills is the single source of truth for bundled skills. It contains 24 skills total: 17 original gobby-* skills (gobby-agents, gobby-clones, gobby-diagnostic, gobby-expand, gobby-mcp, gobby-memory, gobby-merge, gobby-metrics, gobby-plan, gobby-sessions, gobby-tasks, gobby-workflows, gobby-worktrees) + 5 helper skills (claiming-tasks, committing-changes, discovering-tools, starting-sessions) + 7 quick task skills (bug, chore, epic, eval, feat, nit, ref). Duplicate skill directories in .claude/skills/gobby-* and .claude/commands/gobby/ should be deleted to maintain single source of truth.", "type": "fact", "importance": 0.95, "tags": ["gobby-skills", "architecture", "skill-organization"], "created_at": "2026-01-25T18:18:01.196567+00:00", "updated_at": "2026-01-25T18:18:01.196567+00:00", "source": "session", "source_id": "8ba09a43-3c3f-442c-9cdf-555cb2f38851"}
{"id": "mm-052d36a2", "content": "In gobby's logging configuration, setup_file_logging() sets propagate=False on the gobby package logger to prevent duplicate logs. This breaks pytest's caplog fixture because caplog captures via root logger handlers and depends on propagation. Tests need either a fixture enabling propagate=True during test execution, or should avoid using caplog.at_level(logger='gobby.utils.git') in favor of capturing all logs.", "type": "context", "importance": 0.95, "tags": ["logging", "testing", "caplog", "pytest", "gobby-logger-config"], "created_at": "2026-01-25T20:04:09.517652+00:00", "updated_at": "2026-01-25T20:04:09.517652+00:00", "source": "session", "source_id": "4042c9be-18da-4d31-9039-027a93af8c78"}
{"id": "mm-a3743a20", "content": "The gobby project uses a multi-CLI installation model with four supported CLIs: Claude, Gemini, Codex, and Antigravity. Workflow files must be maintained in three locations: source shared version (src/gobby/install/shared/workflows/), installed versions for each CLI (.claude/, .gemini/, .codex/, .antigravity/), and project-level versions (.gobby/workflows/).", "type": "fact", "importance": 0.95, "tags": ["architecture", "file-organization", "installation", "multi-cli"], "created_at": "2026-01-26T02:57:07.741841+00:00", "updated_at": "2026-01-26T02:57:07.741841+00:00", "source": "session", "source_id": "1d0c2cb9-eb49-4dc2-8480-b01ade18895e"}
{"id": "mm-1398a1ab", "content": "The gobby project uses a unified spawn_agent API design with these key parameters: prompt (required), agent='generic' (default), isolation='current'|'worktree'|'clone'. Anonymous spawning defaults to 'generic' agent which uses bundled generic-agent.yaml and generic-workflow.yaml templates.", "type": "fact", "importance": 0.95, "tags": ["spawn_agent", "API_design", "gobby", "agent_spawning"], "created_at": "2026-01-26T14:05:26.282092+00:00", "updated_at": "2026-01-26T14:05:26.282092+00:00", "source": "session", "source_id": "dc91e716-6e3a-4958-a18f-599e9bc18341"}
{"id": "mm-5a96d183", "content": "Gobby project uses a unified installer that copies CLI-specific commands via install_cli_content(). Each CLI has its own directory: Claude uses Markdown in src/gobby/install/claude/commands/ → .claude/commands/, Gemini uses TOML in src/gobby/install/gemini/commands/ → .gemini/commands/, and Codex uses Markdown in src/gobby/install/codex/prompts/ → .codex/prompts/.", "type": "fact", "importance": 0.95, "tags": ["architecture", "installer", "multi-cli", "file-paths"], "created_at": "2026-01-26T15:19:56.014629+00:00", "updated_at": "2026-01-26T15:19:56.014629+00:00", "source": "session", "source_id": "1f0eb083-9ebd-4c61-8ea3-0e9fd78037e2"}
{"id": "mm-a1360b29", "content": "Gobby project uses strangler-fig decomposition pattern to refactor large modules. Current targets: actions.py (<400 lines, 49 wrappers remain), tools.py (<100 lines), codex.py (<200 lines), migrations.py (flatten with legacy). Implementation follows /gobby plan skill with Root epic → Phase epics → Feature tasks hierarchy.", "type": "context", "importance": 0.95, "tags": ["gobby", "refactoring", "architecture", "strangler-fig"], "created_at": "2026-01-26T23:05:30.973935+00:00", "updated_at": "2026-01-26T23:05:30.973935+00:00", "source": "session", "source_id": "c939a49c-67ad-433f-bc8f-defdac852772"}
{"id": "mm-345741a5", "content": "The gobby project has significant documentation drift: mcp-tools.md documents only ~20-30% of actual tools (9 entire categories missing), cli-commands.md is missing 13+ command groups, tasks.md documents non-existent tools (expand_task, apply_tdd, analyze_complexity), and memory.md has incorrect tool names (remember→create_memory, add→create). Accuracy fixes should be prioritized before creating new documentation.", "type": "context", "importance": 0.95, "tags": ["documentation", "gobby", "accuracy-issues", "priority"], "created_at": "2026-01-28T16:21:49.019112+00:00", "updated_at": "2026-01-28T16:21:49.019112+00:00", "source": "session", "source_id": "1cd214d0-1e0d-4983-a94a-93a041119ba5"}
{"id": "mm-6138c752", "content": "The gobby project uses a two-tier workflow architecture: meeseeks-box.yaml (parent) spawns child agents using gobby-agents.spawn_agent, while meeseeks.yaml (child) runs ON spawned agents with a specific lifecycle: get_session → claim_task → search_memory → search_context → save_findings → work → summarize → report_to_parent → shutdown.", "type": "fact", "importance": 0.95, "tags": ["workflow-architecture", "meeseeks", "agent-spawning"], "created_at": "2026-01-28T20:38:12.074109+00:00", "updated_at": "2026-01-28T20:38:12.074109+00:00", "source": "session", "source_id": "8cc46e99-2e03-41f8-ba7e-7ad372450e56"}
{"id": "mm-f00646a4", "content": "Gobby uses Pydantic BaseModel for config classes (e.g., SkillsConfig in config/skills.py) and dataclasses for storage models (e.g., Skill in storage/skills.py with source_type, source_path, source_ref fields). Provider abstractions follow ABC pattern with @abstractmethod decorators, matching the LLMProvider style in llm/base.py.", "type": "pattern", "importance": 0.95, "tags": ["architecture", "config", "providers", "models"], "created_at": "2026-02-01T02:12:36.722552+00:00", "updated_at": "2026-02-01T02:12:36.722552+00:00", "source": "session", "source_id": "0c872236-ce01-4ecd-912b-6afdc5dd393f"}
{"id": "mm-19db3616", "content": "The gobby project uses a 'Strangler Fig' refactoring pattern to decompose monolithic modules into smaller, focused components. Phase 1 decomposes session_messages.py into a sessions/ package with specialized modules (_handoff.py, _messages.py, _crud.py, _commits.py, _factory.py). Phase 2 refactors MemoryManager into component classes (SearchCoordinator, MultimodalIngestor, CrossrefService). Phase 3 extracts task_enforcement_actions.py into an enforcement/ package with blocking.py, commit_policy.py, task_policy.py.", "type": "fact", "importance": 0.95, "tags": ["architecture", "refactoring", "decomposition", "strangler-fig"], "created_at": "2026-01-28T02:00:14.079188+00:00", "updated_at": "2026-01-28T02:00:14.079188+00:00", "source": "session", "source_id": "d6068bb9-78b2-4941-9de3-e4e4fe940a4f"}
{"id": "mm-297890e5", "content": "Plan files in `.gobby/plans/` must follow expand-ready format: tasks need explicit `(category: code|config|test|docs|refactor|research|planning|manual)` annotations, `(depends: TaskName)` or `(depends: Phase N)` dependency notation, and a Task Mapping table at the bottom for task references. The `/g expand` command uses this format to auto-generate TDD triplets for code/config tasks.", "type": "pattern", "importance": 0.95, "tags": ["gobby", "plan-format", "expand-command", "task-structure"], "created_at": "2026-01-26T22:45:44.275120+00:00", "updated_at": "2026-01-26T22:45:44.275120+00:00", "source": "session", "source_id": "1b365507-fea8-4662-a6c5-62caef8f48ea"}
{"id": "mm-3ae04725", "content": "Gobby's spawn architecture uses three spawner types (TerminalSpawner, EmbeddedSpawner, HeadlessSpawner) from spawn.py. Agent isolation is handled by WorktreeGitManager and CloneGitManager, with ~350 lines of duplicated spawn logic in spawn_agent_in_worktree and ~300 lines in spawn_agent_in_clone that should be unified.", "type": "fact", "importance": 0.95, "tags": ["architecture", "spawn-system", "git-isolation", "refactoring-target"], "created_at": "2026-01-26T17:18:24.807194+00:00", "updated_at": "2026-01-26T17:18:24.807194+00:00", "source": "session", "source_id": "8d582fd9-8c4b-48bf-949b-3d2f353527c9"}
{"id": "mm-3dc68d19", "content": "The gobby project is transitioning workflows from global (~/.gobby/workflows/) to project-only (.gobby/workflows/) storage. This requires removing global_dirs defaults from WorkflowLoader, eliminating --global flags from CLI, and removing is_global parameters from MCP tools across: loader.py, hook_manager.py, cli/workflows.py, mcp_proxy/tools/workflows.py, and cli/installers/codex.py.", "type": "context", "importance": 0.95, "tags": ["workflows", "architecture-change", "refactoring-scope"], "created_at": "2026-01-25T18:55:39.262251+00:00", "updated_at": "2026-01-25T18:55:39.262251+00:00", "source": "session", "source_id": "598eabaa-1caa-40d8-8166-309b8ff8ba9c"}
{"id": "mm-3860c4e5", "content": "Claude Code doesn't include tool_result in post-tool-use hooks, causing detection_helpers.py to receive empty tool_output dicts. This breaks error detection in detect_task_claim for close_task validation - when close_task fails validation (e.g., 'no_commits_linked'), the empty tool_output passes all error checks and incorrectly clears task_claimed=False.", "type": "fact", "importance": 0.95, "tags": ["claude-code-limitation", "detection_helpers", "close_task", "task_claimed", "bug-root-cause"], "created_at": "2026-01-25T17:15:06.972227+00:00", "updated_at": "2026-01-25T17:15:06.972227+00:00", "source": "session", "source_id": "b08118fe-cfa2-4c04-b92a-d381c05e7eda"}
{"id": "mm-9e7df56a", "content": "The gobby project uses a plugin system (HookPlugin) with hook handlers for BEFORE_TOOL and AFTER_TOOL events. Plugins register workflow actions and conditions, and can enforce code quality checks (ruff, mypy) with auto-fix capabilities.", "type": "fact", "importance": 0.9, "tags": ["gobby", "architecture", "plugins", "hooks"], "created_at": "2026-01-29T02:47:50.778081+00:00", "updated_at": "2026-01-29T02:47:50.778081+00:00", "source": "session", "source_id": "0955b7ef-8dd8-487b-bf7d-27a707d8789d"}
{"id": "mm-2475e827", "content": "Task workflow requires explicit closure: when a task is in_progress, the stop hook will fail with a message directing to close_task before the session can complete. Git commits should reference task IDs in the format '[#XXXX]'.", "type": "pattern", "importance": 0.9, "tags": ["task-management", "workflow", "git-conventions"], "created_at": "2026-01-29T03:40:03.793250+00:00", "updated_at": "2026-01-29T03:40:03.793250+00:00", "source": "session", "source_id": "ba79f495-984c-4cc8-92be-6c352b431d15"}
{"id": "mm-c88d9e7d", "content": "The gobby project uses a task-based workflow where changes must be claimed via task IDs before committing. Task claims are made through an MCP tool, and commitss top-level database columns. Gobby's import strategy should extract these from SkillPort's metadata structure and decide whether to promote them to proper database columns.", "type": "fact", "importance": 0.9, "tags": ["gobby", "skillport", "database-schema", "metadata", "import-strategy"], "created_at": "2026-02-04T23:08:28.069176+00:00", "updated_at": "2026-02-04T23:08:28.069176+00:00", "source": "session", "source_id": "7786b710-a431-44cc-aba7-bff0ec576229"}
{"id": "mm-05096ffa", "content": "The gobby project is standardizing session_id format to 'Accept #N' across the codebase. This involves updating tool definitions, implementation code, and documentation—32 tools were identified that need updates as part of this standardization effort.", "type": "context", "importance": 0.9, "tags": ["gobby", "session_id-standardization", "ongoing-work"], "created_at": "2026-01-29T17:41:53.873807+00:00", "updated_at": "2026-01-29T17:41:53.873807+00:00", "source": "session", "source_id": "a506fc5b-8ab1-46b2-a51d-70c731443a33"}
{"id": "mm-324dd652", "content": "The gobby project has dead code: `read_prompt_from_env()` function and environment variables `GOBBY_PROMPT` and `GOBBY_SYSTEM_PROMPT` are defined but only called in a test file (tests/integration/test_terminal_mode_worktrees.py), not used in actual agent spawning logic. These should be removed as part of decoupling agent spawning from environment variable dependencies.", "type": "fact", "importance": 0.9, "tags": ["gobby", "dead-code", "env-vars", "cleanup", "agent-spawning"], "created_at": "2026-01-29T23:49:24.402457+00:00", "updated_at": "2026-01-29T23:49:24.402457+00:00", "source": "session", "source_id": "bac9e680-2612-49f0-809c-a1d79f478dfe"}
{"id": "mm-9a22b546", "content": "The project has a pre-commit verification process (`Gobby pre-commit verification`) that runs linting checks. All code changes must pass linting before commits are accepted, and unused imports (e.g., F401 violations from ruff) will cause verification failures.", "type": "fact", "importance": 0.9, "tags": ["gobby", "linting", "pre-commit", "verification", "ruff"], "created_at": "2026-01-30T04:36:22.756820+00:00", "updated_at": "2026-01-30T04:36:22.756820+00:00", "source": "session", "source_id": "576ddb2b-5717-412d-bfaa-4a118cf3668e"}
{"id": "mm-2ad2a720", "content": "SkillPort stores alwaysApply and injection_format metadata in nested metadata fields rather than as top-level database columns. Gobby's import strategy should extract these from SkillPort's metadata structure and decide whether to promote them to proper database columns.", "type": "fact", "importance": 0.9, "tags": ["gobby", "skillport", "database-schema", "metadata", "import-strategy"], "created_at": "2026-01-30T04:54:39.993922+00:00", "updated_at": "2026-01-30T04:54:39.993922+00:00", "source": "session", "source_id": "7786b710-a431-44cc-aba7-bff0ec576229"}
{"id": "mm-549f87a4", "content": "The Claude Agent SDK requires the Claude CLI to be installed separately. The SDK implementation should handle API key configuration with a fallback strategy: use ANTHROPIC_API_KEY if provided, otherwise use LiteLLM as the provider.", "type": "fact", "importance": 0.9, "tags": ["claude-agent-sdk", "dependencies", "api-configuration", "gobby"], "created_at": "2026-01-30T05:04:49.410967+00:00", "updated_at": "2026-01-30T05:04:49.410967+00:00", "source": "session", "source_id": "c4057c01-26f2-4c9f-bb02-7a23a7ce74dc"}
{"id": "mm-020dc1d4", "content": "Task closure in gobby's MCP system requires using parameter name 'reason' (not 'comment' or other variants) when closing tasks. Parameter validation is strict and will reject unknown parameters.", "type": "pattern", "importance": 0.9, "tags": ["gobby", "mcp", "task-management", "api-parameters"], "created_at": "2026-01-30T05:36:12.763514+00:00", "updated_at": "2026-01-30T05:36:12.763514+00:00", "source": "session", "source_id": "abdf6562-8f03-4060-9691-0dc9911b674b"}
{"id": "mm-069e6f79", "content": "The gobby project uses a pre-tool hook system (hook_dispatcher.py) that validates commits before task closure. The close_task tool requires a commit_sha parameter and will fail if there are uncommitted changes or hook validation errors.", "type": "fact", "importance": 0.9, "tags": ["gobby", "workflow", "git", "hooks", "task-closure"], "created_at": "2026-01-30T16:29:54.065567+00:00", "updated_at": "2026-01-30T16:29:54.065567+00:00", "source": "session", "source_id": "04bda0d5-3cf3-4466-b393-dbb62e727e8b"}
{"id": "mm-a77ed1f7", "content": "The gobby project uses MCP tools for task management. When closing tasks/epics, a 'reason' parameter is required - omitting it causes a PreToolUse hook error. Always include this parameter when closing items.", "type": "pattern", "importance": 0.9, "tags": ["gobby", "MCP", "task-management", "error-prevention"], "created_at": "2026-02-01T00:05:27.778072+00:00", "updated_at": "2026-02-01T00:05:27.778072+00:00", "source": "session", "source_id": "2546c212-b834-47e9-850a-259017604696"}
{"id": "mm-c13c3c81", "content": "Gobby's UX strategy centers on simplifying workflow actions through omnibus tools. The `inject_context` action consolidates multiple context sources (skills, skill_suggestion, memories) into a single activation pattern, reducing cognitive load for users.", "type": "pattern", "importance": 0.9, "tags": ["gobby", "architecture", "UX", "omnibus-tools"], "created_at": "2026-02-01T00:58:05.040044+00:00", "updated_at": "2026-02-01T00:58:05.040044+00:00", "source": "session", "source_id": "70cd9d8b-3583-4667-8b34-ea439a6c59ff"}
{"id": "mm-69e75435", "content": "There are 155 memories in the database with NULL project_id values that need to be updated to use the project_id from their associated source/session. This is a data integrity issue that requires migration.", "type": "context", "importance": 0.9, "tags": ["gobby", "data-integrity", "migration", "project_id"], "created_at": "2026-01-30T01:28:01.609017+00:00", "updated_at": "2026-01-30T01:28:01.609017+00:00", "source": "session", "source_id": "daf9fa89-b207-4674-acb3-f6c28bebb609"}
{"id": "mm-39e12051", "content": "The gobby project uses a hook system located at .claude/hooks/hook_dispatcher.py that runs pre-tool and stop hooks. The .gobby/ directory should be excluded from CI/CD and pre-commit triggers to prevent hook feedback loops.", "type": "fact", "importance": 0.9, "tags": ["project-structure", "hooks", "gobby-directory", "ci-cd"], "created_at": "2026-01-29T23:21:22.633822+00:00", "updated_at": "2026-01-29T23:21:22.633822+00:00", "source": "session", "source_id": "0d0a35d4-a860-4acd-83a3-4625dac1a658"}
{"id": "mm-8069f195", "content": "The gobby project has 9,218 tests missing pytest markers and 766 fixtures missing type hints. User chose to fix both issues comprehensively rather than scope them partially.", "type": "context", "importance": 0.9, "tags": ["gobby", "testing", "markers", "type-hints", "scope"], "created_at": "2026-01-29T21:55:43.653175+00:00", "updated_at": "2026-01-29T21:55:43.653175+00:00", "source": "session", "source_id": "df3424d0-eb12-487c-9660-a57c1cfdd398"}
{"id": "mm-7cbf9dcc", "content": "The gobby project uses a task-based workflow where changes must be claimed via task IDs before committing. Task claims are made through an MCP tool, and commits should reference the task number in the message format '[#TASKID]'.", "type": "pattern", "importance": 0.9, "tags": ["workflow", "git", "task-management"], "created_at": "2026-01-29T15:07:39.961827+00:00", "updated_at": "2026-01-29T15:07:39.961827+00:00", "source": "session", "source_id": "e8e5ef51-6442-48e1-9e5a-c95723d12bc1"}
{"id": "mm-1f5bd188", "content": "Task workflow in gobby requires creating/claiming a task before making changes, then committing changes with the task ID in the commit message (format: [#TASK_ID]), and finally marking the task complete via MCP tool.", "type": "pattern", "importance": 0.9, "tags": ["workflow", "git", "task-management"], "created_at": "2026-01-29T03:54:53.309229+00:00", "updated_at": "2026-01-29T03:54:53.309229+00:00", "source": "session", "source_id": "a8a64d5c-0dcf-4d6e-ae47-45eda0c13d26"}
{"id": "mm-209ff223", "content": "In the gobby project, when launching a gemini CLI instance in ghostty, the session_id and external_id are automatically available to the instance without needing to be passed as parameters. Avoid over-complicating the spawn flow by passing these values explicitly.", "type": "pattern", "importance": 0.9, "tags": ["gobby", "gemini-cli", "ghostty", "architecture", "spawn-flow"], "created_at": "2026-01-29T03:07:39.922865+00:00", "updated_at": "2026-01-29T03:07:39.922865+00:00", "source": "session", "source_id": "832f7376-6505-444d-bb24-f5d60d15b922"}
{"id": "mm-24bc6cd1", "content": "Gobby project uses a daemon architecture with skill management. Skills are stored in ~/.claude/skills/ directory with SKILL.md files. The daemon needs to be restarted after deleting stale skill references to trigger re-syncing from the authoritative source at src/gobby/install/shared/skills/.", "type": "fact", "importance": 0.9, "tags": ["gobby", "architecture", "daemon", "skills", "file-structure"], "created_at": "2026-01-28T21:50:57.361042+00:00", "updated_at": "2026-01-28T21:50:57.361042+00:00", "source": "session", "source_id": "bf024d3e-66a5-4af6-a500-ac36456674a3"}
{"id": "mm-37cf3f95", "content": "The meeseeks-box workflow pattern for parent-child task coordination is: (1) spawn_agent() to create child, (2) wait_for_task() to block until child completes, (3) poll_messages() to retrieve child's completion report, (4) check task_tree_complete to determine if loop should continue.", "type": "pattern", "importance": 0.9, "tags": ["meeseeks-box", "workflow-pattern", "task-coordination"], "created_at": "2026-01-28T21:42:57.062472+00:00", "updated_at": "2026-01-28T21:42:57.062472+00:00", "source": "session", "source_id": "19a449c7-bfa1-4882-825f-16bc3709efa0"}
{"id": "mm-1bc61281", "content": "The gobby task system provides `wait_for_task(task_id, timeout=600, poll_interval=5.0)` tool that blocks a parent agent until a child task reaches 'closed' status. This tool handles internal polling at the specified interval, eliminating the need for manual polling loops in the meeseeks-box workflow pattern.", "type": "fact", "importance": 0.9, "tags": ["gobby-tasks", "wait_for_task", "task-coordination", "meeseeks-box"], "created_at": "2026-01-28T21:21:37.660206+00:00", "updated_at": "2026-01-28T21:21:37.660206+00:00", "source": "session", "source_id": "19a449c7-bfa1-4882-825f-16bc3709efa0"}
{"id": "mm-45736537", "content": "Gobby uses database migrations with a BASELINE_VERSION constant and numbered migration tuples. Migrations are stored in src/gobby/storage/migrations.py. The database schema version is tracked in a migrations table with timestamps. When the database version falls behind BASELINE_VERSION or available migrations, the application will error with 'Database version X is older than baseline Y'.", "type": "fact", "importance": 0.9, "tags": ["database", "migrations", "architecture"], "created_at": "2026-01-28T21:18:58.458643+00:00", "updated_at": "2026-01-28T21:18:58.458643+00:00", "source": "session", "source_id": "b9ce4431-a610-4889-a33d-877ba34aba2e"}
{"id": "mm-9b6b96b0", "content": "SkillSourceType is a Literal enum with values ['local', 'github', 'url', 'zip', 'filesystem']. When extending for hub support, add 'hub' as a new source type and track hub metadata via hub_id, hub_name, and hub_slug fields on the Skill dataclass.", "type": "fact", "importance": 0.9, "tags": ["skills", "hubs", "data-model"], "created_at": "2026-01-28T20:13:58.428482+00:00", "updated_at": "2026-01-28T20:13:58.428482+00:00", "source": "session", "source_id": "0c872236-ce01-4ecd-912b-6afdc5dd393f"}
{"id": "mm-466fccee", "content": "MemoryManager.get_related() must be async and requires await when calling CrossrefService.get_related(). The remember() method also needs to await create_crossrefs() calls to handle async operations correctly.", "type": "fact", "importance": 0.9, "tags": ["memory", "async", "gobby-core", "critical-fix"], "created_at": "2026-01-28T16:47:06.176928+00:00", "updated_at": "2026-01-28T16:47:06.176928+00:00", "source": "session", "source_id": "3b010b4a-a71b-40be-871a-624cec1dc2a8"}
{"id": "mm-028cabf8", "content": "Critical tool/command name mismatches in gobby: memory tool 'remember' should be 'create_memory', memory CLI 'add' should be 'create', task sync flag changed from --direction to --import/--export. These affect both documentation and user workflows.", "type": "fact", "importance": 0.9, "tags": ["gobby", "tools", "naming", "api-changes"], "created_at": "2026-01-28T16:22:28.211840+00:00", "updated_at": "2026-01-28T16:22:28.211840+00:00", "source": "session", "source_id": "1cd214d0-1e0d-4983-a94a-93a041119ba5"}
{"id": "mm-350bd29b", "content": "The gobby project uses a task system that requires commits to be linked when closing tasks. Tasks must be closed with close_task() before the session can stop, and the commit SHA should be provided when closing.", "type": "fact", "importance": 0.9, "tags": ["task_system", "workflow", "commits"], "created_at": "2026-01-28T16:09:54.860403+00:00", "updated_at": "2026-01-28T16:09:54.860403+00:00", "source": "session", "source_id": "e33e8d96-853e-4a5e-98f3-b561d1bad449"}
{"id": "mm-43d90f86", "content": "The gobby project uses a modular enforcement system in src/gobby/workflows/enforcement/ with separate modules for blocking.py, commit_policy.py, task_policy.py, and handlers.py. The __init__.py exports all functions for clean external imports. This replaced a 1,573-line facade file (task_enforcement_actions.py) that was removed during refactoring.", "type": "fact", "importance": 0.9, "tags": ["architecture", "enforcement", "module-structure", "refactoring"], "created_at": "2026-01-28T03:42:09.792428+00:00", "updated_at": "2026-01-28T03:42:09.792428+00:00", "source": "session", "source_id": "a4edf892-add1-4cad-95e0-aea0bb4459cb"}
{"id": "mm-2f427aa5", "content": "When decomposing modules into packages, gobby follows a pattern: create package with __init__.py, extract concerns into focused modules with underscore prefixes (_handoff.py, _messages.py, etc.), create _factory.py for object construction, update registries.py and test imports, then delete the original monolithic file.", "type": "pattern", "importance": 0.9, "tags": ["refactoring", "package-structure", "module-organization"], "created_at": "2026-01-28T01:59:09.437089+00:00", "updated_at": "2026-01-28T01:59:09.437089+00:00", "source": "session", "source_id": "d6068bb9-78b2-4941-9de3-e4e4fe940a4f"}
{"id": "mm-534698e2", "content": "gobby session references use #N notation (e.g., #6294) that require project_id resolution via get_project_context() in session_messages.py for get_session and get_handoff_context tools.", "type": "fact", "importance": 0.9, "tags": ["session-messages.py", "project-context", "API-patterns"], "created_at": "2026-01-27T23:41:42.513704+00:00", "updated_at": "2026-01-27T23:41:42.513704+00:00", "source": "session", "source_id": "39a10997-65a2-4b26-a7ba-fe39b764ea3d"}
{"id": "mm-1fa2a84f", "content": "Deprecated tools to remove: `start_agent` and `spawn_agent_in_clone`. Tests should use the unified `spawn_agent` tool instead. The old test file `tests/integration/test_start_agent_tool.py` is obsolete.", "type": "context", "importance": 0.9, "tags": ["api-deprecation", "spawn_agent", "testing"], "created_at": "2026-01-27T23:38:12.463391+00:00", "updated_at": "2026-01-27T23:38:12.463391+00:00", "source": "session", "source_id": "5d29ae81-e961-4da4-af8a-20467e7e654e"}
{"id": "mm-23e5ed66", "content": "Gobby project uses a custom hook system with hook_dispatcher.py that enforces task lifecycle management. Tasks must be explicitly closed with close_task() before the stop hook will succeed, and attempting to stop with in_progress tasks will fail.", "type": "fact", "importance": 0.9, "tags": ["gobby", "hooks", "task-management", "workflow"], "created_at": "2026-01-27T22:58:27.313276+00:00", "updated_at": "2026-01-27T22:58:27.313276+00:00", "source": "session", "source_id": "4e1df24d-0242-427d-a7cf-36d77a4de313"}
{"id": "mm-4d2805d8", "content": "Gobby uses a strangler fig pattern for safe migrations: BASELINE_SCHEMA_V2 at v75 is the new flattened baseline for fresh installs, controlled by use_flattened_baseline feature flag (defaulting to True). Pre-v75 databases use legacy migrations from migrations_legacy.py. When current_version < BASELINE_VERSION and legacy migrations unavailable, should raise exception instead of silently returning 0.", "type": "fact", "importance": 0.9, "tags": ["migration", "database", "strangler-fig", "baseline"], "created_at": "2026-01-27T22:53:22.007540+00:00", "updated_at": "2026-01-27T22:53:22.007540+00:00", "source": "session", "source_id": "935114fe-ccaa-4dfc-8f95-99956c976c4f"}
{"id": "mm-02e9f062", "content": "The gobby project has a task system that requires commits to be linked before tasks can be closed. Task closure is enforced by a stop hook that prevents session termination until in_progress tasks are resolved.", "type": "fact", "importance": 0.9, "tags": ["workflow", "task-management", "git"], "created_at": "2026-01-27T19:10:01.153000+00:00", "updated_at": "2026-01-27T19:10:01.153000+00:00", "source": "session", "source_id": "3caecb5d-d60f-4db8-a133-af7d943ec216"}
{"id": "mm-260c031c", "content": "The gobby project recently underwent a config module reorganization where exports were cleaned up. Test files now need imports updated to the new module locations: LLMProviderConfig and LLMProvidersConfig from gobby.config.llm_providers, SessionSummaryConfig and TitleSynthesisConfig from gobby.config.sessions, WebSocketBroadcastConfig and HookExtensionsConfig from gobby.config.extensions.", "type": "fact", "importance": 0.9, "tags": ["imports", "config-reorganization", "test-fixes"], "created_at": "2026-01-27T18:44:07.564618+00:00", "updated_at": "2026-01-27T18:44:07.564618+00:00", "source": "session", "source_id": "92ef8efc-a5d6-4b8c-b235-59c8c08b0a8b"}
{"id": "mm-1760942f", "content": "config/app.py re-exports 31 symbols from 10 extracted modules. 95% of import traffic comes from just 2 symbols (DaemonConfig and load_config), with 10+ symbols having zero importers. DaemonConfig and load_config are genuinely app-level and should stay; unused re-exports can be removed with updates to ~12 files.", "type": "fact", "importance": 0.9, "tags": ["gobby", "config", "refactoring", "import-analysis"], "created_at": "2026-01-27T18:16:41.567852+00:00", "updated_at": "2026-01-27T18:16:41.567852+00:00", "source": "session", "source_id": "a1199286-0860-4cd3-aeb8-366a288db4b4"}
{"id": "mm-2795b5b6", "content": "The doctor skill in gobby supports four flag-based modes: --functional (basic checks), --security (Phase 5 Security Audit), --all (both), and --cleanup. The Phase 5 Security Audit includes 8 checks: file permissions, plaintext secrets, HTTP binding, webhooks, debug logging, plugins, MCP URLs, and permissive skills.", "type": "fact", "importance": 0.9, "tags": ["gobby", "doctor-skill", "security-audit", "flags"], "created_at": "2026-01-27T17:51:58.896735+00:00", "updated_at": "2026-01-27T17:51:58.896735+00:00", "source": "session", "source_id": "448cabcd-183a-473e-a6ae-a6050b5c6d96"}
{"id": "mm-e95e2a31", "content": "The project is undergoing a 'Strangler Fig Decomposition' refactor with 15 subtasks organized in 3 phases: (1) Actions Withering - refactor ActionExecutor, (2) Tools Decomposition - migrate endpoints to modular structure, (3) Codex Decomposition - separate codex implementation into codex_impl/. Tasks have explicit dependencies that should be respected during execution.", "type": "context", "importance": 0.9, "tags": ["refactoring", "architecture", "decomposition", "priorities"], "created_at": "2026-01-27T01:51:53.471943+00:00", "updated_at": "2026-01-27T01:51:53.471943+00:00", "source": "session", "source_id": "e8d257ca-90d9-4276-b8ce-72d71e05b0bb"}
{"id": "mm-8d9f9da8", "content": "Gobby project uses a skill-based architecture where skills are defined in SKILL.md files located at src/gobby/install/shared/skills/{skill_name}/SKILL.md. Skills have frontmatter (name, description), phases (1-5), subcommands with flags, and security audit sections.", "type": "fact", "importance": 0.9, "tags": ["architecture", "skills", "file-structure"], "created_at": "2026-01-27T01:32:05.864824+00:00", "updated_at": "2026-01-27T01:32:05.864824+00:00", "source": "session", "source_id": "e0e85afe-8841-425f-ba0d-018b5301fb73"}
{"id": "mm-5b0e6007", "content": "The gobby project uses a migration system with a flattened V2 baseline (v75) that can be toggled via a `use_flattened_baseline` flag. New databases default to this flattened baseline which applies v75 in a single step instead of 16 sequential migrations (old baseline + 15 incremental). Both paths produce functionally identical schemas.", "type": "fact", "importance": 0.9, "tags": ["migration", "database", "architecture", "baseline"], "created_at": "2026-01-27T00:15:25.210072+00:00", "updated_at": "2026-01-27T00:15:25.210072+00:00", "source": "session", "source_id": "22fdeb42-a38e-44e4-a7f1-ca4c87da2807"}
{"id": "mm-711da950", "content": "The gobby project uses a task management workflow where agents must CREATE a task, then CLAIM it before making file edits. Attempting to edit files without claiming a task first will trigger hook errors. Tasks can be closed with a reason (e.g., 'already_implemented') when there's no commit to link.", "type": "pattern", "importance": 0.9, "tags": ["workflow", "task-management", "gobby-cli", "hooks"], "created_at": "2026-01-27T00:15:05.232744+00:00", "updated_at": "2026-01-27T00:15:05.232744+00:00", "source": "session", "source_id": "8a8d7adb-fc94-45da-9f98-77fae95a85d6"}
{"id": "mm-da278bd9", "content": "Gobby uses a task/epic system (via MCP tool gobby-tasks) with hierarchical structure: parent epics contain child phase epics, which contain implementation tasks. Tasks require commits to be closed and cannot be closed while children are open. Status can be set to 'open' to release tasks for future work.", "type": "fact", "importance": 0.9, "tags": ["task-management", "workflow", "gobby-tasks-mcp"], "created_at": "2026-01-27T00:13:51.517820+00:00", "updated_at": "2026-01-27T00:13:51.517820+00:00", "source": "session", "source_id": "bbde861d-1946-4835-8a53-93a1830483ca"}
{"id": "mm-00a57fc8", "content": "Gobby refactoring execution order: Phase 1 (Actions) → Phase 3 (Tools) → Phase 4 (Codex) → Phase 2 (Migrations). Phase 1 is in-progress with 49 wrapper methods to remove. Phase 2 has detailed sub-plan at migration-flattening.md. Phase 3 requires decomposing tools.py into 4 domain routers.", "type": "pattern", "importance": 0.9, "tags": ["gobby", "refactoring", "task-planning", "phases"], "created_at": "2026-01-26T23:16:16.598649+00:00", "updated_at": "2026-01-26T23:16:16.598649+00:00", "source": "session", "source_id": "c939a49c-67ad-433f-bc8f-defdac852772"}
{"id": "mm-bf7a7539", "content": "The gobby project has a pre-merge-commit hook that blocks automatic merge commits. When merging branches, if the hook fails, manually commit the merge using 'git commit' rather than relying on automatic merge commit creation.", "type": "pattern", "importance": 0.9, "tags": ["git", "merge", "pre-commit-hook", "gobby"], "created_at": "2026-01-26T22:59:23.544337+00:00", "updated_at": "2026-01-26T22:59:23.544337+00:00", "source": "session", "source_id": "b422c481-ba1d-44da-8912-666de487efbf"}
{"id": "mm-6487c5f5", "content": "The gobby project uses a 'strangler fig' migration pattern for schema changes: create a new baseline schema variant (e.g., BASELINE_SCHEMA_V2), add a feature flag to DaemonConfig to branch between old and new paths, test both paths thoroughly, then gradually migrate to the new default. This allows safe rollback if issues arise.", "type": "pattern", "importance": 0.9, "tags": ["migration", "schema", "strangler-fig", "feature-flags", "safety"], "created_at": "2026-01-26T22:45:44.277145+00:00", "updated_at": "2026-01-26T22:45:44.277145+00:00", "source": "session", "source_id": "37010a61-6ffb-495f-b12a-e444c0981eff"}
{"id": "mm-81d8c70c", "content": "The gobby project uses a hook system that validates file modifications. Before writing files, a task must be created and claimed via mcp__gobby__call_tool. The hook dispatcher runs on file writes and requires tasks to be in progress or closed properly.", "type": "pattern", "importance": 0.9, "tags": ["gobby", "file-operations", "task-management", "hooks"], "created_at": "2026-01-26T21:52:14.882072+00:00", "updated_at": "2026-01-26T21:52:14.882072+00:00", "source": "session", "source_id": "0f3bb4a3-6134-46de-8234-d51d676dfbd8"}
{"id": "mm-2e8319e2", "content": "In gobby's conductor module, pricing.py and token_tracker.py are intentionally placed in conductor/ (not a separate metrics/ module) because they are active control plane components that drive orchestration decisions, not passive observability. SessionTokenTracker.can_spawn_agent() gates agent spawning based on budget, and ConductorLoop uses BudgetChecker to throttle the loop when budget is exceeded.", "type": "fact", "importance": 0.9, "tags": ["architecture", "conductor", "budget-management", "cost-control"], "created_at": "2026-01-26T21:16:57.260247+00:00", "updated_at": "2026-01-26T21:16:57.260247+00:00", "source": "session", "source_id": "9ef8d770-7c10-4f8e-800a-a7c749644689"}
{"id": "mm-76ea9a12", "content": "The gobby project uses a task claiming system where agents must claim a task before modifying files related to that task. Tasks can be force-claimed if already claimed by another session, and must be closed via close_task() before the session stops.", "type": "fact", "importance": 0.9, "tags": ["task-system", "workflow", "gobby-architecture"], "created_at": "2026-01-26T17:18:24.813264+00:00", "updated_at": "2026-01-26T17:18:24.813264+00:00", "source": "session", "source_id": "595ef7e1-c5ec-401b-b6c9-cc68eb89acbc"}
{"id": "mm-1a79ebe5", "content": "Gobby plugin loading supports multiple directories via config's `plugin_dirs` with defaults of `['~/.gobby/plugins', '.gobby/plugins']` for global and project-scoped plugins respectively. Currently installation only goes to `~/.gobby/plugins/` but the refactor plan aims to install to `.gobby/plugins/` (project-scoped).", "type": "fact", "importance": 0.9, "tags": ["plugin-system", "configuration", "installation"], "created_at": "2026-01-26T17:18:24.810394+00:00", "updated_at": "2026-01-26T17:18:24.810394+00:00", "source": "session", "source_id": "68fb48cd-e380-4b4d-81c9-932b386a549e"}
{"id": "mm-7710b8a4", "content": "When refactoring Gemini/Codex agent spawning, preserve existing preflight capture logic that creates sessions before agent execution. This is critical for model-specific agents and must not be moved or removed during spawn unification work.", "type": "context", "importance": 0.9, "tags": ["gemini", "codex", "preflight-capture", "backward-compatibility"], "created_at": "2026-01-26T17:11:39.634255+00:00", "updated_at": "2026-01-26T17:11:39.634255+00:00", "source": "session", "source_id": "8d582fd9-8c4b-48bf-949b-3d2f353527c9"}
{"id": "mm-0737f731", "content": "Epic #6086 implemented a unified /gobby router skill system. Key changes: created /gobby router and /g alias, renamed 13 gobby-* skills to short names (agents, tasks, sessions, etc.), added category: core to all 26 gobby skills, and added alwaysApply: true to foundational skills. Updated Claude Code and Gemini adapters to install router skills.", "type": "context", "importance": 0.9, "tags": ["gobby", "router-skills", "architecture", "skill-naming"], "created_at": "2026-01-26T16:15:48.271817+00:00", "updated_at": "2026-01-26T16:15:48.271817+00:00", "source": "session", "source_id": "5f62f7a8-1c13-4a38-a8ed-56585340164c"}
{"id": "mm-556501bf", "content": "LocalSkillManager.get_by_name() needs an `include_global` parameter to match list_skills() behavior. When project_id is set and include_global=True (default), it should first check project-scoped skills, then fall back to global skills. This fixes skill lookup failures.", "type": "pattern", "importance": 0.9, "tags": ["gobby", "skill-lookup", "api-consistency"], "created_at": "2026-01-26T16:06:59.109439+00:00", "updated_at": "2026-01-26T16:06:59.109439+00:00", "source": "session", "source_id": "39053109-12aa-41c0-8293-dded645dbe27"}
{"id": "mm-9415b700", "content": "Gobby is a local-first control plane for AI coding tools. The project uses a task-based workflow system with commit tracking; tasks require linked commits before they can be closed.", "type": "context", "importance": 0.9, "tags": ["gobby", "project-definition", "workflow", "commits"], "created_at": "2026-01-26T15:53:04.659863+00:00", "updated_at": "2026-01-26T15:53:04.659863+00:00", "source": "session", "source_id": "a3a6417e-f8fd-4aae-b2ba-548d04020bf0"}
{"id": "mm-3ec1efab", "content": "Task closure in gobby requires a linked commit before the close operation will succeed - attempting to close without commits returns 'no_commits_linked' error. Workflow: make changes → commit with [#N] format → close task with commit SHA.", "type": "context", "importance": 0.9, "tags": ["workflow", "task-closure", "git-integration"], "created_at": "2026-01-26T15:36:11.989249+00:00", "updated_at": "2026-01-26T15:36:11.989249+00:00", "source": "session", "source_id": "5ba0e7a1-f81a-495c-839e-d2710f7f3c64"}
{"id": "mm-1a9b788e", "content": "Gobby project uses task numbering format [#N] in commit messages (e.g., '[#6089] Add Skills display to CLI status output'). This format is required and referenced in task closure workflows.", "type": "pattern", "importance": 0.9, "tags": ["commit-convention", "gobby", "task-tracking"], "created_at": "2026-01-26T15:30:12.064613+00:00", "updated_at": "2026-01-26T15:30:12.064613+00:00", "source": "session", "source_id": "5ba0e7a1-f81a-495c-839e-d2710f7f3c64"}
{"id": "mm-ba502f51", "content": "HTTPServer in gobby doesn't have direct skill_manager or skills_manager attributes. Skills are accessed via the gobby-skills registry through server._internal_manager, which contains a storage instance (LocalSkillManager) with access to skill listing and metadata.", "type": "fact", "importance": 0.9, "tags": ["gobby", "HTTPServer", "skills", "architecture", "registry-access"], "created_at": "2026-01-26T15:25:39.847749+00:00", "updated_at": "2026-01-26T15:25:39.847749+00:00", "source": "session", "source_id": "abc2700e-a3b7-49e6-8af8-daaf3a0607cb"}
{"id": "mm-23fdda6d", "content": "Gobby skill routing uses a two-part pattern: /gobby routes to Gobby skills via search_skills() → get_skill(), while /gobby mcp <server> routes to MCP servers via list_tools() → call_tool(). /g is a shorthand alias with identical content.", "type": "pattern", "importance": 0.9, "tags": ["routing", "architecture", "slash-commands"], "created_at": "2026-01-26T15:19:56.015427+00:00", "updated_at": "2026-01-26T15:19:56.015427+00:00", "source": "session", "source_id": "1f0eb083-9ebd-4c61-8ea3-0e9fd78037e2"}
{"id": "mm-d1a35f77", "content": "SkillChangeNotifier pattern: Wire change listeners to LocalSkillManager to automatically trigger search index updates on any skill mutation (create/update/delete), eliminating the need for manual re-indexing calls in individual MCP tool handlers.", "type": "pattern", "importance": 0.9, "tags": ["architecture", "skill-management", "search-indexing", "observer-pattern"], "created_at": "2026-01-26T15:17:19.158829+00:00", "updated_at": "2026-01-26T15:17:19.158829+00:00", "source": "session", "source_id": "e3289ba4-649b-4c70-bae6-4d4d88f9bb91"}
{"id": "mm-326054bf", "content": "Gobby has 13 skills with `gobby-` prefix that should be renamed to remove the prefix for consistency. The skills are organized in `/commands/gobby/` directory and need individual renames plus SKILL.md updates.", "type": "fact", "importance": 0.9, "tags": ["gobby", "skills", "refactoring", "naming-convention"], "created_at": "2026-01-26T15:06:08.687854+00:00", "updated_at": "2026-01-26T15:06:08.687854+00:00", "source": "session", "source_id": "7a81fcd4-081e-46e1-816a-7c19660112ae"}
{"id": "mm-79c16332", "content": "Step workflows in gobby require explicit activation via activate_workflow() call before steps execute. The on_enter hook only runs after activation, not immediately when a child agent is spawned. Parent workflows (like meeseeks-box) must include activation instructions in the spawn prompt.", "type": "pattern", "importance": 0.9, "tags": ["workflows", "meeseeks", "lifecycle", "parent-child"], "created_at": "2026-01-26T14:25:46.470795+00:00", "updated_at": "2026-01-26T14:25:46.470795+00:00", "source": "session", "source_id": "4cb1f535-45d0-476c-92e1-5c11a06e1ef2"}
{"id": "mm-1c18f135", "content": "The gobby project uses a task ID resolution pattern via `resolve_task_id_for_mcp()` function that normalizes flexible task_id formats (N, #N, UUID) into standardized UUIDs. This function is located in the tasks._resolution module and should be used in MCP tool functions that accept task_id parameters.", "type": "pattern", "importance": 0.9, "tags": ["task-resolution", "mcp-tools", "task-id-formats"], "created_at": "2026-01-26T14:12:15.403608+00:00", "updated_at": "2026-01-26T14:12:15.403608+00:00", "source": "session", "source_id": "fd7660c1-b6a1-4b45-81ae-e8d0c7aa074c"}
{"id": "mm-4e6cc838", "content": "The meeseeks pattern consists of two complementary workflows: meeseeks.yaml (child agent workflow with claim → work → report → shutdown cycle) and meeseeks-box.yaml (parent workflow that spawns meeseeks child agents). Both are foundational to the agent orchestration system.", "type": "fact", "importance": 0.9, "tags": ["workflows", "agent-pattern", "orchestration", "meeseeks"], "created_at": "2026-01-26T02:57:47.408685+00:00", "updated_at": "2026-01-26T02:57:47.408685+00:00", "source": "session", "source_id": "1d0c2cb9-eb49-4dc2-8480-b01ade18895e"}
{"id": "mm-5e4dec6c", "content": "Project-scoped features in Gobby (tasks, sessions, workflows, memory tools, semantic search) all require .gobby/project.json and fail with 'No project_id available' error when run without project context. These are core features that differentiate Gobby as an AI coding assistant.", "type": "fact", "importance": 0.9, "tags": ["gobby", "project-context", "core-features", "limitations"], "created_at": "2026-01-26T02:40:00.900594+00:00", "updated_at": "2026-01-26T02:40:00.900594+00:00", "source": "session", "source_id": "98f5698d-646d-409d-8d8f-c997ab736d98"}
{"id": "mm-30645c7e", "content": "Gobby uses ~/.gobby/ directory for its database (gobby-hub.db), config (config.yaml), and other runtime files. When running different versions of gobby, they share this directory and database, which can cause schema compatibility issues. Use GOBBY_HOME environment variable to isolate different gobby instances if needed.", "type": "fact", "importance": 0.9, "tags": ["gobby", "database", "configuration", "environment"], "created_at": "2026-01-25T23:52:00.971538+00:00", "updated_at": "2026-01-25T23:52:00.971538+00:00", "source": "session", "source_id": "2ceaa340-cf01-4208-80b8-dcc482c3992c"}
{"id": "mm-5c3625d8", "content": "User preference for gobby: workflows should be project-scoped only, not stored globally. This architectural decision eliminates the need for fallback behavior to ~/.gobby/workflows/.", "type": "preference", "importance": 0.9, "tags": ["workflows", "user-requirement", "scope"], "created_at": "2026-01-25T18:55:39.265306+00:00", "updated_at": "2026-01-25T18:55:39.265306+00:00", "source": "session", "source_id": "598eabaa-1caa-40d8-8166-309b8ff8ba9c"}
{"id": "mm-8521b454", "content": "The gobby project uses a task-based workflow where agents must claim a task before modifying files. Tasks are created/claimed via mcp__gobby__call_tool, and must be closed with close_task() before the session stops, passing the commit SHA from git.", "type": "pattern", "importance": 0.9, "tags": ["task-workflow", "gobby-mcp", "commit-integration"], "created_at": "2026-01-25T18:39:11.331341+00:00", "updated_at": "2026-01-25T18:39:11.331341+00:00", "source": "session", "source_id": "8acbf4cc-c352-46e6-92f7-1047394972e3"}
{"id": "mm-2bb6bfa4", "content": "LocalTaskManager.get_task() in src/gobby/storage/tasks/_manager.py accepts multiple task ID formats (UUID, #N, N notation) and resolves them internally, but direct comparisons between task.id (UUID) and claimed_task_id values fail if claimed_task_id stores non-UUID formats.", "type": "fact", "importance": 0.9, "tags": ["gobby", "task-management", "id-formats", "bug-pattern"], "created_at": "2026-01-25T18:32:33.161333+00:00", "updated_at": "2026-01-25T18:32:33.161333+00:00", "source": "session", "source_id": "3fe55f9e-069d-470f-ab2f-03ceaf53a6b0"}
{"id": "mm-1a26cb0a", "content": "Task ID comparison bugs exist at _lifecycle.py:199 (claimed_task_id == resolved_id) and task_enforcement_actions.py:963 (t.id == claimed_task_id). These fail when claimed_task_id contains refs like '#6066' instead of UUIDs. Fix: ensure claimed_task_id always stores resolved UUIDs at storage time.", "type": "context", "importance": 0.9, "tags": ["gobby", "bug-location", "task-ids", "comparison"], "created_at": "2026-01-25T18:19:24.504439+00:00", "updated_at": "2026-01-25T18:19:24.504439+00:00", "source": "session", "source_id": "3fe55f9e-069d-470f-ab2f-03ceaf53a6b0"}
{"id": "mm-0023cb52", "content": "In detection_helpers.py, the post-tool-use hook must guard against empty `tool_output` when processing `close_task` calls, as Claude Code doesn't include `tool_result` in post-tool-use hooks, which can cause incorrect state clearing (task_claimed flag). The MCP proxy's close_task already handles state clearing for successful closes.", "type": "pattern", "importance": 0.9, "tags": ["gobby", "detection_helpers.py", "state-management", "bug-prevention"], "created_at": "2026-01-25T17:40:55.851282+00:00", "updated_at": "2026-01-25T17:40:55.851282+00:00", "source": "session", "source_id": "10803605-e46c-4c09-8020-d6a4d5077a57"}
{"id": "mm-d7198491", "content": "Gobby has a skill bundling/syncing mechanism: `get_bundled_skills_path()` returns `src/gobby/install/shared/skills/` and `sync_bundled_skills()` loads all skills from that directory and creates them in the database if they don't exist. Skills must be in proper directory format (directory with SKILL.md).", "type": "fact", "importance": 0.9, "tags": ["gobby", "skills", "architecture", "bundling"], "created_at": "2026-01-25T17:40:17.813446+00:00", "updated_at": "2026-01-25T17:40:17.813446+00:00", "source": "session", "source_id": "a6b6cc75-b083-4183-827a-b05d51d5a1d3"}
{"id": "mm-7bf9850b", "content": "In the gobby project's pytest test suite, caplog logging capture requires using `with caplog.at_level(logging.DEBUG, logger=\"module.name\"):` as a context manager around code that generates logs. Using `caplog.set_level()` in autouse fixtures does not properly capture logs and is a broken pattern.", "type": "pattern", "importance": 0.9, "tags": ["testing", "pytest", "caplog", "logging", "gobby"], "created_at": "2026-01-25T16:54:00.252908+00:00", "updated_at": "2026-01-25T16:54:00.252908+00:00", "source": "session", "source_id": "99afe6be-e662-4f5b-a6b0-6c8da124b366"}
{"id": "mm-565a538c", "content": "The gobby project uses a task management system with MCP tool `mcp__gobby__call_tool` for closing tasks. The close_task operation requires a 'reason' parameter (not 'resolution'), and task closure is only possible after commits are made with the commit SHA.", "type": "fact", "importance": 0.9, "tags": ["gobby", "task-management", "mcp-tools", "workflow"], "created_at": "2026-01-25T04:37:25.358833+00:00", "updated_at": "2026-01-25T04:37:25.358833+00:00", "source": "session", "source_id": "82c1590d-8051-4ccf-af2c-988867c7e884"}
{"id": "mm-10c7ed85", "content": "The gobby project uses a SafeExpressionEvaluator (AST-based) instead of eval() for security-critical expression evaluation in task enforcement actions. This pattern should be applied whenever dynamic expressions need evaluation.", "type": "pattern", "importance": 0.9, "tags": ["security", "task-enforcement", "expression-evaluation"], "created_at": "2026-01-25T04:34:46.436166+00:00", "updated_at": "2026-01-25T04:34:46.436166+00:00", "source": "session", "source_id": "0c5227bc-84b1-44b2-9e75-32fd96ec85ca"}
{"id": "mm-269f997a", "content": "Gobby uses ISO 8601 timestamps with 'T' separator (not space) in database and JSON files. The root cause of timestamp issues was using `isoformat(\" \")` instead of `isoformat()` in src/gobby/storage/database.py. When fixing timestamps, normalize existing data from space to T separator format.", "type": "fact", "importance": 0.9, "tags": ["timestamps", "database", "iso8601", "data-migration"], "created_at": "2026-01-25T04:02:56.261015+00:00", "updated_at": "2026-01-25T04:02:56.261015+00:00", "source": "session", "source_id": "1a867b59-ad3d-4075-9020-6293616fbeb2"}
{"id": "mm-9a411c25", "content": "The gobby project uses SQLite with custom datetime adapters. The `_adapt_datetime` function in `database.py` (line 24) uses `isoformat(\" \")` which produces space-separated timestamps like \"2026-01-25 01:43:54\" instead of ISO 8601 standard \"2026-01-25T01:43:54\". This non-standard format can cause timestamp normalization issues in exported JSONL files.", "type": "fact", "importance": 0.9, "tags": ["database", "datetime", "sqlite", "bug-source"], "created_at": "2026-01-25T03:59:31.178992+00:00", "updated_at": "2026-01-25T03:59:31.178992+00:00", "source": "session", "source_id": "8dfb36ae-572d-4a12-a667-0e710b658a2d"}
{"id": "mm-39c4a4a6", "content": "HubProvider abstraction should follow the ABC pattern with methods: search(query), list_catalog(), download_skill(skill_info), and validate_hub(). Provider factory should dispatch based on hub.provider_type field to ClawdHubProvider, SkillHubProvider, or GitHubCollectionProvider implementations.", "type": "context", "importance": 0.88, "tags": ["hubs", "abstraction", "design"], "created_at": "2026-01-28T20:13:58.487036+00:00", "updated_at": "2026-01-28T20:13:58.487036+00:00", "source": "session", "source_id": "0c872236-ce01-4ecd-912b-6afdc5dd393f"}
{"id": "mm-c6550f8e", "content": "Gobby has 9 completely undocumented tool categories: worktrees, orchestration, metrics, GitHub, Linear, agents, artifacts, skills, clones, merge. Additionally, 13+ CLI command groups lack documentation: artifacts, clones, conductor, extensions, github, linear, memory, merge, mcp-proxy, projects, skills, tui, worktrees, ui.", "type": "fact", "importance": 0.88, "tags": ["gobby", "documentation", "missing-features"], "created_at": "2026-01-28T16:21:49.021097+00:00", "updated_at": "2026-01-28T16:21:49.021097+00:00", "source": "session", "source_id": "1cd214d0-1e0d-4983-a94a-93a041119ba5"}
{"id": "mm-70eff738", "content": "User preference: Keep memory_extract as an automatic fallback at session end rather than disabling it. This ensures memories are captured even if not explicitly triggered.", "type": "preference", "importance": 0.85, "tags": ["gobby", "memory-system", "session-lifecycle"], "created_at": "2026-02-01T02:39:40.053984+00:00", "updated_at": "2026-02-01T02:39:40.053984+00:00", "source": "session", "source_id": "ae499d78-7dcb-44dd-8df9-103c0c1ef33e"}
{"id": "mm-25ae2357", "content": "In the gobby daemon, skill mutations through LocalSkillManager should trigger automatic search re-indexing via listeners rather than requiring explicit index_skills_async() calls in each tool (install_skills registry via its list_skills tool to collect skills statistics. The endpoint returns a response object containing 'skills' key with aggregated stats.", "type": "fact", "importance": 0.85, "tags": ["architecture", "admin-api", "skills-integration"], "created_at": "2026-02-01T01:42:53.162202+00:00", "updated_at": "2026-02-01T01:42:53.162202+00:00", "source": "session", "source_id": "5ba0e7a1-f81a-495c-839e-d2710f7f3c64"}
{"id": "mm-12775efe", "content": "Gobby source files located at ~/Projects/gobby/src/gobby/workflows/ with key modules: actions.py (1,392 lines), tools.py (1,526 lines), codex.py (1,332 lines), migrations.py (1,046 lines). Detailed decomposition plan references exist at ~/.claude/plans/ including migration-flattening.md and strangler-fig-decomposition.md.", "type": "fact", "importance": 0.85, "tags": ["gobby", "file-locations", "codebase-structure"], "created_at": "2026-02-01T01:42:53.152288+00:00", "updated_at": "2026-02-01T01:42:53.152288+00:00", "source": "session", "source_id": "c939a49c-67ad-433f-bc8f-defdac852772"}
{"id": "mm-0de81c8b", "content": "Gobby project uses a plan-driven approach: high-level plans are stored in `.gobby/plans/` directory (e.g., `.gobby/plans/sandboxing.md`) and should include task mapping with issue refs (#XXXX) to maintain traceability between planning documentcontext", "type": "fact", "importance": 0.85, "tags": ["project-scoped-session-refs", "epic-6204", "architecture", "feature-plan"], "created_at": "2026-02-01T01:42:53.143184+00:00", "updated_at": "2026-02-01T01:42:53.143184+00:00", "source": "session", "source_id": "8a8d7adb-fc94-45da-9f98-77fae95a85d6"}
{"id": "mm-7f6b8ad3", "content": "The gobby project uses a plan mode workflow where tasks are created via MCP tool calls (requiring session_id parameter), then plans are written to ~/.claude/plans/{plan_name}.md files, and ExitPlanMode is called to request approval before implementation.", "type": "pattern", "importance": 0.85, "tags": ["workflow", "gobby", "task-management", "plan-mode"], "created_at": "2026-02-01T01:42:53.133261+00:00", "updated_at": "2026-02-01T01:42:53.133261+00:00", "source": "session", "source_id": "3d10abf2-873d-46ec-b659-981102d8aad6"}
{"id": "mm-1fc953fb", "content": "The gobby project has skills located in two places: ~/Projects/gobby/src/gobby/install/shared/skills/ (primary) and ~/.claude/skills/ (user-local). When working with skills, verify which location is being referenced to avoid conflicts or duplicated work.", "type": "fact", "importance": 0.85, "tags": ["gobby", "skills", "file-organization", "project-structure"], "created_at": "2026-02-01T01:42:53.120442+00:00", "updated_at": "2026-02-01T01:42:53.120442+00:00", "source": "session", "source_id": "9baa4877-e9ad-4777-b8ad-e0cedc5228eb"}
{"id": "mm-7ba52d98", "content": "Core feature requirements for gobby include task CRUD operations and a skill suggestion system. These are foundational capabilities that need to be implemented to support the broader workflow automation vision.", "type": "fact", "importance": 0.85, "tags": ["gobby", "features", "requirements"], "created_at": "2026-02-01T00:58:05.042454+00:00", "updated_at": "2026-02-01T00:58:05.042454+00:00", "source": "session", "source_id": "70cd9d8b-3583-4667-8b34-ea439a6c59ff"}
{"id": "mm-aa04047f", "content": "The gobby project uses WorkflowConfig (in task management configuration module) as the natural location for workflow-related settings. SessionLifecycleConfig is specifically for session lifecycle management, not general workflow configuration.", "type": "fact", "importance": 0.85, "tags": ["gobby", "architecture", "config", "workflow"], "created_at": "2026-01-30T17:16:47.937454+00:00", "updated_at": "2026-01-30T17:16:47.937454+00:00", "source": "session", "source_id": "24dd0a64-04d3-4154-b31a-e903f8fa484e"}
{"id": "mm-bbb857db", "content": "The gobby project has a task resolution system where `resolve_task_id_for_mcp()` requires a session_id parameter to properly scope task lookups. When session_id is optional in the API, tests must mock this function to avoid failures.", "type": "fact", "importance": 0.85, "tags": ["gobby", "mcp_proxy", "task_resolution", "testing"], "created_at": "2026-01-30T16:30:21.373332+00:00", "updated_at": "2026-01-30T16:30:21.373332+00:00", "source": "session", "source_id": "1e237409-bb73-4358-8a4e-1dd38cf8dfab"}
{"id": "mm-4e0a0f42", "content": "The gobby project uses MCP tools for task management. When closing tasks/epics, a 'reason' parameter is required - omitting it causes a PreToolUse hook error. Always provide a reason when calling close operations.", "type": "pattern", "importance": 0.85, "tags": ["gobby", "mcp-tools", "task-management", "error-handling"], "created_at": "2026-01-30T01:25:53.720696+00:00", "updated_at": "2026-01-30T01:25:53.720696+00:00", "source": "session", "source_id": "5a9d9ac3-116c-4f65-8ff8-494dd1e0b121"}
{"id": "mm-9fcbc99d", "content": "The gobby project uses a structured commit workflow: create/claim task → write plan file → git commit with task reference → close task via task management tool.", "type": "pattern", "importance": 0.85, "tags": ["gobby", "workflow", "git", "task-management"], "created_at": "2026-01-30T01:25:40.412709+00:00", "updated_at": "2026-01-30T01:25:40.412709+00:00", "source": "session", "source_id": "c6de58cf-a54d-4ae0-abb1-311a48651393"}
{"id": "mm-27a3b742", "content": "The gobby project uses a task management system with pre-tool-use hooks located at .claude/hooks/hook_dispatcher.py that validates tasks before file operations. Tasks must be created and claimed before writing files.", "type": "fact", "importance": 0.85, "tags": ["gobby", "workflow", "task-management", "hooks"], "created_at": "2026-01-30T01:25:40.410150+00:00", "updated_at": "2026-01-30T01:25:40.410150+00:00", "source": "session", "source_id": "c6de58cf-a54d-4ae0-abb1-311a48651393"}
{"id": "mm-db8f36a5", "content": "The gobby project needs to handle mid-session restarts. User is exploring Option 3 (likely an in-memory approach) to account for restart scenarios, suggesting this is a known architectural concern.", "type": "context", "importance": 0.85, "tags": ["gobby", "architecture", "restarts", "sessions"], "created_at": "2026-01-30T00:26:30.401070+00:00", "updated_at": "2026-01-30T00:26:30.401070+00:00", "source": "session", "source_id": "ecc2810e-4888-4aa1-8467-3c4253472fd6"}
{"id": "mm-4e75da81", "content": "The gobby project has skills located in two places: ~/Projects/gobby/src/gobby/install/shared/skills/ (primary) and ~/.claude/skills/ (user-local). When working with skills, verify which location is being referenced to avoid conflicts or duplicated work.", "type": "fact", "importance": 0.85, "tags": ["gobby", "skills", "file-organization", "project-structure"], "created_at": "2026-01-29T21:41:45.893170+00:00", "updated_at": "2026-01-29T21:41:45.893170+00:00", "source": "session", "source_id": "9baa4877-e9ad-4777-b8ad-e0cedc5228eb"}
{"id": "mm-00542e5a", "content": "The gobby project uses a pre-tool hook system via ~/.claude/hooks/hook_dispatcher.py that validates operations before execution. Git commits must be made before closing files or the hook will error.", "type": "fact", "importance": 0.85, "tags": ["gobby", "git-workflow", "hooks", "mcp-tools"], "created_at": "2026-01-29T21:12:17.758066+00:00", "updated_at": "2026-01-29T21:12:17.758066+00:00", "source": "session", "source_id": "53c7627e-979c-42d7-b261-4201e251e3b8"}
{"id": "mm-37528908", "content": "Gobby project roadmap includes a future 'Gobby Pro' version with cloud sync capabilities. Current development focuses on local-first functionality, but architecture decisions should consider eventual cloud synchronization needs.", "type": "context", "importance": 0.85, "tags": ["roadmap", "cloud-sync", "gobby-pro", "architecture"], "created_at": "2026-01-29T18:14:51.865705+00:00", "updated_at": "2026-01-29T18:14:51.865705+00:00", "source": "session", "source_id": "294f7304-f2d5-4c6c-8496-d16557c1f365"}
{"id": "mm-6aee0335", "content": "Skills are stored both as physical markdown copies and in a database. When updating skill definitions, the user expects both the markdown source files AND the skill database to be synced/updated in parallel to maintain consistency.", "type": "pattern", "importance": 0.85, "tags": ["gobby", "skill-management", "data-sync"], "created_at": "2026-01-29T17:41:53.874519+00:00", "updated_at": "2026-01-29T17:41:53.874519+00:00", "source": "session", "source_id": "a506fc5b-8ab1-46b2-a51d-70c731443a33"}
{"id": "mm-fce92ebc", "content": "The gobby project uses pytest with fixture-based testing. Test files use `mock_agent_registry` fixture for unit tests (in tests/mcp_proxy/tools/) and `cli_events.register_agent` for e2e tests (in tests/e2e/). Both approaches mock agent registration for testing inter-agent messaging via MCP tools.", "type": "pattern", "importance": 0.85, "tags": ["testing", "pytest", "mocking", "agent-messaging"], "created_at": "2026-01-29T16:11:07.180635+00:00", "updated_at": "2026-01-29T16:11:07.180635+00:00", "source": "session", "source_id": "9e27edc1-e3a3-49bd-be30-d5c8768514bf"}
{"id": "mm-fb2f076d", "content": "The gobby project uses a hook system with hook_dispatcher.py that handles pre and stop hooks. Hooks are triggered during tool execution and task lifecycle events, with feedback messages indicating required actions (e.g., closing in_progress tasks).", "type": "fact", "importance": 0.85, "tags": ["architecture", "hooks", "task-system"], "created_at": "2026-01-29T03:40:03.784743+00:00", "updated_at": "2026-01-29T03:40:03.784743+00:00", "source": "session", "source_id": "ba79f495-984c-4cc8-92be-6c352b431d15"}
{"id": "mm-a61d07de", "content": "The AgentRun data model in gobby has fields including parent_session_id and external_id. The _spawn_gemini_terminal function should not pre-create AgentRun records since the instance already has access to its session context.", "type": "fact", "importance": 0.85, "tags": ["gobby", "AgentRun", "data-model", "spawn-flow"], "created_at": "2026-01-29T03:06:57.023170+00:00", "updated_at": "2026-01-29T03:06:57.023170+00:00", "source": "session", "source_id": "832f7376-6505-444d-bb24-f5d60d15b922"}
{"id": "mm-f4c8d422", "content": "The gobby project uses a daemon architecture (PID-based) that must be running before calling MCP tools. The daemon initializes local storage on startup. Pre-tool-use hooks validate state before tool execution.", "type": "fact", "importance": 0.85, "tags": ["gobby", "daemon", "architecture", "hooks"], "created_at": "2026-01-28T21:50:49.834512+00:00", "updated_at": "2026-01-28T21:50:49.834512+00:00", "source": "session", "source_id": "7c5f795a-a3bd-4f90-b241-b10bfd91dc09"}
{"id": "mm-6f015175", "content": "Gobby project has Gemini integration that requires handling mcp_context field containing server_name and tool_name for MCP tools, and tool_response field support in detect_mcp_call() function", "type": "fact", "importance": 0.85, "tags": ["gemini", "mcp", "integration", "detect_mcp_call"], "created_at": "2026-01-28T21:43:03.015208+00:00", "updated_at": "2026-01-28T21:43:03.015208+00:00", "source": "session", "source_id": "6a941dc7-b179-4476-80fc-dec12f7c827d"}
{"id": "mm-fea0407e", "content": "The meeseeks workflow includes an on_premature_stop hook that blocks session termination until the task is complete - the workflow enforces completion before allowing exit (prevents incomplete meeseeks from stopping early).", "type": "fact", "importance": 0.85, "tags": ["meeseeks", "workflow-control", "lifecycle"], "created_at": "2026-01-28T20:38:12.089286+00:00", "updated_at": "2026-01-28T20:38:12.089286+00:00", "source": "session", "source_id": "8cc46e99-2e03-41f8-ba7e-7ad372450e56"}
{"id": "mm-fda429ea", "content": "gobby's spawn_agent tool uses a preflight capture pattern via prepare_gemini_spawn_with_preflight to obtain a Gemini session_id before launching the terminal. The preflight succeeds (capturing session_id in format that becomes run_id like 'gemini-{first8chars}'), but subsequent terminal spawn via 'open -na Ghostty.app' can fail silently—the macOS 'open' utility returns success even if Ghostty fails to execute the command afterward, making shell escaping of long prompts a potential failure point.", "type": "context", "importance": 0.85, "tags": ["gobby", "spawn_agent", "gemini", "terminal_spawn", "preflight", "failure_mode"], "created_at": "2026-01-28T20:27:23.834828+00:00", "updated_at": "2026-01-28T20:27:23.834828+00:00", "source": "session", "source_id": "d347d68e-869d-4a6e-a8d5-8fe855bba25e"}
{"id": "mm-965ddb75", "content": "Test structure: Unit tests in tests/skills/ and MCP tool tests in tests/mcp_proxy/tools/skills/. When writing TDD descriptions for code tasks, reference the appropriate test file path and use test-first approach matching existing test patterns in the codebase.", "type": "pattern", "importance": 0.85, "tags": ["testing", "tdd", "file-organization"], "created_at": "2026-01-28T20:13:58.446207+00:00", "updated_at": "2026-01-28T20:13:58.446207+00:00", "source": "session", "source_id": "0c872236-ce01-4ecd-912b-6afdc5dd393f"}
{"id": "mm-e32c6d7e", "content": "Config classes now use prompt_path attribute instead of the deprecated prompt attribute. Tests and code accessing prompt templates must be updated to use PromptLoader with path-based templates rather than direct prompt attributes.", "type": "pattern", "importance": 0.85, "tags": ["config", "refactor", "deprecated", "templates"], "created_at": "2026-01-28T16:47:06.178348+00:00", "updated_at": "2026-01-28T16:47:06.178348+00:00", "source": "session", "source_id": "3b010b4a-a71b-40be-871a-624cec1dc2a8"}
{"id": "mm-88c44e1b", "content": "The gobby project documentation requires ~4,000-5,000 lines of work across 12 guides: 4 existing guides need rewrites/fixes (mcp-tools.md, cli-commands.md, tasks.md, memory.md) followed by 8 new guides (sessions, artifacts, agents, worktrees, search, configuration, integrations, README). User prefers fixing accuracy first before creating new content.", "type": "context", "importance": 0.85, "tags": ["documentation", "gobby", "scope", "planning"], "created_at": "2026-01-28T16:21:49.020257+00:00", "updated_at": "2026-01-28T16:21:49.020257+00:00", "source": "session", "source_id": "1cd214d0-1e0d-4983-a94a-93a041119ba5"}
{"id": "mm-366027d0", "content": "The gobby project uses a task management system (mcp__gobby__call_tool) that requires commits to be linked before closing tasks. Task closure fails with 'no_commits_linked' error if changes aren't committed first. Use the commit SHA when closing tasks via close_task().", "type": "pattern", "importance": 0.85, "tags": ["task_management", "workflow", "commits"], "created_at": "2026-01-28T16:21:32.098266+00:00", "updated_at": "2026-01-28T16:21:32.098266+00:00", "source": "session", "source_id": "83a8829f-f924-45b8-b8ec-303487f25cdf"}
{"id": "mm-165f3b8e", "content": "Recently refactored: `require_active_task` was moved from `gobby.workflows.task_enforcement_actions` (which was removed) to `gobby.workflows.enforcement`. Update imports that reference the old module path.", "type": "context", "importance": 0.85, "tags": ["refactoring", "imports", "enforcement"], "created_at": "2026-01-28T16:09:54.862430+00:00", "updated_at": "2026-01-28T16:09:54.862430+00:00", "source": "session", "source_id": "e33e8d96-853e-4a5e-98f3-b561d1bad449"}
{"id": "mm-77262aec", "content": "The gobby project has a hook dispatcher system at .claude/hooks/hook_dispatcher.py that enforces task cleanup before stopping sessions. Tasks must be closed with close_task() before session termination, otherwise the stop hook will reject the session exit.", "type": "fact", "importance": 0.85, "tags": ["gobby", "hooks", "task-management", "workflow"], "created_at": "2026-01-28T15:59:03.784914+00:00", "updated_at": "2026-01-28T15:59:03.784914+00:00", "source": "session", "source_id": "9703f385-8e1c-4490-a4a9-c306f952f27a"}
{"id": "mm-782e3f62", "content": "Gobby project uses asyncio.to_thread pattern to wrap blocking operations (like subprocess.Popen) in async contexts without modifying underlying storage/utility layer. This pragmatic approach keeps methods non-blocking on event loop while minimizing scope of changes.", "type": "pattern", "importance": 0.85, "tags": ["async", "architecture", "subprocess-handling"], "created_at": "2026-01-28T03:41:22.370336+00:00", "updated_at": "2026-01-28T03:41:22.370336+00:00", "source": "session", "source_id": "740c4be1-cfcc-4aa0-ab30-7a088d85d22d"}
{"id": "mm-05616615", "content": "When refactoring gobby's enforcement module, ensure tests import directly from enforcement/ submodules and git_utils rather than from removed facade files. The project maintains a 123-test suite that validates the modular structure.", "type": "pattern", "importance": 0.85, "tags": ["testing", "imports", "refactoring", "enforcement"], "created_at": "2026-01-28T03:41:15.172279+00:00", "updated_at": "2026-01-28T03:41:15.172279+00:00", "source": "session", "source_id": "a4edf892-add1-4cad-95e0-aea0bb4459cb"}
{"id": "mm-82862ffa", "content": "Async code in gobby should wrap blocking DB calls with asyncio.to_thread() rather than using raw await. Non-blocking operations (like embedding generation) should use asyncio.create_task() with early returns.", "type": "pattern", "importance": 0.85, "tags": ["async", "performance", "database", "code-style"], "created_at": "2026-01-28T03:36:47.023211+00:00", "updated_at": "2026-01-28T03:36:47.023211+00:00", "source": "session", "source_id": "3d3b236e-30cc-48ae-a65e-e81c904bb1ff"}
{"id": "mm-d5955654", "content": "Database schema in schema_dump.sql requires careful FK constraint handling: use PRAGMA foreign_keys OFF/ON for forward references, and specify ON DELETE CASCADE or ON DELETE SET NULL appropriately for each relationship (e.g., sessions.project_id CASCADE, parent_session_id SET NULL).", "type": "pattern", "importance": 0.85, "tags": ["database", "schema", "foreign-keys", "constraints"], "created_at": "2026-01-28T03:36:47.022719+00:00", "updated_at": "2026-01-28T03:36:47.022719+00:00", "source": "session", "source_id": "3d3b236e-30cc-48ae-a65e-e81c904bb1ff"}
{"id": "mm-4b0a521c", "content": "Gobby uses an MCP (Model Context Protocol) architecture with endpoint implementations in src/gobby/servers/routes/mcp/endpoints/. Discovery and execution endpoints handle async tool calls and internal tool registry lookups.", "type": "fact", "importance": 0.85, "tags": ["architecture", "mcp", "endpoints", "async"], "created_at": "2026-01-28T03:36:47.021415+00:00", "updated_at": "2026-01-28T03:36:47.021415+00:00", "source": "session", "source_id": "3d3b236e-30cc-48ae-a65e-e81c904bb1ff"}
{"id": "mm-f94c393c", "content": "The gobby project uses a task-based workflow system with multiple action modules (autonomous_actions, llm_actions, stop_signal_actions, task_sync_actions, todo_actions). Each module handles specific workflow operations and should include proper error handling, validation, and async/await patterns.", "type": "fact", "importance": 0.85, "tags": ["architecture", "workflows", "async"], "created_at": "2026-01-28T02:07:44.350807+00:00", "updated_at": "2026-01-28T02:07:44.350807+00:00", "source": "session", "source_id": "c0a87ddb-764a-4cd9-9519-330e919d3022"}
{"id": "mm-62d358fd", "content": "The gobby project uses a local `.gobby/tasks.jsonl` file to track task state. This file can become out of sync with the database and needs periodic syncing via the sync_tasks tool to ensure the stop hook reads current task status.", "type": "fact", "importance": 0.85, "tags": ["gobby", "tasks", "sync", "local-state"], "created_at": "2026-01-28T01:55:53.739021+00:00", "updated_at": "2026-01-28T01:55:53.739021+00:00", "source": "session", "source_id": "5ddc8b77-f2ef-4af8-af41-e78cec23ce77"}
{"id": "mm-103bccba", "content": "Async I/O operations in gobby must use asyncio.to_thread() for synchronous blocking calls rather than run_in_executor. This pattern is applied across workflows and adapter modules to maintain consistency with the async architecture.", "type": "pattern", "importance": 0.85, "tags": ["async", "code-quality", "threading", "workflows"], "created_at": "2026-01-27T23:18:37.180838+00:00", "updated_at": "2026-01-27T23:18:37.180838+00:00", "source": "session", "source_id": "73e859dc-af97-4d70-8c2f-008413ea3728"}
{"id": "mm-3dcf766c", "content": "Prompt file creation in prompt_manager.py requires: (1) sanitize session_id to prevent path traversal by stripping separators/disallowed chars or using uuid4, (2) use thread-safe lock (_atexit_lock) around _atexit_registered check to prevent race conditions in atexit registration, (3) store safe path in _prompt_files_to_cleanup for cleanup on exit.", "type": "pattern", "importance": 0.85, "tags": ["security", "path-traversal", "thread-safety", "prompt-manager"], "created_at": "2026-01-27T22:52:38.926303+00:00", "updated_at": "2026-01-27T22:52:38.926303+00:00", "source": "session", "source_id": "935114fe-ccaa-4dfc-8f95-99956c976c4f"}
{"id": "mm-96438a92", "content": "spawn.py (941 lines) is NOT a facade—it contains actual orchestration logic. Can be decomposed into spawners/prompt_manager.py and spawners/command_builder.py while keeping core orchestration in spawn.py (~250-300 lines). This decomposition would reduce circular import pressures.", "type": "fact", "importance": 0.85, "tags": ["gobby", "spawn", "refactoring", "circular-imports"], "created_at": "2026-01-27T18:15:43.762100+00:00", "updated_at": "2026-01-27T18:15:43.762100+00:00", "source": "session", "source_id": "a1199286-0860-4cd3-aeb8-366a288db4b4"}
{"id": "mm-55824e91", "content": "The gobby project uses a plan mode workflow where tasks are created via MCP tool calls (requiring session_id parameter), then plans are written to ~/.claude/plans/{plan_name}.md files, and ExitPlanMode is called to request approval before implementation.", "type": "pattern", "importance": 0.85, "tags": ["workflow", "gobby", "task-management", "plan-mode"], "created_at": "2026-01-27T17:51:13.860740+00:00", "updated_at": "2026-01-27T17:51:13.860740+00:00", "source": "session", "source_id": "3d10abf2-873d-46ec-b659-981102d8aad6"}
{"id": "mm-56819543", "content": "The codebase has main modules: ActionExecutor (handles action registration/execution), tools.py (manages endpoints), and Codex components (dataclasses, server client, adapter). The refactor targets modularizing these into separate endpoint and codex_impl directories while maintaining import compatibility.", "type": "fact", "importance": 0.85, "tags": ["architecture", "modules", "refactoring-target"], "created_at": "2026-01-27T01:33:16.634693+00:00", "updated_at": "2026-01-27T01:33:16.634693+00:00", "source": "session", "source_id": "e8d257ca-90d9-4276-b8ce-72d71e05b0bb"}
{"id": "mm-6551582a", "content": "Token tracking in Gobby involves three key components: ParsedMessage dataclass in base.py, ClaudeTranscriptParser._extract_usage() which returns TokenUsage, and SessionMessageProcessor which processes parsed messages. The model field needs to be threaded through all three for complete tracking.", "type": "fact", "importance": 0.85, "tags": ["token-tracking", "code-structure", "metrics"], "created_at": "2026-01-27T01:28:48.065553+00:00", "updated_at": "2026-01-27T01:28:48.065553+00:00", "source": "session", "source_id": "e0e85afe-8841-425f-ba0d-018b5301fb73"}
{"id": "mm-132df2fe", "content": "Migration verification in gobby includes comprehensive testing: 65 automated migration tests must pass, new installs should be tested with both the flattened baseline enabled and disabled, and schema output should be compared between both paths to ensure functional equivalence.", "type": "pattern", "importance": 0.85, "tags": ["testing", "migration", "verification", "quality-assurance"], "created_at": "2026-01-27T00:15:25.227354+00:00", "updated_at": "2026-01-27T00:15:25.227354+00:00", "source": "session", "source_id": "22fdeb42-a38e-44e4-a7f1-ca4c87da2807"}
{"id": "mm-eaf8496a", "content": "The Project-Scoped Session Refs feature organizes work across 4 phases (Schema & Storage, CLI Integration, MCP Tools & Display, Tests) with 18 total tasks. Key changes involve: making seq_num project-scoped (not global), updating resolve_session_reference() to accept project_id, updating CLI/MCP tools to use #N format instead of UUID, and adding corresponding tests.", "type": "context", "importance": 0.85, "tags": ["project-scoped-session-refs", "epic-6204", "architecture", "feature-plan"], "created_at": "2026-01-27T00:15:05.233842+00:00", "updated_at": "2026-01-27T00:15:05.233842+00:00", "source": "session", "source_id": "8a8d7adb-fc94-45da-9f98-77fae95a85d6"}
{"id": "mm-6c74ebbc", "content": "Gobby project uses a plan-driven approach: high-level plans are stored in `.gobby/plans/` directory (e.g., `.gobby/plans/sandboxing.md`) and should include task mapping with issue refs (#XXXX) to maintain traceability between planning documents and implementation tasks.", "type": "pattern", "importance": 0.85, "tags": ["project-organization", "planning", "documentation"], "created_at": "2026-01-27T00:13:51.520475+00:00", "updated_at": "2026-01-27T00:13:51.520475+00:00", "source": "session", "source_id": "bbde861d-1946-4835-8a53-93a1830483ca"}
{"id": "mm-f1d0b67d", "content": "Gobby source files located at ~/Projects/gobby/src/gobby/workflows/ with key modules: actions.py (1,392 lines), tools.py (1,526 lines), codex.py (1,332 lines), migrations.py (1,046 lines). Detailed decomposition plan references exist at ~/.claude/plans/ including migration-flattening.md and strangler-fig-decomposition.md.", "type": "fact", "importance": 0.85, "tags": ["gobby", "file-locations", "codebase-structure"], "created_at": "2026-01-26T23:05:30.976771+00:00", "updated_at": "2026-01-26T23:05:30.976771+00:00", "source": "session", "source_id": "c939a49c-67ad-433f-bc8f-defdac852772"}
{"id": "mm-d2d969c7", "content": "Task lifecycle tools in _lifecycle.py must return success: False on errors so that _process_tool_proxy_result can correctly identify and handle task failures. Returning success: true with an error is a bug that masks failures.", "type": "fact", "importance": 0.85, "tags": ["architecture", "error-handling", "_lifecycle.py", "_process_tool_proxy_result"], "created_at": "2026-01-26T22:56:14.015774+00:00", "updated_at": "2026-01-26T22:56:14.015774+00:00", "source": "session", "source_id": "b422c481-ba1d-44da-8912-666de487efbf"}
{"id": "mm-750b7b70", "content": "Hub tools (list_all_projects, list_cross_project_tasks, list_cross_project_sessions, hub_stats) are for cross-project orchestration and overview queries outside of project context. They should be kept and maintained as they provide value for viewing across projects.", "type": "context", "importance": 0.85, "tags": ["hub.py", "architecture", "cross-project-tools"], "created_at": "2026-01-26T22:45:00.909393+00:00", "updated_at": "2026-01-26T22:45:00.909393+00:00", "source": "session", "source_id": "75faf6fd-5728-4faa-95d7-48b6444dec38"}
{"id": "mm-5c32db83", "content": "Keep two versions of plans: permanent documentation in `docs/plans/` with full implementation details, and expand-ready format in `.gobby/plans/` for task generation. The `.gobby/plans/` version is consumed by `/g expand` to create task hierarchies.", "type": "pattern", "importance": 0.85, "tags": ["gobby", "file-organization", "plans", "documentation"], "created_at": "2026-01-26T22:18:20.050723+00:00", "updated_at": "2026-01-26T22:18:20.050723+00:00", "source": "session", "source_id": "1b365507-fea8-4662-a6c5-62caef8f48ea"}
{"id": "mm-f9aeadc7", "content": "The gobby-doctor-v2 feature involves two main implementation parts: (1) /gobby doctor skill with diagnostic directory refactoring and security checks, and (2) /gobby usage skill with model extraction fix in transcript parser. This multi-part work should be tracked via task system.", "type": "context", "importance": 0.85, "tags": ["gobby", "gobby-doctor", "features", "implementation-plan"], "created_at": "2026-01-26T21:23:00.443281+00:00", "updated_at": "2026-01-26T21:23:00.443281+00:00", "source": "session", "source_id": "0f3bb4a3-6134-46de-8234-d51d676dfbd8"}
{"id": "mm-d08738f8", "content": "Prompts use a `DEFAULTS_DIR` pointing to `src/gobby/prompts/defaults/` with a PromptLoader that already supports search path precedence (project/global/bundled). The refactor plan moves prompts to `install/shared/prompts/` and installs to `.gobby/prompts/` while keeping fallback to bundled defaults for backwards compatibility.", "type": "fact", "importance": 0.85, "tags": ["prompt-system", "installation", "architecture"], "created_at": "2026-01-26T17:17:40.835781+00:00", "updated_at": "2026-01-26T17:17:40.835781+00:00", "source": "session", "source_id": "68fb48cd-e380-4b4d-81c9-932b386a549e"}
{"id": "mm-e10445c8", "content": "Tools are registered via InternalToolRegistry and exposed through create_*_registry() functions. Workflows are loaded from src/gobby/install/shared/workflows/. AgentDefinition model in definitions.py needs isolation, branch_prefix, base_branch, and provider fields to support unified spawn API.", "type": "fact", "importance": 0.85, "tags": ["tool-registration", "workflow-system", "data-model", "api-design"], "created_at": "2026-01-26T17:11:39.633895+00:00", "updated_at": "2026-01-26T17:11:39.633895+00:00", "source": "session", "source_id": "8d582fd9-8c4b-48bf-949b-3d2f353527c9"}
{"id": "mm-5f8dc115", "content": "Agent-spawning-v2 is a major feature in gobby that includes IsolationHandler ABC, SpawnExecutor with spawn dispatch logic, a unified 15-step tool flow, and a 3-phase migration strategy. The complete design specification is documented in docs/plans/agent-spawning-v2.md and can be expanded into implementation tasks using `/g expand`.", "type": "context", "importance": 0.85, "tags": ["agent-spawning", "feature-design", "implementation-roadmap"], "created_at": "2026-01-26T17:11:05.005788+00:00", "updated_at": "2026-01-26T17:11:05.005788+00:00", "source": "session", "source_id": "595ef7e1-c5ec-401b-b6c9-cc68eb89acbc"}
{"id": "mm-e57935e9", "content": "Gobby skills use a categorical organization system: skills are tagged with category: core for foundational skills and can have alwaysApply: true for automatic application. The parser and storage support top-level alwaysApply and category fields. 40 total skills are loaded with category filtering working.", "type": "fact", "importance": 0.85, "tags": ["gobby", "skill-system", "configuration"], "created_at": "2026-01-26T16:15:48.273977+00:00", "updated_at": "2026-01-26T16:15:48.273977+00:00", "source": "session", "source_id": "5f62f7a8-1c13-4a38-a8ed-56585340164c"}
{"id": "mm-b876595f", "content": "Gobby's CLI status display is formatted through format_status_message() in src/gobby/utils/status.py, which receives status data including skills_total parameter. The status output displays sections: MCP Proxy, Skills, and Sessions in that order.", "type": "fact", "importance": 0.85, "tags": ["file-location", "cli-output", "status-display"], "created_at": "2026-01-26T15:30:12.065732+00:00", "updated_at": "2026-01-26T15:30:12.065732+00:00", "source": "session", "source_id": "5ba0e7a1-f81a-495c-839e-d2710f7f3c64"}
{"id": "mm-eb8e30a1", "content": "The gobby admin status endpoint (/admin/status) integrates with the gobby-skills registry via its list_skills tool to collect skills statistics. The endpoint returns a response object containing 'skills' key with aggregated stats.", "type": "fact", "importance": 0.85, "tags": ["architecture", "admin-api", "skills-integration"], "created_at": "2026-01-26T15:30:12.065378+00:00", "updated_at": "2026-01-26T15:30:12.065378+00:00", "source": "session", "source_id": "5ba0e7a1-f81a-495c-839e-d2710f7f3c64"}
{"id": "mm-dc8eacf9", "content": "Gobby plan includes renaming skills to remove the 'gobby-' prefix and adding 'category: core' field to all 24 Gobby skills. The 'mcp-guide' skill was renamed from 'gobby-mcp' to avoid conflict with the /gobby mcp routing pattern.", "type": "context", "importance": 0.85, "tags": ["naming-convention", "skill-refactor", "category-system"], "created_at": "2026-01-26T15:19:56.015896+00:00", "updated_at": "2026-01-26T15:19:56.015896+00:00", "source": "session", "source_id": "1f0eb083-9ebd-4c61-8ea3-0e9fd78037e2"}
{"id": "mm-1d62b88f", "content": "In the gobby daemon, skill mutations through LocalSkillManager should trigger automatic search re-indexing via listeners rather than requiring explicit index_skills_async() calls in each tool (install_skill, update_skill, remove_skill). This ensures consistency regardless of mutation source.", "type": "fact", "importance": 0.85, "tags": ["skill-manager", "search-index", "mcp-tools", "consistency"], "created_at": "2026-01-26T15:14:41.966595+00:00", "updated_at": "2026-01-26T15:14:41.966595+00:00", "source": "session", "source_id": "e3289ba4-649b-4c70-bae6-4d4d88f9bb91"}
{"id": "mm-0991e1fb", "content": "Use `category: \"core\"` to mark Gobby's built-in skills, distinct from `transport: \"internal\"` used for MCP tools. The codebase already uses `core_skills` terminology (list_core_skills, inject_core_skills functions), so `core` category maintains consistency.", "type": "pattern", "importance": 0.85, "tags": ["gobby", "skills", "architecture", "categorization"], "created_at": "2026-01-26T15:05:14.862907+00:00", "updated_at": "2026-01-26T15:05:14.862907+00:00", "source": "session", "source_id": "7a81fcd4-081e-46e1-816a-7c19660112ae"}
{"id": "mm-29caa64d", "content": "Meeseeks parent workflow (meeseeks-box.yaml) spawn step needs to include: prompt with activation instructions, provider='gemini', model='gemini-3-pro', and proper argument mapping (task_id as UUID, terminal mode). Child must activate workflow with assigned_task_id before proceeding.", "type": "context", "importance": 0.85, "tags": ["meeseeks", "parent-workflow", "activation", "pending-implementation"], "created_at": "2026-01-26T14:25:46.473658+00:00", "updated_at": "2026-01-26T14:25:46.473658+00:00", "source": "session", "source_id": "4cb1f535-45d0-476c-92e1-5c11a06e1ef2"}
{"id": "mm-874484a3", "content": "Terminal mode spawning (mode='terminal') should not use -p flag to allow multi-turn interaction. The -p flag causes single-turn exit and is only appropriate for headless spawning. This was a critical fix in spawn.py.", "type": "pattern", "importance": 0.85, "tags": ["spawn", "terminal-mode", "claude-integration"], "created_at": "2026-01-26T14:25:01.562910+00:00", "updated_at": "2026-01-26T14:25:01.562910+00:00", "source": "session", "source_id": "4cb1f535-45d0-476c-92e1-5c11a06e1ef2"}
{"id": "mm-0686e517", "content": "Branch names in gobby are auto-generated from task titles using format 'task-[NUMBER]-[title-slugified]' (e.g., 'task-6079-design-spawn-agent'). This convention is enforced in the spawn_agent tool implementation.", "type": "pattern", "importance": 0.85, "tags": ["branching", "naming_convention", "task_tracking"], "created_at": "2026-01-26T14:12:15.405667+00:00", "updated_at": "2026-01-26T14:12:15.405667+00:00", "source": "session", "source_id": "dc91e716-6e3a-4958-a18f-599e9bc18341"}
{"id": "mm-4a1184b2", "content": "MCP tool registry creation functions (like `create_worktrees_registry`) are parameterized with manager objects (task_manager, agent_registry, etc.) passed from `setup_internal_registries()` in registries.py. These managers are required for tool functions to perform operations like task resolution.", "type": "pattern", "importance": 0.85, "tags": ["registry-creation", "dependency-injection", "mcp-architecture"], "created_at": "2026-01-26T14:06:11.454332+00:00", "updated_at": "2026-01-26T14:06:11.454332+00:00", "source": "session", "source_id": "fd7660c1-b6a1-4b45-81ae-e8d0c7aa074c"}
{"id": "mm-1330e076", "content": "Gobby has a global MCP server configuration at ~/.gobby/.mcp.json that persists across projects. MCP proxy features (list_mcp_servers, add_mcp_server, call_tool) work without project context, enabling Gobby to function as a pure MCP aggregator from Claude Desktop.", "type": "fact", "importance": 0.85, "tags": ["gobby", "mcp", "architecture", "configuration"], "created_at": "2026-01-26T02:40:00.898825+00:00", "updated_at": "2026-01-26T02:40:00.898825+00:00", "source": "session", "source_id": "98f5698d-646d-409d-8d8f-c997ab736d98"}
{"id": "mm-34662406", "content": "The gobby project uses YAML workflow files located at ~/Projects/gobby/src/gobby/install/shared/workflows/lifecycle/session-lifecycle.yaml. Changes to source files are synced to installed versions via `gobby install` command.", "type": "fact", "importance": 0.85, "tags": ["project-structure", "workflow-files", "installation-process"], "created_at": "2026-01-25T19:16:21.028504+00:00", "updated_at": "2026-01-25T19:16:21.028504+00:00", "source": "session", "source_id": "148858d4-70aa-430c-90ab-861f2584dc3c"}
{"id": "mm-2b752ce1", "content": "The gobby project uses YAML workflow files located at ~/Projects/gobby/src/gobby/install/shared/workflows/lifecycle/session-lifecycle.yaml. Changes to source files are synced to installed versions via `gobby install` command.", "type": "fact", "importance": 0.85, "tags": ["project-structure", "workflow-files", "installation-process"], "created_at": "2026-01-25T19:15:01.965857+00:00", "updated_at": "2026-01-25T19:15:01.965857+00:00", "source": "session", "source_id": "148858d4-70aa-430c-90ab-861f2584dc3c"}
{"id": "mm-57715819", "content": "The gobby codebase has a modular structure where workflows are referenced across multiple layers: core loader, hook manager, CLI interface, MCP tools, and installers. Changes to workflow behavior require updates across all these integration points.", "type": "fact", "importance": 0.85, "tags": ["project-structure", "workflows", "integration-points"], "created_at": "2026-01-25T18:46:30.282857+00:00", "updated_at": "2026-01-25T18:46:30.282857+00:00", "source": "session", "source_id": "598eabaa-1caa-40d8-8166-309b8ff8ba9c"}
{"id": "mm-534d547e", "content": "The gobby project stores claimed task IDs inconsistently (sometimes as refs, sometimes as UUIDs). Standardize by resolving all task ID references to UUIDs at storage time in create_task and detection_helpers.py, allowing safe direct comparisons elsewhere.", "type": "context", "importance": 0.85, "tags": ["gobby", "data-consistency", "task-ids"], "created_at": "2026-01-25T18:32:33.163257+00:00", "updated_at": "2026-01-25T18:32:33.163257+00:00", "source": "session", "source_id": "3fe55f9e-069d-470f-ab2f-03ceaf53a6b0"}
{"id": "mm-65dbe4ab", "content": "Gobby skills are duplicated across multiple CLI configuration directories: `.claude/`, `.codex/`, `.antigravity/`, and `.gemini/`. When consolidating skills, all four directories need to be checked and cleaned up to remove duplicates.", "type": "fact", "importance": 0.85, "tags": ["gobby", "skills", "cleanup", "multi-cli"], "created_at": "2026-01-25T17:40:55.852774+00:00", "updated_at": "2026-01-25T17:40:55.852774+00:00", "source": "session", "source_id": "a6b6cc75-b083-4183-827a-b05d51d5a1d3"}
{"id": "mm-04c2b074", "content": "The gobby project uses an MCP proxy with a `close_task` function that handles state clearing for successful task closes. When calling this function via mcp__gobby__call_tool, use parameter 'reason' (not 'resolution') and provide the commit_sha for proper task closure.", "type": "fact", "importance": 0.85, "tags": ["gobby", "mcp", "task-management", "api-pattern"], "created_at": "2026-01-25T17:17:47.888770+00:00", "updated_at": "2026-01-25T17:17:47.888770+00:00", "source": "session", "source_id": "10803605-e46c-4c09-8020-d6a4d5077a57"}
{"id": "mm-099c9ea0", "content": "In gobby's detection_helpers.py, when handling close_task in the AFTER_TOOL hook (lines 67-81), the function should NOT clear task_claimed if tool_output is empty, since it cannot verify whether the close actually succeeded. The MCP proxy's close_task handles clearing task_claimed for genuine successes.", "type": "pattern", "importance": 0.85, "tags": ["detection_helpers", "close_task", "task_claimed", "fix-strategy"], "created_at": "2026-01-25T17:14:28.200002+00:00", "updated_at": "2026-01-25T17:14:28.200002+00:00", "source": "session", "source_id": "b08118fe-cfa2-4c04-b92a-d381c05e7eda"}
{"id": "mm-7b530aea", "content": "The gobby MCP proxy's close_task function has validation checks (validate_commit_requirements) that return errors BEFORE the code that clears task_claimed state (lines 192-207). So the proxy itself doesn't clear task_claimed on validation failures - only on actual successful closes.", "type": "fact", "importance": 0.85, "tags": ["_lifecycle.py", "close_task", "state-management", "validation-flow"], "created_at": "2026-01-25T17:14:28.199456+00:00", "updated_at": "2026-01-25T17:14:28.199456+00:00", "source": "session", "source_id": "b08118fe-cfa2-4c04-b92a-d381c05e7eda"}
{"id": "mm-5c262953", "content": "The gobby-tasks skill has a `claim` parameter (boolean, default false) that must be explicitly set to `true` to auto-claim a task (set assignee to session_id and status to in_progress). Documentation examples should always include this parameter when demonstrating auto-claim behavior.", "type": "fact", "importance": 0.85, "tags": ["gobby-tasks", "API", "create_task", "claim-parameter"], "created_at": "2026-01-25T17:05:36.798926+00:00", "updated_at": "2026-01-25T17:05:36.798926+00:00", "source": "session", "source_id": "14783fc8-c1c8-4670-9bdc-0a1849c5376d"}
{"id": "mm-a4f17d3e", "content": "Spawned subagents must use gobby-sessions.get_current() to retrieve session_id and agent_run_id, communicate via gobby-agents.send_to_parent(), and terminate with gobby-agents.kill_agent(run_id). Never use CLI commands like /quit for agent termination.", "type": "pattern", "importance": 0.85, "tags": ["agent-protocol", "subagent-communication", "lifecycle-management"], "created_at": "2026-01-25T17:02:58.236794+00:00", "updated_at": "2026-01-25T17:02:58.236794+00:00", "source": "session", "source_id": "510d507d-f02a-47d5-8b8c-5c8fc2299ab3"}
{"id": "mm-06c2e32f", "content": "gobby-tasks.list_tasks() returns results in result.get('results', []) not result.get('tasks', []). When filtering for __diag__ artifacts in cleanup, iterate over result.get('results', []) and check task.get('title', '').startswith('__diag__'), then call close_task(task_id=task['id'], reason='obsolete') or delete_task(task_id=task['id']) for each match.", "type": "fact", "importance": 0.85, "tags": ["gobby-tasks", "api-patterns", "cleanup", "MCP-tools"], "created_at": "2026-01-25T04:38:01.651928+00:00", "updated_at": "2026-01-25T04:38:01.651928+00:00", "source": "session", "source_id": "389037ea-8953-4e4f-bcb4-29c5dc468357"}
{"id": "mm-42c78c93", "content": "The gobby project has a `TaskSyncManager` that handles export from SQLite to JSONL format, triggered via CLI command `gobby tasks sync --export`. Timestamps are written as-is from the database without normalization during export, so fixing timestamps at the database level (via SQL normalization) is more effective than post-processing the JSONL file.", "type": "fact", "importance": 0.85, "tags": ["architecture", "cli", "export", "workflow"], "created_at": "2026-01-25T03:59:31.181324+00:00", "updated_at": "2026-01-25T03:59:31.181324+00:00", "source": "session", "source_id": "8dfb36ae-572d-4a12-a667-0e710b658a2d"}
{"id": "mm-5d78c5cf", "content": "The gobby project has 14 test failures across 4 categories: session message tests (3), git logging tests (10), skill version warnings (2), and E2E daemon timeout (1). Session tests need assertions updated from 'Session enhanced by gobby' to check for 'Gobby Session ID:' and 'External ID:'. Git logging tests require a caplog autouse fixture to capture the gobby.utils.git logger.", "type": "context", "importance": 0.85, "tags": ["test-failures", "gobby", "debugging"], "created_at": "2026-01-25T03:55:11.338525+00:00", "updated_at": "2026-01-25T03:55:11.338525+00:00", "source": "session", "source_id": "f41bfbd1-8db4-4411-af15-7986f3249da4"}
{"id": "mm-716fec28", "content": "The gobby project uses a session-lifecycle.yaml workflow file located at src/gobby/install/shared/workflows/lifecycle/session-lifecycle.yaml that controls memory extraction behavior at session end.", "type": "fact", "importance": 0.8, "tags": ["gobby", "architecture", "memory-system", "workflows"], "created_at": "2026-02-01T02:39:40.051837+00:00", "updated_at": "2026-02-01T02:39:40.051837+00:00", "source": "session", "source_id": "ae499d78-7dcb-44dd-8df9-103c0c1ef33e"}
{"id": "mm-6dc64645", "content": "The project has a hook dispatcher system at ~/Projects/gobby/.claude/hooks/hook_dispatcher that validates tool usage. Edit tools trigger PreToolUse hooks that check for claimed tasks and enforce workflow rules.", "type": "fact", "importance": 0.8, "tags": ["hooks", "tool-validation", "task-claiming"], "created_at": "2026-02-01T01:42:53.806315+00:00", "updated_at": "2026-02-01T01:42:53.806315+00:00", "source": "session", "source_id": "148858d4-70aa-430c-90ab-861f2584dc3c"}
{"id": "mm-1470559d", "content": "Gemini model spawning uses provider='gemini' with model='gemini-3-pro' (not gemini-2.5-pro). This is the current preview model in the Gn_agent_in_worktree tool in worktrees.py must resolve task_id formats (supports #N, N, path, or UUID) before spawning. Task ID resolution requires task_manager parameter and error handling for invalid formats.", "type": "pattern", "importance": 0.8, "tags": ["task-management", "spawn", "task-id-resolution"], "created_at": "2026-02-01T01:42:53.759279+00:00", "updated_at": "2026-02-01T01:42:53.759279+00:00", "source": "session", "source_id": "4cb1f535-45d0-476c-92e1-5c11a06e1ef2"}
{"id": "mm-c7b9f92f", "content": "The gobby project uses an MCP tool interface (mcp__gobby__call_tool) for task management. Task closure requires a linked commit; attemptingatcher.py) that validates agent state at session boundaries, including task claim status. Hooks will block operations if preconditions aren't met (e.g., files can't be edited without claiming the related task).", "type": "pattern", "importance": 0.8, "tags": ["validation", "hooks", "gobby-architecture"], "created_at": "2026-02-01T01:42:53.647368+00:00", "updated_at": "2026-02-01T01:42:53.647368+00:00", "source": "session", "source_id": "595ef7e1-c5ec-401b-b6c9-cc68eb89acbc"}
{"id": "mm-b05ef62a", "content": "The gobby project uses a strangler-fig decomposition strategy documented in ~/Projects/gobby/docs/plans/strangler-fig-decomposition.md. Phase 2 of this strategy references migration-flattening.md to avoid content duplication between planning documents.", "type": "fact", "importance": 0.8, "tags": ["architecture", "decomposition-strategy", "documentation"], "created_at": "2026-02-01T01:42:53.626088+00:00", "updated_at": "2026-02-01T01:42:53.626088+00:00", "source": "session", "source_id": "49db39b5-e610-475a-9a48-a200411dd23e"}
{"id": "mm-86d5a6d5", "content": "The gobby taskow is: backup the DB → dump schema → review schema → implement changes with feature flag branching → test both code paths → validate schema equivalence → flip default → update docs. Rollback involves setting the flag to false or reverting commits.", "type": "pattern", "importance": 0.8, "tags": ["schema-migration", "testing", "rollback", "workflow"], "created_at": "2026-02-01T01:42:53.529377+00:00", "updated_at": "2026-02-01T01:42:53.529377+00:00", "source": "session", "source_id": "37010a61-6ffb-495f-b12a-e444c0981eff"}
{"id": "mm-64188667", "content": "Gobby plan skill documents use structured format: analyzes current state with file metrics, defines task hierarchy (epic/phase/feature), details each phase with specific tasks, recommends execution order, and includes verification steps. Plans are stored in ~/.claude/plans/ directory.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "documentation", "planning-format"], "created_at": "2026-02-01T01:42:53.502037+00:00", "updated_at": "2026-02-01T01:42:53.502037+00:00", "source": "session", "source_id": "c939a49c-67ad-433f-bc8f-defdac852772"}
{"id": "mm-7c72c329", "content": "The gobby project uses a session manager at ~/Projects/gobby/src/gobby/sessions/manager.py that caches session metadata including workflow_name and agent_depth fields.", "type": "fact", "importance": 0.8, "tags": ["gobby", "sessions", "metadata", "caching"], "created_at": "2026-02-01T01:42:53.392995+00:00", "updated_at": "2026-02-01T01:42:53.392995+00:00", "source": "session", "source_id": "3e5b7409-77eb-405a-8c92-14ff28eb965d"}
{"id": "mm-d25e61e3", "content": "The gobby project has hook scripts at ~/Projects/gobby/.claude/hooks/hook_dispatcher.py that validate changes before task completion. Pre-tool hooks must pass before task transitions can occur.", "type": "fact", "importance": 0.8, "tags": ["hooks", "validation", "infrastructure"], "created_at": "2026-02-01T01:42:53.362118+00:00", "updated_at": "2026-02-01T01:42:53.362118+00:00", "source": "session", "source_id": "a8a64d5c-0dcf-4d6e-ae47-45eda0c13d26"}
{"id": "mm-0044ad76", "content": "The gobby project uses YAML workflow files located at ~/Projects/gobby/src/gobby/install/shared/workflows/. The work-task-gemini.yaml file is a key workflow configuration that handles task execution and template conditionals.", "type": "fact", "importance": 0.8, "tags": ["gobby", "workflows", "file-structure", "yaml"], "created_at": "2026-02-01T01:42:53.349690+00:00", "updated_at": "2026-02-01T01:42:53.349690+00:00", "source": "session", "source_id": "c8adb817-5b37-4887-9b22-2cf2964fd235"}
{"id": "mm-02dc8ef2", "content": "The gobby project uses a plan file at ~/.claude/plans/buzzing-nibbling-sketch.md to track implementation work. This plan document serves as the source of truth for project objectives, implementation steps, and documentation updates.", "type": "fact", "importance": 0.8, "tags": ["gobby", "project-structure", "planning"], "created_at": "2026-02-01T01:42:53.298996+00:00", "updated_at": "2026-02-01T01:42:53.298996+00:00", "source": "session", "source_id": "a506fc5b-8ab1-46b2-a51d-70c731443a33"}
{"id": "mm-5bddf73f", "content": "The gobby project maintains task staty follows a pattern with SKILL.md files containing API and usage information. AGENTS.md provides examples of how to call skills with proper parameters like session_id from SessionStart context.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "skills", "documentation", "conventions"], "created_at": "2026-02-01T01:42:53.276109+00:00", "updated_at": "2026-02-01T01:42:53.276109+00:00", "source": "session", "source_id": "9baa4877-e9ad-4777-b8ad-e0cedc5228eb"}
{"id": "mm-204c424b", "content": "Plan for gobby improvements documented in ~/.claude/plans/nested-shimmying-liskov.md covers adding `pytest.mark` decorators to all tests and adding type hints to all fixtures as a comprehensive fix.", "type": "fact", "importance": 0.8, "tags": ["gobby", "plans", "file-location", "testing", "type-hints"], "created_at": "2026-02-01T01:42:53.262498+00:00", "updated_at": "2026-02-01T01:42:53.262498+00:00", "source": "session", "source_id": "df3424d0-eb12-487c-9660-a57c1cfdd398"}
{"id": "mm-2a19efe7", "content": "The gobby project uses a plan file at ~/.claude/plans/tender-scribbling-moon.md to track investigation questions and architectural decisions. This is the project's living documentation for planning refactoring work.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "project-organization", "planning", "documentation"], "created_at": "2026-02-01T01:42:53.220313+00:00", "updated_at": "2026-02-01T01:42:53.220313+00:00", "source": "session", "source_id": "bac9e680-2612-49f0-809c-a1d79f478dfe"}
{"id": "mm-6a9e3a40", "content": "The gobby project has a claude.py module at ~/Projects/gobby/src/gobby/llm/claude.py that handles LiteLLM setup. The _setup_litellm function should not mutate os.environ directly; instead, it should pass environment variables as explicit parameters to avoid side effects.", "type": "fact", "importance": 0.8, "tags": ["gobby", "claude.py", "litellm", "environment-variables"], "created_at": "2026-02-01T01:42:53.196469+00:00", "updated_at": "2026-02-01T01:42:53.196469+00:00", "source": "session", "source_id": "be491fa5-b0af-4ce2-aa89-91304485464c"}
{"id": "mm-9ed9de70", "content": "The gobby project has a claude., avoid mutating global state like os.environ in setup functions. The preference is to refactor code to pass configuration explicitly as function parameters instead of relying on environment variable side effects.", "type": "preference", "importance": 0.8, "tags": ["gobby", "code-style", "best-practices", "side-effects"], "created_at": "2026-02-01T01:42:53.187161+00:00", "updated_at": "2026-02-01T01:42:53.187161+00:00", "source": "session", "source_id": "be491fa5-b0af-4ce2-aa89-91304485464c"}
{"id": "mm-52ff99cf", "content": "The gobby project uses a workflow file at ~/Projects/gobby/.gobby/workflows/auto-task-claude.yaml that contains MCP tool calls. Recent edits removed model parameter references and updated the mcp__gobby__call_tool calls to align with current API expectations.", "type": "fact", "importance": 0.8, "tags": ["gobby", "workflow", "mcp", "auto-task-claude"], "created_at": "2026-02-01T01:42:53.177358+00:00", "updated_at": "2026-02-01T01:42:53.177358+00:00", "source": "session", "source_id": "17fd146d-89dc-4bb5-9711-d2a15dbffefb"}
{"id": "mm-223533eb", "content": "Gobby project has a test structure with unit tests in tests/skills/ and MCP tool tests in tests/mcp_proxy/tools/skills/. When writing TDD descriptions for code tasks, reference the appropriate test location based on whether the code is a skill or MCP tool.", "type": "pattern", "importance": 0.8, "tags": ["testing", "project-structure", "gobby"], "created_at": "2026-01-31T22:46:08.549711+00:00", "updated_at": "2026-01-31T22:46:08.549711+00:00", "source": "session", "source_id": "1899b42d-e3f4-422e-9432-9aeccac218da"}
{"id": "mm-d680989b", "content": "Gobby uses `uv run` as the primary way to execute Python scripts, including the hook dispatcher. This is the standard invocation method for Python tooling in the project.", "type": "pattern", "importance": 0.8, "tags": ["tooling", "python", "execution", "uv"], "created_at": "2026-01-31T22:30:46.398585+00:00", "updated_at": "2026-01-31T22:30:46.398585+00:00", "source": "session", "source_id": "3778e438-75aa-4a39-9eef-83426068dd75"}
{"id": "mm-a478b843", "content": "Gobby distinguishes between `.claude/skills/` (for Skill tool) and `.claude/commands/` (for slash commands), though they function similarly. Understanding this directory structure is important for adding new extensibility.", "type": "fact", "importance": 0.8, "tags": ["project-structure", "skills", "commands", "extensibility"], "created_at": "2026-01-31T22:30:46.397890+00:00", "updated_at": "2026-01-31T22:30:46.397890+00:00", "source": "session", "source_id": "3778e438-75aa-4a39-9eef-83426068dd75"}
{"id": "mm-c6095a4c", "content": "The gobby project uses a task management system integrated with git commits. When closing tasks, changes must be committed first with a commit message referencing the issue number (e.g., '[#6630] Fix workflow variables...')", "type": "pattern", "importance": 0.8, "tags": ["gobby", "workflow", "git-commits", "task-management", "issue-tracking"], "created_at": "2026-01-31T22:27:49.658456+00:00", "updated_at": "2026-01-31T22:27:49.658456+00:00", "source": "session", "source_id": "42f3748c-dce8-4d68-8d30-492c9b127973"}
{"id": "mm-28a11348", "content": "The gobby project uses a task management system with workflow states including 'review' status. Tasks can be routed to review state and later approved/closed using an 'approve_and_cleanup' tool that transitions tasks from reviewed to closed state.", "type": "fact", "importance": 0.8, "tags": ["gobby", "task-management", "workflow", "api"], "created_at": "2026-01-31T22:27:15.003200+00:00", "updated_at": "2026-01-31T22:27:15.003200+00:00", "source": "session", "source_id": "310aa924-114a-404b-b37a-b8700ddacb04"}
{"id": "mm-1896aae8", "content": "The project uses an issue tracking system integrated with commits (references like #6612). Commits should include the issue number in square brackets (e.g., '[#6612]') and a descriptive message of the changes made.", "type": "pattern", "importance": 0.8, "tags": ["git-workflow", "issue-tracking", "gobby"], "created_at": "2026-01-30T20:21:01.337577+00:00", "updated_at": "2026-01-30T20:21:01.337577+00:00", "source": "session", "source_id": "8ad8f632-bf82-461e-8393-f27b8d3a021f"}
{"id": "mm-21a97e6a", "content": "When adding new configuration options to gobby, check existing config classes (DaemonConfig, WorkflowConfig, SessionLifecycleConfig) in the configuration management modules before creating new ones to avoid duplication.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "architecture", "config-design"], "created_at": "2026-01-30T17:16:47.938974+00:00", "updated_at": "2026-01-30T17:16:47.938974+00:00", "source": "session", "source_id": "24dd0a64-04d3-4154-b31a-e903f8fa484e"}
{"id": "mm-9cb407fd", "content": "The gobby project uses a git-based workflow with commit messages referencing issue numbers (e.g., '[#6603]'). Tasks are tracked and closed via an MCP tool that accepts commit_sha parameter.", "type": "pattern", "importance": 0.8, "tags": ["workflow", "git", "commits", "gobby"], "created_at": "2026-01-30T17:01:34.917516+00:00", "updated_at": "2026-01-30T17:01:34.917516+00:00", "source": "session", "source_id": "31a32563-deb5-4d75-9380-937e7500bc88"}
{"id": "mm-1accdd44", "content": "The project structure includes `.gobby/` directory containing memories.jsonl, tasks.jsonl, and tasks_meta.json for tracking session state. Event handlers are located in `src/gobby/hooks/event_handlers/` directory with specific handlers like `_session.py` for session lifecycle events.", "type": "fact", "importance": 0.8, "tags": ["project-structure", "directory-layout", "event-handlers"], "created_at": "2026-01-30T16:59:34.013983+00:00", "updated_at": "2026-01-30T16:59:34.013983+00:00", "source": "session", "source_id": "d9d28f23-f972-4192-b039-e92e928c45b4"}
{"id": "mm-10000a5a", "content": "The gobby project uses a retry pattern with both sync and async variants. The `_retry_async()` method was extracted as a helper in claude.py (commit 478c87bf) to handle retryable operations with configurable max_retries parameter.", "type": "fact", "importance": 0.8, "tags": ["gobby", "claude.py", "retry-logic", "async-patterns"], "created_at": "2026-01-30T16:54:11.666529+00:00", "updated_at": "2026-01-30T16:54:11.666529+00:00", "source": "session", "source_id": "f35b9a63-ea64-4bb8-aa7c-17c033c8fe4e"}
{"id": "mm-51dc7e03", "content": "The gobby project contains a Claude LLM integration module at src/gobby/llm/claude.py. Recent work involved extracting a _prepare_image_data helper function to reduce code duplication in image validation logic.", "type": "fact", "importance": 0.8, "tags": ["architecture", "file-location", "claude-integration"], "created_at": "2026-01-30T16:53:32.756673+00:00", "updated_at": "2026-01-30T16:53:32.756673+00:00", "source": "session", "source_id": "a18a5103-fcf7-47cd-aca7-ce25fb96f55f"}
{"id": "mm-2bdd032c", "content": "The gobby project uses feature branch workflow with commit messages that reference task IDs (e.g., '[#6589] Document lifecycle workflow blocking and hook data'). Tasks are closed after completing related work and committing changes.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "git-workflow", "commit-conventions", "task-tracking"], "created_at": "2026-01-30T16:49:17.108692+00:00", "updated_at": "2026-01-30T16:49:17.108692+00:00", "source": "session", "source_id": "fdbe4c8c-e194-4744-ae02-fa63a5422b54"}
{"id": "mm-80faf2fb", "content": "The gobby project uses workflow lifecycle hooks with events like 'task_claimed' that are set in detection_helpers.py. The workflows.md documentation guide covers lifecycle workflow blocking and hook data patterns.", "type": "fact", "importance": 0.8, "tags": ["gobby", "workflows", "hooks", "lifecycle"], "created_at": "2026-01-30T16:49:17.105279+00:00", "updated_at": "2026-01-30T16:49:17.105279+00:00", "source": "session", "source_id": "fdbe4c8c-e194-4744-ae02-fa63a5422b54"}
{"id": "mm-88b781bf", "content": "Gobby uses an MCP (Model Context Protocol) tool infrastructure with a hook dispatcher system at .claude/hooks/hook_dispatcher.py for managing pre-tool and tool execution hooks.", "type": "fact", "importance": 0.8, "tags": ["gobby", "architecture", "mcp", "tool-system"], "created_at": "2026-01-30T16:45:16.087704+00:00", "updated_at": "2026-01-30T16:45:16.087704+00:00", "source": "session", "source_id": "49bf2caa-bd8e-411a-ae96-8afaa1fef8ac"}
{"id": "mm-8b0e7dce", "content": "The project has a hook system via .claude/hooks/hook_dispatcher.py that runs pre-tool checks. When tools fail, commits must be made first before closing tasks, as the hook validates state before allowing task closure.", "type": "pattern", "importance": 0.8, "tags": ["hooks", "workflow", "git", "task-closure"], "created_at": "2026-01-30T16:39:21.491810+00:00", "updated_at": "2026-01-30T16:39:21.491810+00:00", "source": "session", "source_id": "5202a582-aba1-46e6-8f81-35fb06ae9310"}
{"id": "mm-5c433891", "content": "The gobby project uses a centralized paths.py utility module for stable path resolution. This was added in commit #6598 to standardize how paths are handled across the codebase.", "type": "fact", "importance": 0.8, "tags": ["architecture", "paths", "utilities", "centralization"], "created_at": "2026-01-30T16:39:21.490258+00:00", "updated_at": "2026-01-30T16:39:21.490258+00:00", "source": "session", "source_id": "5202a582-aba1-46e6-8f81-35fb06ae9310"}
{"id": "mm-6a612725", "content": "The gobby project has a .claude/hooks/ directory with hook_dispatcher.py that enforces task closure requirements and validates pre-tool operations. Commits need to be made before task closure operations can succeed.", "type": "fact", "importance": 0.8, "tags": ["gobby", "architecture", "hooks", "git-integration"], "created_at": "2026-01-30T16:38:16.974910+00:00", "updated_at": "2026-01-30T16:38:16.974910+00:00", "source": "session", "source_id": "45c897a8-445a-41d1-ab1d-2f15a110f7c8"}
{"id": "mm-df6fdaff", "content": "The gobby project uses a task management system with MCP tools (close_task, suggest_next_task). Tests validate task suggestion logic including parent-child relationships and leaf task handling. All 31 tests pass.", "type": "fact", "importance": 0.8, "tags": ["gobby", "testing", "task-management", "mcp-tools"], "created_at": "2026-01-30T16:38:16.964634+00:00", "updated_at": "2026-01-30T16:38:16.964634+00:00", "source": "session", "source_id": "45c897a8-445a-41d1-ab1d-2f15a110f7c8"}
{"id": "mm-eeff7f23", "content": "The project has a hook system at .claude/hooks/hook_dispatcher.py that runs pre-tool and post-tool checks. The close_task MCP tool requires getting the schema first via get_tool_schema before calling it with proper parameters.", "type": "fact", "importance": 0.8, "tags": ["hooks", "mcp-tools", "tooling", "gobby-infrastructure"], "created_at": "2026-01-30T16:33:48.866113+00:00", "updated_at": "2026-01-30T16:33:48.866113+00:00", "source": "session", "source_id": "dae52101-4612-4d2f-96d6-b462ab7e52b1"}
{"id": "mm-4cca15ed", "content": "The gobby project uses MCP (Model Context Protocol) tools and has a workflow system in src/gobby/mcp_proxy/tools/workflows/. The end_workflow function was refactored to accept a loader parameter, indicating the workflow system supports parameterized execution.", "type": "fact", "importance": 0.8, "tags": ["architecture", "workflows", "mcp-tools", "gobby"], "created_at": "2026-01-30T16:33:48.859699+00:00", "updated_at": "2026-01-30T16:33:48.859699+00:00", "source": "session", "source_id": "dae52101-4612-4d2f-96d6-b462ab7e52b1"}
{"id": "mm-e60fb36e", "content": "The gobby codebase uses mocks in tests to handle dependency injection, particularly for resolution functions. Mock setup should cover all required parameters when making optional parameters available in APIs.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "testing", "mocking", "test_design"], "created_at": "2026-01-30T16:30:21.375259+00:00", "updated_at": "2026-01-30T16:30:21.375259+00:00", "source": "session", "source_id": "1e237409-bb73-4358-8a4e-1dd38cf8dfab"}
{"id": "mm-8b397143", "content": "The dev branch in gobby is ahead of origin/dev and uses squash/feature commit workflow. Always check git status and commit changes before attempting to close tasks, as the close_task tool requires a valid commit SHA.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "git-workflow", "dev-branch", "commits"], "created_at": "2026-01-30T16:29:54.068601+00:00", "updated_at": "2026-01-30T16:29:54.068601+00:00", "source": "session", "source_id": "04bda0d5-3cf3-4466-b393-dbb62e727e8b"}
{"id": "mm-db140739", "content": "Gobby has a task management system integrated with git commits. Tasks can be closed by calling the close_task MCP tool with a commit SHA, which links the work to specific git commits (e.g., issue #6594).", "type": "fact", "importance": 0.8, "tags": ["gobby", "workflow", "git", "tasks"], "created_at": "2026-01-30T16:26:58.085079+00:00", "updated_at": "2026-01-30T16:26:58.085079+00:00", "source": "session", "source_id": "037e4d8b-aee6-4e95-bb4c-da81f10c45b6"}
{"id": "mm-abdf5222", "content": "The gobby project uses MCP (Model Context Protocol) tools with a pre-tool hook system located at .claude/hooks/hook_dispatcher.py that validates tool calls before execution.", "type": "fact", "importance": 0.8, "tags": ["gobby", "mcp", "architecture", "hooks"], "created_at": "2026-01-30T16:26:58.083096+00:00", "updated_at": "2026-01-30T16:26:58.083096+00:00", "source": "session", "source_id": "037e4d8b-aee6-4e95-bb4c-da81f10c45b6"}
{"id": "mm-90998a38", "content": "Bandit security linting is used in gobby for Python code quality checks. The project tracks bandit issues (e.g., B110 try-except-pass violations) and fixes them with specific commit messages referencing issue numbers (e.g., '[#6593]').", "type": "fact", "importance": 0.8, "tags": ["gobby", "bandit", "linting", "security", "code-quality"], "created_at": "2026-01-30T16:24:43.521404+00:00", "updated_at": "2026-01-30T16:24:43.521404+00:00", "source": "session", "source_id": "a933025b-1bce-4aed-9799-8a0c4fa06590"}
{"id": "mm-b1280b60", "content": "The gobby project uses a task management system with commit-based task closure. Tasks require a commit message to close and validate via pre-tool hooks (hook_dispatcher.py). The workflow involves linting checks before committing.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "task-management", "commit-workflow", "hooks"], "created_at": "2026-01-30T16:24:43.519713+00:00", "updated_at": "2026-01-30T16:24:43.519713+00:00", "source": "session", "source_id": "a933025b-1bce-4aed-9799-8a0c4fa06590"}
{"id": "mm-94b5058c", "content": "The gobby project uses a task enforcement system with enforcement packages. Task #6339 'Create enforcement package for task enforcement decomposition' established the foundation for this architecture.", "type": "fact", "importance": 0.8, "tags": ["gobby", "task-enforcement", "architecture", "packages"], "created_at": "2026-01-30T16:17:10.073914+00:00", "updated_at": "2026-01-30T16:17:10.073914+00:00", "source": "session", "source_id": "de45fa0f-60fa-4d82-8bd9-c0f33462dccb"}
{"id": "mm-a35793d4", "content": "Recent work implemented trigger-based filtering to Gemini's on_pre_compact hook (commit 4e625825, issue #6588). This optimization improved Gemini compaction performance.", "type": "context", "importance": 0.8, "tags": ["gobby", "gemini", "optimization", "hooks", "performance"], "created_at": "2026-01-30T15:55:14.999734+00:00", "updated_at": "2026-01-30T15:55:14.999734+00:00", "source": "session", "source_id": "0849573d-1848-44a7-a8b4-0300bea6b53b"}
{"id": "mm-c790a919", "content": "Gobby project includes a daemon server with HTTP (localhost:60887) and WebSocket (localhost:60888) endpoints. The daemon can be restarted for verification and reports MCP provider status.", "type": "fact", "importance": 0.8, "tags": ["gobby", "daemon", "server", "architecture"], "created_at": "2026-01-30T15:51:10.022894+00:00", "updated_at": "2026-01-30T15:51:10.022894+00:00", "source": "session", "source_id": "bbd47ee8-2900-42de-b8a4-5eb6249f0c59"}
{"id": "mm-4a20e0a3", "content": "The gobby project uses a workflow file at ~/Projects/gobby/.gobby/workflows/auto-task-claude.yaml that contains MCP tool calls. Recent edits removed model parameter references and updated the mcp__gobby__call_tool calls to align with current API expectations.", "type": "fact", "importance": 0.8, "tags": ["gobby", "workflow", "mcp", "auto-task-claude"], "created_at": "2026-01-30T15:32:45.886033+00:00", "updated_at": "2026-01-30T15:32:45.886033+00:00", "source": "session", "source_id": "17fd146d-89dc-4bb5-9711-d2a15dbffefb"}
{"id": "mm-e1f9fb7c", "content": "In gobby, avoid mutating global state like os.environ in setup functions. The preference is to refactor code to pass configuration explicitly as function parameters instead of relying on environment variable side effects.", "type": "preference", "importance": 0.8, "tags": ["gobby", "code-style", "best-practices", "side-effects"], "created_at": "2026-01-30T15:29:00.184287+00:00", "updated_at": "2026-01-30T15:29:00.184287+00:00", "source": "session", "source_id": "be491fa5-b0af-4ce2-aa89-91304485464c"}
{"id": "mm-51d8102c", "content": "The gobby project has a claude.py module at ~/Projects/gobby/src/gobby/llm/claude.py that handles LiteLLM setup. The _setup_litellm function should not mutate os.environ directly; instead, it should pass environment variables as explicit parameters to avoid side effects.", "type": "fact", "importance": 0.8, "tags": ["gobby", "claude.py", "litellm", "environment-variables"], "created_at": "2026-01-30T15:29:00.181938+00:00", "updated_at": "2026-01-30T15:29:00.181938+00:00", "source": "session", "source_id": "be491fa5-b0af-4ce2-aa89-91304485464c"}
{"id": "mm-ee8d67cf", "content": "Commits in this project follow a pattern of referencing issue numbers in brackets, e.g., '[#6571]' or '[#6575]', followed by a description of fixes. Multiple related changes are grouped into single commits.", "type": "pattern", "importance": 0.8, "tags": ["git-workflow", "commit-messages", "documentation"], "created_at": "2026-01-30T14:44:28.876031+00:00", "updated_at": "2026-01-30T14:44:28.876031+00:00", "source": "session", "source_id": "0dffacca-e3fd-48b6-9e60-1e68098112d1"}
{"id": "mm-dfafe98d", "content": "The gobby project uses a task tracking system with .gobby/tasks.jsonl and .gobby/tasks_meta.json files. Tasks are closed using a tool with 'reason' parameter (not other parameter names).", "type": "fact", "importance": 0.8, "tags": ["project-structure", "task-management", "gobby"], "created_at": "2026-01-30T14:44:28.874553+00:00", "updated_at": "2026-01-30T14:44:28.874553+00:00", "source": "session", "source_id": "0dffacca-e3fd-48b6-9e60-1e68098112d1"}
{"id": "mm-090eec50", "content": "The gobby project has a test suite with 198 tests that all pass. Tests are located in tests/hooks/ directory. Coverage tracking shows src/gobby/storage/tasks/_search.py at 31% coverage (lines 32-54 need testing).", "type": "fact", "importance": 0.8, "tags": ["testing", "coverage", "project-structure"], "created_at": "2026-01-30T14:43:31.710889+00:00", "updated_at": "2026-01-30T14:43:31.710889+00:00", "source": "session", "source_id": "3094c52c-a09f-44ce-8f44-22329bb971a9"}
{"id": "mm-f3b4c7c3", "content": "The project uses a 'mc' tool (likely a CLI command) that accepts parameters with 'reason' field (not 'result' or 'response'). This tool is used for operations like marking tasks complete or similar state changes.", "type": "fact", "importance": 0.8, "tags": ["tooling", "CLI", "parameters"], "created_at": "2026-01-30T05:42:30.505686+00:00", "updated_at": "2026-01-30T05:42:30.505686+00:00", "source": "session", "source_id": "2f8f0abb-0651-43a3-84bb-10d649559ea9"}
{"id": "mm-499325e4", "content": "Commit messages in this project follow the format '[#ISSUE_NUMBER] Description' (e.g., '[#6569] Export EDIT_TOOLS from event_handlers package'). This links commits directly to issue tracking.", "type": "pattern", "importance": 0.8, "tags": ["git-workflow", "commit-messages", "issue-tracking"], "created_at": "2026-01-30T05:36:15.004058+00:00", "updated_at": "2026-01-30T05:36:15.004058+00:00", "source": "session", "source_id": "022c84bd-87d9-4bc1-a18d-f867c1d1dc8f"}
{"id": "mm-e304237a", "content": "When committing changes to gobby, use git commit with message format '[#ISSUE_NUMBER] Description' (e.g., '[#6570] Fix workflow lifecycle safety'). This format appears to be the project's standard for tracking issues in commits.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "git", "commits", "conventions"], "created_at": "2026-01-30T05:36:12.760642+00:00", "updated_at": "2026-01-30T05:36:12.760642+00:00", "source": "session", "source_id": "abdf6562-8f03-4060-9691-0dc9911b674b"}
{"id": "mm-f6d7a4c8", "content": "The gobby project uses MCP (Model Context Protocol) tools with a hook dispatcher system at .claude/hooks/hook_dispatcher.py that validates tool calls before execution. Pre-tool hooks must complete successfully before MCP operations can proceed.", "type": "fact", "importance": 0.8, "tags": ["gobby", "mcp", "hooks", "architecture"], "created_at": "2026-01-30T05:36:12.754914+00:00", "updated_at": "2026-01-30T05:36:12.754914+00:00", "source": "session", "source_id": "abdf6562-8f03-4060-9691-0dc9911b674b"}
{"id": "mm-069d62b3", "content": "The gobby project has a skills system with progressive disclosure documentation. The 'discovering-tools' skill consolidates content from 'mcp-guide' and 'discovering-tools' skills, including sections on tool discovery, understanding tool capabilities, and calling tools without schemas.", "type": "fact", "importance": 0.8, "tags": ["gobby", "skills-system", "documentation", "discovering-tools"], "created_at": "2026-01-30T05:22:14.081594+00:00", "updated_at": "2026-01-30T05:22:14.081594+00:00", "source": "session", "source_id": "e7d731e3-3254-4be0-bb35-6a270f20a3d6"}
{"id": "mm-118c12be", "content": "User prefers to clarify architectural decisions through guided questions before implementation. Verify assumptions about API provider choices and configuration strategy before proceeding with code changes.", "type": "preference", "importance": 0.8, "tags": ["user-style", "collaboration", "architecture-decisions"], "created_at": "2026-01-30T05:04:49.421912+00:00", "updated_at": "2026-01-30T05:04:49.421912+00:00", "source": "session", "source_id": "c4057c01-26f2-4c9f-bb02-7a23a7ce74dc"}
{"id": "mm-d0bf383c", "content": "The describe_image() function already uses LiteLLM and requires ANTHROPIC_API_KEY. For consistency, standardize the provider configuration across the codebase so that if a user provides their API key, the system uses it directly; otherwise, fall back to LiteLLM.", "type": "pattern", "importance": 0.8, "tags": ["litellm", "describe-image", "api-key-strategy", "gobby"], "created_at": "2026-01-30T05:04:49.413977+00:00", "updated_at": "2026-01-30T05:04:49.413977+00:00", "source": "session", "source_id": "c4057c01-26f2-4c9f-bb02-7a23a7ce74dc"}
{"id": "mm-774d8275", "content": "The user prefers iterative planning through document-based refinement rather than direct code implementation. Multiple edit passes on the plan file indicate a preference for getting the design right before implementation begins.", "type": "preference", "importance": 0.8, "tags": ["gobby", "workflow-preference", "planning-first", "iterative-design"], "created_at": "2026-01-30T04:54:39.994707+00:00", "updated_at": "2026-01-30T04:54:39.994707+00:00", "source": "session", "source_id": "7786b710-a431-44cc-aba7-bff0ec576229"}
{"id": "mm-09750f4a", "content": "Gobby project uses a progressive tool discovery workflow pattern via plans. The typed-weaving-breeze.md plan document was the primary artifact for capturing implementation strategy and design decisions during this session.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "workflow", "planning", "tool-discovery"], "created_at": "2026-01-30T04:54:39.991821+00:00", "updated_at": "2026-01-30T04:54:39.991821+00:00", "source": "session", "source_id": "7786b710-a431-44cc-aba7-bff0ec576229"}
{"id": "mm-67098d8e", "content": "The gobby project has a task management system integrated with git commits. Tasks must be explicitly closed using the close_task command after changes are committed. Task metadata appears in commit messages (e.g., '[#6553]').", "type": "context", "importance": 0.8, "tags": ["gobby", "task-management", "workflow"], "created_at": "2026-01-30T01:37:00.820099+00:00", "updated_at": "2026-01-30T01:37:00.820099+00:00", "source": "session", "source_id": "587b7b98-1c21-44c7-977a-d7f0373c263d"}
{"id": "mm-e5340c1c", "content": "The gobby project has a session creation system that requires a project_id parameter. Sessions are created via INSERT INTO sessions() SQL queries and are tracked through an ActionContext dataclass that contains session information.", "type": "fact", "importance": 0.8, "tags": ["sessions", "database", "architecture", "ActionContext"], "created_at": "2026-01-30T01:27:17.884289+00:00", "updated_at": "2026-01-30T01:27:17.884289+00:00", "source": "session", "source_id": "daf9fa89-b207-4674-acb3-f6c28bebb609"}
{"id": "mm-cc3a096f", "content": "The gobby project has a custom hook dispatcher system at .claude/hooks/hook_dispatcher.py that validates tool calls before execution, enforcing requirements like the 'reason' parameter for task closures.", "type": "fact", "importance": 0.8, "tags": ["gobby", "architecture", "hooks", "tool-validation"], "created_at": "2026-01-30T01:25:53.722677+00:00", "updated_at": "2026-01-30T01:25:53.722677+00:00", "source": "session", "source_id": "5a9d9ac3-116c-4f65-8ff8-494dd1e0b121"}
{"id": "mm-75cf2b27", "content": "Hook metadata injection flow uses an in-memory approach to handle mid-session restarts, avoiding filesystem-based state management for better resilience across restart boundaries.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "hooks", "metadata", "in-memory", "architecture"], "created_at": "2026-01-30T00:26:30.402741+00:00", "updated_at": "2026-01-30T00:26:30.402741+00:00", "source": "session", "source_id": "ecc2810e-4888-4aa1-8467-3c4253472fd6"}
{"id": "mm-07ea8b36", "content": "The project maintains high test coverage with 429 passing tests. All tests must pass and formatting must be verified before committing changes.", "type": "context", "importance": 0.8, "tags": ["gobby", "testing", "quality-assurance"], "created_at": "2026-01-30T00:12:54.927337+00:00", "updated_at": "2026-01-30T00:12:54.927337+00:00", "source": "session", "source_id": "e4adfa00-ab9c-46b0-978c-57160a4a54dd"}
{"id": "mm-084d6e76", "content": "Gobby uses a project.json file to define lint, format, and other script commands accessible via `uv run`. This is the canonical reference for project scripts.", "type": "fact", "importance": 0.8, "tags": ["gobby", "project-configuration", "uv", "scripts"], "created_at": "2026-01-29T23:57:38.878578+00:00", "updated_at": "2026-01-29T23:57:38.878578+00:00", "source": "session", "source_id": "52c06440-8de4-4444-aa93-18176fd73e97"}
{"id": "mm-5e215b3c", "content": "The gobby project uses a plan file at ~/.claude/plans/tender-scribbling-moon.md to track investigation questions and architectural decisions. This is the project's living documentation for planning refactoring work.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "project-organization", "planning", "documentation"], "created_at": "2026-01-29T23:49:24.404173+00:00", "updated_at": "2026-01-29T23:49:24.404173+00:00", "source": "session", "source_id": "bac9e680-2612-49f0-809c-a1d79f478dfe"}
{"id": "mm-85b1f913", "content": "The gobby project uses a hook dispatcher system at .claude/hooks/hook_dispatcher.py that runs via 'uv run python' and handles pre-tool-use operations. When task closing fails due to hook errors, commit changes first before attempting task closure.", "type": "context", "importance": 0.8, "tags": ["gobby", "hooks", "workflow", "task-closure"], "created_at": "2026-01-29T23:07:00.022417+00:00", "updated_at": "2026-01-29T23:07:00.022417+00:00", "source": "session", "source_id": "43dc9780-f610-4a78-a68d-beb8b6ec1b7c"}
{"id": "mm-b2ccbfa8", "content": "Task management workflow: When stopping a session with an in_progress task, commit changes first, then close the task using close_task to avoid hook dispatcher errors.", "type": "pattern", "importance": 0.8, "tags": ["workflow", "task-management", "git", "hooks"], "created_at": "2026-01-29T23:06:08.788256+00:00", "updated_at": "2026-01-29T23:06:08.788256+00:00", "source": "session", "source_id": "0d0a35d4-a860-4acd-83a3-4625dac1a658"}
{"id": "mm-5a0f1f78", "content": "The gobby project uses a hook dispatcher system at ~/.claude/hooks/hook_dispatcher.py that runs pre-tool validation checks via uv. This system must be satisfied before certain operations (like MCP tool calls) can proceed.", "type": "fact", "importance": 0.8, "tags": ["gobby", "infrastructure", "hooks", "mcp"], "created_at": "2026-01-29T23:01:39.006706+00:00", "updated_at": "2026-01-29T23:01:39.006706+00:00", "source": "session", "source_id": "9841346c-e803-418c-8622-66237103439c"}
{"id": "mm-3badda5c", "content": "The gobby project tracks memories in `.gobby/memories.jsonl` and has plugin files in `.gobby/plugins/` (including `code_guardian.py` and `example_plugin.py`). These are part of the standard project structure.", "type": "fact", "importance": 0.8, "tags": ["project-structure", "gobby", "plugins", "memories"], "created_at": "2026-01-29T22:08:28.381462+00:00", "updated_at": "2026-01-29T22:08:28.381462+00:00", "source": "session", "source_id": "53dab286-6423-4ec7-bd65-743cab2aea63"}
{"id": "mm-481dda02", "content": "The gobby project uses a hook-based system with .claude/hooks/hook_dispatcher.py for pre-tool-use validation. When closing tasks, use the mcgobby tool with commit_sha parameter to properly trigger these hooks.", "type": "fact", "importance": 0.8, "tags": ["gobby", "hooks", "task-closing", "mcgobby-tool"], "created_at": "2026-01-29T21:48:42.275908+00:00", "updated_at": "2026-01-29T21:48:42.275908+00:00", "source": "session", "source_id": "94675099-1199-4ead-b6c2-f2796ad3e6db"}
{"id": "mm-b68e6921", "content": "The gobby project uses a skill management system where skills can be removed using the `remove_skill` tool (not `delete_skill`). The daemon needs to be restarted after modifying skills to sync changes properly.", "type": "fact", "importance": 0.8, "tags": ["gobby", "skills", "daemon", "api"], "created_at": "2026-01-29T21:48:26.557639+00:00", "updated_at": "2026-01-29T21:48:26.557639+00:00", "source": "session", "source_id": "5ba7be0f-f939-4339-8dc4-21e17fcda409"}
{"id": "mm-4f059742", "content": "The gobby project uses a task management system with numbered references (e.g., #6473, #6525). Tasks are organized in phases (Phase 1: Auth Foundation, Phase 5, etc.) and can be created and queried via API calls that return success responses with task IDs and sequence numbers.", "type": "fact", "importance": 0.8, "tags": ["gobby", "task-system", "api", "project-structure"], "created_at": "2026-01-29T21:48:18.424835+00:00", "updated_at": "2026-01-29T21:48:18.424835+00:00", "source": "session", "source_id": "f5d36288-0711-4210-84bb-8ba85bf97a99"}
{"id": "mm-aad72bfb", "content": "Plan for gobby improvements documented in ~/.claude/plans/nested-shimmying-liskov.md covers adding `pytest.mark` decorators to all tests and adding type hints to all fixtures as a comprehensive fix.", "type": "fact", "importance": 0.8, "tags": ["gobby", "plans", "file-location", "testing", "type-hints"], "created_at": "2026-01-29T21:45:31.987297+00:00", "updated_at": "2026-01-29T21:45:31.987297+00:00", "source": "session", "source_id": "df3424d0-eb12-487c-9660-a57c1cfdd398"}
{"id": "mm-ad0439e4", "content": "Gobby uses a dev branch with upstream tracking (origin/dev). When committing changes, use selective staging (`git add` specific files) and include issue references in commit messages (e.g., `[#6471]` format).", "type": "pattern", "importance": 0.8, "tags": ["gobby", "git", "workflow", "commits"], "created_at": "2026-01-29T21:43:53.450809+00:00", "updated_at": "2026-01-29T21:43:53.450809+00:00", "source": "session", "source_id": "8a5835e4-3a01-49c6-993d-6f3148bc344e"}
{"id": "mm-6a2d4d35", "content": "The gobby project uses a pre-tool-use hook system via `~/.claude/hooks/hook_dispatcher.py` that runs before MCP tool calls. This hook must complete successfully before tools like task closing can execute.", "type": "fact", "importance": 0.8, "tags": ["gobby", "mcp", "hooks", "workflow"], "created_at": "2026-01-29T21:43:53.449809+00:00", "updated_at": "2026-01-29T21:43:53.449809+00:00", "source": "session", "source_id": "8a5835e4-3a01-49c6-993d-6f3148bc344e"}
{"id": "mm-f912e6ea", "content": "User prefers to review plan content before execution approval. When creating plans (like drifting-napping-milner.md), wait for user confirmation before executing the planned actions with Execute tool.", "type": "preference", "importance": 0.8, "tags": ["workflow", "execution", "planning"], "created_at": "2026-01-29T21:41:45.896206+00:00", "updated_at": "2026-01-29T21:41:45.896206+00:00", "source": "session", "source_id": "9baa4877-e9ad-4777-b8ad-e0cedc5228eb"}
{"id": "mm-de548680", "content": "Skill documentation in gobby follows a pattern with SKILL.md files containing API and usage information. AGENTS.md provides examples of how to call skills with proper parameters like session_id from SessionStart context.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "skills", "documentation", "conventions"], "created_at": "2026-01-29T21:41:45.895884+00:00", "updated_at": "2026-01-29T21:41:45.895884+00:00", "source": "session", "source_id": "9baa4877-e9ad-4777-b8ad-e0cedc5228eb"}
{"id": "mm-38b68cc9", "content": "The gobby project has a webhook system in src/gobby/hooks/webhooks.py that uses datetime.now() for tracking start_time, and a sync/tasks.py module that handles asynchronous task processing. The project uses SQLite for local storage via a database manager module.", "type": "fact", "importance": 0.8, "tags": ["architecture", "gobby", "webhooks", "sqlite", "async"], "created_at": "2026-01-29T21:38:03.445262+00:00", "updated_at": "2026-01-29T21:38:03.445262+00:00", "source": "session", "source_id": "d9a04861-719c-46f4-8332-ebdeff098544"}
{"id": "mm-edab1863", "content": "The gobby project maintains task state in `.gobby/tasks.jsonl` and uses a task completion workflow that requires committing changes and calling an MCP tool to close tasks after work is done.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "tasks", "git", "workflow"], "created_at": "2026-01-29T21:25:43.532720+00:00", "updated_at": "2026-01-29T21:25:43.532720+00:00", "source": "session", "source_id": "563e5361-d9f3-47a6-ada0-af6511117dac"}
{"id": "mm-4329f28a", "content": "The gobby project uses a pre-tool-use hook system via `.claude/hooks/hook_dispatcher.py` that runs before MCP tool calls. This hook can fail and prevent tool execution, requiring commits to be made before certain operations.", "type": "fact", "importance": 0.8, "tags": ["gobby", "hooks", "mcp", "workflow"], "created_at": "2026-01-29T21:25:43.530359+00:00", "updated_at": "2026-01-29T21:25:43.530359+00:00", "source": "session", "source_id": "563e5361-d9f3-47a6-ada0-af6511117dac"}
{"id": "mm-a5cb5083", "content": "The gobby project uses mypy for type checking with a multi-file code quality workflow. When addressing mypy errors in artifacts.py and similar files, use str() conversions on session_manager.resolve_s* methods to satisfy type requirements.", "type": "pattern", "importance": 0.8, "tags": ["mypy", "type-checking", "code-quality", "artifacts.py"], "created_at": "2026-01-29T21:11:41.508673+00:00", "updated_at": "2026-01-29T21:11:41.508673+00:00", "source": "session", "source_id": "fd94c8c2-f988-4c64-8c1b-0958eff0cc06"}
{"id": "mm-7a8cc83e", "content": "Gobby project uses a task-based workflow with .gobby/ directory tracking memories, tasks, and metadata. Sessions involve committing changes with issue references (e.g., [#6464]) and running background test suites to validate fixes.", "type": "context", "importance": 0.8, "tags": ["gobby", "workflow", "testing", "git"], "created_at": "2026-01-29T21:08:09.780432+00:00", "updated_at": "2026-01-29T21:08:09.780432+00:00", "source": "session", "source_id": "6ea5dbf3-d8eb-4764-840d-f8554f7828d0"}
{"id": "mm-296d2905", "content": "Commit messages in gobby follow the pattern '[#<issue_number>] <description>' (e.g., '[#6465] Fix multi-file code quality issues'). This links commits to issue tracking.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "git", "commit-conventions"], "created_at": "2026-01-29T21:05:29.384578+00:00", "updated_at": "2026-01-29T21:05:29.384578+00:00", "source": "session", "source_id": "a8ab47ba-ac70-44b1-b967-796dab065853"}
{"id": "mm-f227e66f", "content": "The gobby project uses a .gobby directory structure to track memories (memories.jsonl) and tasks (tasks.jsonl). These files are version-controlled and updated during development workflows.", "type": "fact", "importance": 0.8, "tags": ["gobby", "project-structure", "version-control"], "created_at": "2026-01-29T21:05:29.381009+00:00", "updated_at": "2026-01-29T21:05:29.381009+00:00", "source": "session", "source_id": "a8ab47ba-ac70-44b1-b967-796dab065853"}
{"id": "mm-eaf2d594", "content": "The gobby project uses git commits with issue references in the format '[#ISSUE_NUMBER] Description'. Changes must be committed before closing tasks via the MCP tool.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "git", "workflow", "commits"], "created_at": "2026-01-29T20:26:18.879375+00:00", "updated_at": "2026-01-29T20:26:18.879375+00:00", "source": "session", "source_id": "93615064-a858-4167-818d-f7eff76fde21"}
{"id": "mm-12fbf867", "content": "The gobby project uses a linting/code quality check system that validates changes before commits. Run linting checks after making edits to verify code quality passes all checks.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "code-quality", "linting", "workflow"], "created_at": "2026-01-29T20:26:18.877920+00:00", "updated_at": "2026-01-29T20:26:18.877920+00:00", "source": "session", "source_id": "93615064-a858-4167-818d-f7eff76fde21"}
{"id": "mm-a916b879", "content": "When closing tasks in gobby, use the close_task MCP tool without a commit_sha parameter (the first attempt with commit_sha failed with 'Unknown parameter' error, but succeeded without it).", "type": "pattern", "importance": 0.8, "tags": ["gobby", "task-management", "mcp-tools", "api-patterns"], "created_at": "2026-01-29T18:19:17.865080+00:00", "updated_at": "2026-01-29T18:19:17.865080+00:00", "source": "session", "source_id": "88282a6f-dcdc-4421-9f80-68006be9b1ce"}
{"id": "mm-d8bf98de", "content": "The gobby project uses a hook dispatcher system (located at .claude/hooks/hook_dispatcher.py) that runs on pre-tool-use and stop events. Tasks must be committed before certain MCP tool operations can complete successfully.", "type": "fact", "importance": 0.8, "tags": ["gobby", "hooks", "workflow", "mcp-tools"], "created_at": "2026-01-29T18:19:17.864471+00:00", "updated_at": "2026-01-29T18:19:17.864471+00:00", "source": "session", "source_id": "88282a6f-dcdc-4421-9f80-68006be9b1ce"}
{"id": "mm-f8938e4d", "content": "gobby_platform was an earlier failed attempt at the Gobby project and should not be used as a reference. Starting fresh is preferred over salvaging code from this codebase.", "type": "context", "importance": 0.8, "tags": ["project-history", "gobby_platform", "architecture-decision"], "created_at": "2026-01-29T18:14:51.867548+00:00", "updated_at": "2026-01-29T18:14:51.867548+00:00", "source": "session", "source_id": "294f7304-f2d5-4c6c-8496-d16557c1f365"}
{"id": "mm-3bfd2e73", "content": "Commit messages for this project follow the pattern '[#ISSUE_NUMBER] Description of changes'. Example: '[#6460] Fix documentation drift, caching issues, and workflow config errors'.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "git", "commit-messages", "conventions"], "created_at": "2026-01-29T18:00:52.415621+00:00", "updated_at": "2026-01-29T18:00:52.415621+00:00", "source": "session", "source_id": "2dcac329-a0f3-483f-bccd-e19d16e2f625"}
{"id": "mm-f494ec6c", "content": "The gobby project uses a structured commit workflow: run linting checks, fix issues in modified files, stage changes, commit with a task reference (e.g., '[#6458]'), and close the task via an MCP tool. All checks must pass before committing.", "type": "pattern", "importance": 0.8, "tags": ["workflow", "git", "commit-process", "task-management"], "created_at": "2026-01-29T17:47:26.278785+00:00", "updated_at": "2026-01-29T17:47:26.278785+00:00", "source": "session", "source_id": "dd1173c2-2911-4b39-8fbf-897dde2bb120"}
{"id": "mm-083e2969", "content": "Gobby uses a task management system integrated with git commits. Tasks have IDs (e.g., #6456) and must be explicitly closed with close_task after committing, using the commit SHA as reference.", "type": "fact", "importance": 0.8, "tags": ["gobby", "task-management", "workflow"], "created_at": "2026-01-29T17:43:06.270134+00:00", "updated_at": "2026-01-29T17:43:06.270134+00:00", "source": "session", "source_id": "a84f585a-ec30-4ed3-9b76-ac07d0c5e501"}
{"id": "mm-5143c3f3", "content": "Gobby project uses a pre-commit hook system with linting and formatting verification (uv run python hooks). Formatting failures must be fixed before commits; the project uses a formatter that can auto-fix issues.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "pre-commit", "formatting", "hooks"], "created_at": "2026-01-29T17:43:06.269073+00:00", "updated_at": "2026-01-29T17:43:06.269073+00:00", "source": "session", "source_id": "a84f585a-ec30-4ed3-9b76-ac07d0c5e501"}
{"id": "mm-b63ba4f7", "content": "The gobby project uses a plan file at ~/.claude/plans/buzzing-nibbling-sketch.md to track implementation work. This plan document serves as the source of truth for project objectives, implementation steps, and documentation updates.", "type": "fact", "importance": 0.8, "tags": ["gobby", "project-structure", "planning"], "created_at": "2026-01-29T17:41:53.872495+00:00", "updated_at": "2026-01-29T17:41:53.872495+00:00", "source": "session", "source_id": "a506fc5b-8ab1-46b2-a51d-70c731443a33"}
{"id": "mm-962e9635", "content": "The project maintains a dev branch with staging commits before pushing to origin. The workflow involves making changes to YAML configuration files, staging selectively, and committing with descriptive messages referencing issue numbers (e.g., '[#6456]').", "type": "pattern", "importance": 0.8, "tags": ["git-workflow", "branching", "commit-conventions"], "created_at": "2026-01-29T17:41:30.493606+00:00", "updated_at": "2026-01-29T17:41:30.493606+00:00", "source": "session", "source_id": "1fe03718-52ee-40b1-9070-e1e121e92c33"}
{"id": "mm-4af5ea09", "content": "The gobby project uses meeseeks.yaml configuration files located in .gobby/agents/ directory. These files specify the AI model used for agents (recently updated to gemini-3-pro-preview).", "type": "fact", "importance": 0.8, "tags": ["configuration", "agents", "meeseeks", "file-location"], "created_at": "2026-01-29T17:41:30.491670+00:00", "updated_at": "2026-01-29T17:41:30.491670+00:00", "source": "session", "source_id": "1fe03718-52ee-40b1-9070-e1e121e92c33"}
{"id": "mm-27655586", "content": "Project structure includes .gobby/ directory containing memories.jsonl, tasks.jsonl, and tasks_meta.json files for task tracking and session memory management.", "type": "fact", "importance": 0.8, "tags": ["project-structure", "file-organization"], "created_at": "2026-01-29T16:05:30.060824+00:00", "updated_at": "2026-01-29T16:05:30.060824+00:00", "source": "session", "source_id": "01a787ef-a623-4b57-bb31-521ac5e91cf1"}
{"id": "mm-76b6a2f7", "content": "The gobby project uses a git-based workflow with automated hooks via a pre-tool-use hook dispatcher at .claude/hooks/hook_dispatcher.py that validates changes before allowing certain operations. Changes must be committed before running certain tools/operations.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "git-workflow", "hooks", "automation"], "created_at": "2026-01-29T15:12:44.754383+00:00", "updated_at": "2026-01-29T15:12:44.754383+00:00", "source": "session", "source_id": "c8adb817-5b37-4887-9b22-2cf2964fd235"}
{"id": "mm-6bd8bb42", "content": "The gobby project uses YAML workflow files located at ~/Projects/gobby/src/gobby/install/shared/workflows/. The work-task-gemini.yaml file is a key workflow configuration that handles task execution and template conditionals.", "type": "fact", "importance": 0.8, "tags": ["gobby", "workflows", "file-structure", "yaml"], "created_at": "2026-01-29T15:12:44.753129+00:00", "updated_at": "2026-01-29T15:12:44.753129+00:00", "source": "session", "source_id": "c8adb817-5b37-4887-9b22-2cf2964fd235"}
{"id": "mm-42b15180", "content": "The gobby project has MCP hooks (located in .claude/hooks/hook_dispatcher.py) that run pre-tool validation. If a task hasn't been claimed, attempting to use certain tools will fail and require committing changes first before proceeding.", "type": "context", "importance": 0.8, "tags": ["infrastructure", "mcp", "workflow"], "created_at": "2026-01-29T15:05:42.801620+00:00", "updated_at": "2026-01-29T15:05:42.801620+00:00", "source": "session", "source_id": "e8e5ef51-6442-48e1-9e5a-c95723d12bc1"}
{"id": "mm-d00917d3", "content": "The gobby project has hook scripts at ~/Projects/gobby/.claude/hooks/hook_dispatcher.py that validate changes before task completion. Pre-tool hooks must pass before task transitions can occur.", "type": "fact", "importance": 0.8, "tags": ["hooks", "validation", "infrastructure"], "created_at": "2026-01-29T03:54:49.066206+00:00", "updated_at": "2026-01-29T03:54:49.066206+00:00", "source": "session", "source_id": "a8a64d5c-0dcf-4d6e-ae47-45eda0c13d26"}
{"id": "mm-79de81de", "content": "The gobby project uses structured logging instead of f-string logs. The _auto_activate_workflow method in event_handlers.py was refactored to use structured logging patterns rather than string interpolation.", "type": "pattern", "importance": 0.8, "tags": ["logging", "code-style", "event_handlers"], "created_at": "2026-01-29T03:54:49.063495+00:00", "updated_at": "2026-01-29T03:54:49.063495+00:00", "source": "session", "source_id": "a8a64d5c-0dcf-4d6e-ae47-45eda0c13d26"}
{"id": "mm-a044cd5e", "content": "Session metadata in gobby includes workflow_name and agent_depth fields that are part of the session cache structure, tracked in issue #6443.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "sessions", "metadata", "schema"], "created_at": "2026-01-29T03:48:52.686718+00:00", "updated_at": "2026-01-29T03:48:52.686718+00:00", "source": "session", "source_id": "3e5b7409-77eb-405a-8c92-14ff28eb965d"}
{"id": "mm-f7769619", "content": "The gobby project uses a session manager at ~/Projects/gobby/src/gobby/sessions/manager.py that caches session metadata including workflow_name and agent_depth fields.", "type": "fact", "importance": 0.8, "tags": ["gobby", "sessions", "metadata", "caching"], "created_at": "2026-01-29T03:48:52.685177+00:00", "updated_at": "2026-01-29T03:48:52.685177+00:00", "source": "session", "source_id": "3e5b7409-77eb-405a-8c92-14ff28eb965d"}
{"id": "mm-6a64149a", "content": "Gobby has a daemon process that needs to be restarted after code changes to pick up modifications, managed via bash commands that send shutdown signals and restart the process.", "type": "fact", "importance": 0.8, "tags": ["gobby", "daemon", "deployment"], "created_at": "2026-01-29T03:46:52.681502+00:00", "updated_at": "2026-01-29T03:46:52.681502+00:00", "source": "session", "source_id": "e248f919-efb1-4f25-b4ae-43d76d28e09d"}
{"id": "mm-81caac4e", "content": "Gobby project uses namespaced context keys (e.g., 'gobby_context') to avoid silent overwrites when storing shared state, as addressed in commit 256870b5 for issue #6438.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "context-management", "state-handling"], "created_at": "2026-01-29T03:46:52.680403+00:00", "updated_at": "2026-01-29T03:46:52.680403+00:00", "source": "session", "source_id": "e248f919-efb1-4f25-b4ae-43d76d28e09d"}
{"id": "mm-10fad577", "content": "The gobby project uses a hook system with a hook_dispatcher.py that runs pre-tool validation. Hooks are executed via `uv run python` and can fail with PreToolUse errors that must be resolved before proceeding with tool operations.", "type": "fact", "importance": 0.8, "tags": ["gobby", "hooks", "build-system", "tool-integration"], "created_at": "2026-01-29T03:45:58.329856+00:00", "updated_at": "2026-01-29T03:45:58.329856+00:00", "source": "session", "source_id": "2ab43a4b-1570-40c2-8c65-aac5f01f3aac"}
{"id": "mm-8fdf63d1", "content": "The gobby project uses a task management system where tasks must be claimed before work begins, and changes must be committed with task references (e.g., '[#6440]') in commit messages before task completion.", "type": "pattern", "importance": 0.8, "tags": ["workflow", "task-management", "git-commits"], "created_at": "2026-01-29T03:41:42.941902+00:00", "updated_at": "2026-01-29T03:41:42.941902+00:00", "source": "session", "source_id": "14b17bda-1d9c-4dfe-8c91-4c54a957baff"}
{"id": "mm-4f72e490", "content": "When modifying hook_dispatcher.py, changes must be committed before running MCP tool calls that invoke the hook system, otherwise the hook will fail with a module dispatch error.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "hooks", "workflow", "git"], "created_at": "2026-01-29T03:37:59.368179+00:00", "updated_at": "2026-01-29T03:37:59.368179+00:00", "source": "session", "source_id": "c029ea2a-a228-48c6-9520-46bbe54729af"}
{"id": "mm-52942938", "content": "The hook_dispatcher.py file in gobby handles context injection for MCP tool calls. It uses a namespaced 'gobby_context' key to avoid silent overwrites when context values are passed through the hook system.", "type": "fact", "importance": 0.8, "tags": ["gobby", "hooks", "mcp", "architecture"], "created_at": "2026-01-29T03:37:59.366622+00:00", "updated_at": "2026-01-29T03:37:59.366622+00:00", "source": "session", "source_id": "c029ea2a-a228-48c6-9520-46bbe54729af"}
{"id": "mm-29f70842", "content": "The gobby project uses a hook system with hook_dispatcher.py that runs pre-tool checks via `uv run python`. Commits must be made before certain tool operations complete successfully.", "type": "fact", "importance": 0.8, "tags": ["gobby", "workflow", "hooks", "commit-required"], "created_at": "2026-01-29T03:36:29.979937+00:00", "updated_at": "2026-01-29T03:36:29.979937+00:00", "source": "session", "source_id": "a566e9e4-4295-4a5f-9b1e-088963ec77a5"}
{"id": "mm-a383853c", "content": "The gobby project uses a pre-tool hook system at .claude/hooks/hook_dispatcher.py that validates tool usage before execution. Changes must be committed before closing tasks, as the hook checks git status.", "type": "fact", "importance": 0.8, "tags": ["gobby", "git-workflow", "hooks", "tool-execution"], "created_at": "2026-01-29T03:26:10.684855+00:00", "updated_at": "2026-01-29T03:26:10.684855+00:00", "source": "session", "source_id": "e1c5c06c-967d-4526-bdf6-0d79c700f3fe"}
{"id": "mm-0cf17ea1", "content": "User preference: When working on gobby architecture decisions, avoid over-engineering solutions. The user values simpler approaches that leverage existing system context rather than adding unnecessary parameter passing.", "type": "preference", "importance": 0.8, "tags": ["gobby", "design-philosophy", "simplicity"], "created_at": "2026-01-29T03:06:57.023603+00:00", "updated_at": "2026-01-29T03:06:57.023603+00:00", "source": "session", "source_id": "832f7376-6505-444d-bb24-f5d60d15b922"}
{"id": "mm-073be73f", "content": "Gobby maintains clones in /tmp/gobby-clones/ directory. The clones skill tracks and manages these cloned instances, which can be verified and updated through the skill management system.", "type": "fact", "importance": 0.8, "tags": ["gobby", "clones", "file-structure", "directory"], "created_at": "2026-01-29T02:56:41.351908+00:00", "updated_at": "2026-01-29T02:56:41.351908+00:00", "source": "session", "source_id": "bbb3722e-b087-451b-9f6a-1d174d6bed59"}
{"id": "mm-e0dc8c23", "content": "The gobby project uses a skills management system with an update_skill tool. Multiple skills can be updated in batch operations, and updates return success status with details about whether changes were applied or skipped.", "type": "fact", "importance": 0.8, "tags": ["gobby", "skills", "architecture", "tools"], "created_at": "2026-01-29T02:56:41.350207+00:00", "updated_at": "2026-01-29T02:56:41.350207+00:00", "source": "session", "source_id": "bbb3722e-b087-451b-9f6a-1d174d6bed59"}
{"id": "mm-79b01c3b", "content": "CodeGuardianPlugin configuration supports: checks (ruff/mypy), block_on_error, auto_fix, file_patterns, ignore_paths, and auto_fix_exclude_rules (e.g., F401, F811). Plugin is located at ~/.gobby/plugins/code_guardian.py and enabled via ~/.gobby/config.yaml.", "type": "fact", "importance": 0.8, "tags": ["gobby", "code-guardian", "configuration"], "created_at": "2026-01-29T02:47:50.780054+00:00", "updated_at": "2026-01-29T02:47:50.780054+00:00", "source": "session", "source_id": "0955b7ef-8dd8-487b-bf7d-27a707d8789d"}
{"id": "mm-27cf8033", "content": "When committing multiple related fixes to gobby, use descriptive commit messages that reference all related task IDs (e.g., '[#6415,#6416,#6417,#6418] Fix MCP tool blocking, Gemini spawn, and agent worktree isolation'). This helps track which tasks were addressed in each commit.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "git", "commit-conventions"], "created_at": "2026-01-29T02:40:43.128478+00:00", "updated_at": "2026-01-29T02:40:43.128478+00:00", "source": "session", "source_id": "73c6e3f4-85f8-485b-91bc-e72fef8c4b16"}
{"id": "mm-27328580", "content": "The gobby project has a hook dispatcher system at `.claude/hooks/hook_dispatcher.py` that handles PreToolUse and other lifecycle hooks. Hook errors occur when uncommitted changes exist - commits must be made before tool invocation succeeds.", "type": "fact", "importance": 0.8, "tags": ["gobby", "hooks", "git", "workflow"], "created_at": "2026-01-28T21:50:49.838498+00:00", "updated_at": "2026-01-28T21:50:49.838498+00:00", "source": "session", "source_id": "7c5f795a-a3bd-4f90-b241-b10bfd91dc09"}
{"id": "mm-5261aa10", "content": "Gobby daemon can be managed via bash commands: restart via PID signal (shutdown signal), and skills can be listed to verify correct source paths after re-sync. The daemon syncs skill definitions from the shared installation directory.", "type": "fact", "importance": 0.8, "tags": ["gobby", "daemon-management", "bash", "operations"], "created_at": "2026-01-28T21:50:47.419284+00:00", "updated_at": "2026-01-28T21:50:47.419284+00:00", "source": "session", "source_id": "bf024d3e-66a5-4af6-a500-ac36456674a3"}
{"id": "mm-41f0b764", "content": "Task creation in gobby uses 'task_num' parameter (not 'number' or other variants) in the create_task tool call", "type": "pattern", "importance": 0.8, "tags": ["api", "parameters", "task_management", "error-handling"], "created_at": "2026-01-28T21:43:03.017687+00:00", "updated_at": "2026-01-28T21:43:03.017687+00:00", "source": "session", "source_id": "6a941dc7-b179-4476-80fc-dec12f7c827d"}
{"id": "mm-4beb2cfd", "content": "The gobby-tasks MCP server provides the `spawn_agent` tool for creating child agents and task management tools like `wait_for_task`, `poll_messages`, and workflow activation tools that support the meeseeks-box autonomous agent pattern.", "type": "fact", "importance": 0.8, "tags": ["gobby-tasks", "mcp-server", "task-management"], "created_at": "2026-01-28T21:21:37.662098+00:00", "updated_at": "2026-01-28T21:21:37.662098+00:00", "source": "session", "source_id": "19a449c7-bfa1-4882-825f-16bc3709efa0"}
{"id": "mm-4f0ee612", "content": "The E2E tests for gobby are located in tests/e2e/ directory and include test files like test_autonomous_mode.py, test_crash_recovery.py, and test_daemon_lifecycle.py. Tests can be activated with the meeseeks-box workflow by creating a session_task and activating the workflow.", "type": "fact", "importance": 0.8, "tags": ["testing", "file-location", "e2e-tests"], "created_at": "2026-01-28T21:21:37.661698+00:00", "updated_at": "2026-01-28T21:21:37.661698+00:00", "source": "session", "source_id": "19a449c7-bfa1-4882-825f-16bc3709efa0"}
{"id": "mm-a385490e", "content": "The project uses `uv` as the package manager and task runner. Use `uv run` to execute Python code against the installed package version rather than the working directory to ensure accurate version inspection during debugging.", "type": "fact", "importance": 0.8, "tags": ["tooling", "setup"], "created_at": "2026-01-28T21:18:50.291670+00:00", "updated_at": "2026-01-28T21:18:50.291670+00:00", "source": "session", "source_id": "b9ce4431-a610-4889-a33d-877ba34aba2e"}
{"id": "mm-a7ab3483", "content": "When debugging version mismatch errors in Gobby, always check three places in order: (1) BASELINE_VERSION in committed code, (2) available migrations in installed package using `uv run python -c`, and (3) actual database state by querying the migrations table directly. Cached .pyc files can cause confusion - use `uv run` to ensure the installed version is inspected.", "type": "pattern", "importance": 0.8, "tags": ["debugging", "migrations", "workflow"], "created_at": "2026-01-28T21:18:50.291222+00:00", "updated_at": "2026-01-28T21:18:50.291222+00:00", "source": "session", "source_id": "b9ce4431-a610-4889-a33d-877ba34aba2e"}
{"id": "mm-4b62c44c", "content": "User preference: Do not use gobby-agents when testing workflows in isolation. Manual spawning via direct Gemini CLI launch in terminal (e.g., Ghostty) is preferred for testing individual workflow behavior without the full agent spawning system.", "type": "preference", "importance": 0.8, "tags": ["testing", "gobby-agents", "workflow-testing"], "created_at": "2026-01-28T20:38:12.090983+00:00", "updated_at": "2026-01-28T20:38:12.090983+00:00", "source": "session", "source_id": "8cc46e99-2e03-41f8-ba7e-7ad372450e56"}
{"id": "mm-b637cbeb", "content": "gobby's agent spawning architecture includes: spawn_agent.py (orchestration), spawn_executor.py (backend implementation with _spawn_gemini_terminal), and spawn_agent tool implementation. Gemini spawning requires session_manager from runner._child_session_manager, and generates both run_id (from captured Gemini session) and child_session_id for tracking.", "type": "fact", "importance": 0.8, "tags": ["gobby", "architecture", "spawn_agent", "file_locations", "components"], "created_at": "2026-01-28T20:27:23.836094+00:00", "updated_at": "2026-01-28T20:27:23.836094+00:00", "source": "session", "source_id": "d347d68e-869d-4a6e-a8d5-8fe855bba25e"}
{"id": "mm-0808f7fb", "content": "DaemonConfig imports SkillsConfig from config/skills.py. When adding HubConfig, extend SkillsConfig with a hubs dict field and ensure DaemonConfig integration for runtime hub provider initialization in HubManager.", "type": "fact", "importance": 0.8, "tags": ["config", "integration", "daemon"], "created_at": "2026-01-28T20:13:58.519516+00:00", "updated_at": "2026-01-28T20:13:58.519516+00:00", "source": "session", "source_id": "0c872236-ce01-4ecd-912b-6afdc5dd393f"}
{"id": "mm-df5b62ab", "content": "The gobby project uses an MCP (Model Context Protocol) server integration with tools for task management. Key tools include create_task, delete_task, list_tools, and get_tool_schema. The delete_task tool supports cascade deletion (default=True) to automatically delete all subtasks when a parent task is deleted.", "type": "fact", "importance": 0.8, "tags": ["gobby", "mcp-server", "task-management", "api"], "created_at": "2026-01-28T19:25:02.264694+00:00", "updated_at": "2026-01-28T19:25:02.264694+00:00", "source": "session", "source_id": "d44d7b84-230b-4630-a249-272cac25abf6"}
{"id": "mm-e3cca74e", "content": "The gobby project uses mypy for type checking across multiple source files. Type errors commonly involve: (1) passing `str | None` to parameters expecting `Path | None` (requires `Path()` conversion), (2) missing `await` keywords on async calls, (3) sync functions calling async methods (requires making the caller async).", "type": "pattern", "importance": 0.8, "tags": ["mypy", "type-checking", "async", "common-errors"], "created_at": "2026-01-28T16:55:23.783031+00:00", "updated_at": "2026-01-28T16:55:23.783031+00:00", "source": "session", "source_id": "54206ab9-e65a-47db-859f-05033c66bcb8"}
{"id": "mm-c3f0a663", "content": "Handlers that require session context need a valid session object passed in the action context during testing. test_call_llm and similar tests should create a session fixture before executing handler operations.", "type": "pattern", "importance": 0.8, "tags": ["testing", "handlers", "session", "context"], "created_at": "2026-01-28T16:47:06.179161+00:00", "updated_at": "2026-01-28T16:47:06.179161+00:00", "source": "session", "source_id": "3b010b4a-a71b-40be-871a-624cec1dc2a8"}
{"id": "mm-b68c8e06", "content": "When patching functions in tests, patch where the function is used, not where it's defined. For example, patch gobby.workflows.enforcement.handlers when testing workflow actions, not the original module location.", "type": "pattern", "importance": 0.8, "tags": ["testing", "mocking", "pytest"], "created_at": "2026-01-28T16:47:06.178783+00:00", "updated_at": "2026-01-28T16:47:06.178783+00:00", "source": "session", "source_id": "3b010b4a-a71b-40be-871a-624cec1dc2a8"}
{"id": "mm-e3c62bb6", "content": "User's documented preference for the gobby project: prioritize fixing documentation accuracy issues in existing guides before creating new guides. This was their explicit response when asked about prioritization given expanded scope.", "type": "preference", "importance": 0.8, "tags": ["gobby", "workflow", "documentation-strategy"], "created_at": "2026-01-28T16:21:49.021491+00:00", "updated_at": "2026-01-28T16:21:49.021491+00:00", "source": "session", "source_id": "1cd214d0-1e0d-4983-a94a-93a041119ba5"}
{"id": "mm-39432fae", "content": "API versioning changes in gobby should use a safe 3-phase transition plan (Redirect → Deprecate → Remove) with 4-week windows and 301 redirects, rather than hard-cut breaking changes. Include deprecation headers and feature flags for gradual rollout.", "type": "preference", "importance": 0.8, "tags": ["api_design", "versioning", "backward_compatibility"], "created_at": "2026-01-28T16:21:32.101386+00:00", "updated_at": "2026-01-28T16:21:32.101386+00:00", "source": "session", "source_id": "83a8829f-f924-45b8-b8ec-303487f25cdf"}
{"id": "mm-2e602bae", "content": "The MemoryManager in gobby uses a Facade pattern that delegates to specialized services (SearchCoordinator, MultimodalIngestor, CrossrefService). The facade provides 9 core methods and maintains backward compatibility as an internal refactor without consumer impact.", "type": "context", "importance": 0.8, "tags": ["architecture", "design_pattern", "memory_manager"], "created_at": "2026-01-28T16:21:32.101048+00:00", "updated_at": "2026-01-28T16:21:32.101048+00:00", "source": "session", "source_id": "83a8829f-f924-45b8-b8ec-303487f25cdf"}
{"id": "mm-22765671", "content": "The gobby project has a stop hook (hook_dispatcher.py) that enforces task closure before stopping sessions. Tasks must be closed explicitly or the stop will fail with 'Task #XXXX is still in_progress' error.", "type": "context", "importance": 0.8, "tags": ["hooks", "workflow", "enforcement"], "created_at": "2026-01-28T16:21:32.100285+00:00", "updated_at": "2026-01-28T16:21:32.100285+00:00", "source": "session", "source_id": "83a8829f-f924-45b8-b8ec-303487f25cdf"}
{"id": "mm-97fbbc12", "content": "The project has a hook system (hook_dispatcher.py) that runs on session stop and validates task state. Hooks will prevent stopping if tasks are still in_progress.", "type": "fact", "importance": 0.8, "tags": ["hooks", "validation", "workflow"], "created_at": "2026-01-28T16:09:54.863626+00:00", "updated_at": "2026-01-28T16:09:54.863626+00:00", "source": "session", "source_id": "e33e8d96-853e-4a5e-98f3-b561d1bad449"}
{"id": "mm-3e4592f4", "content": "Common code quality issues to fix in gobby: race conditions (capturing local references to prevent None dereference, holding locks during shared operations), replacing asserts with explicit RuntimeError raises, and adding specific exception handlers instead of bare excepts.", "type": "pattern", "importance": 0.8, "tags": ["code-patterns", "testing", "error-handling"], "created_at": "2026-01-28T16:07:23.827957+00:00", "updated_at": "2026-01-28T16:07:23.827957+00:00", "source": "session", "source_id": "273fe57b-f22d-4e85-a858-884a1f726954"}
{"id": "mm-7950c01e", "content": "When stopping a gobby session, always ensure Task #6346 (or any in-progress tasks) are explicitly closed using close_task() to satisfy the hook dispatcher's validation requirements.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "task-lifecycle", "error-prevention"], "created_at": "2026-01-28T15:59:03.786604+00:00", "updated_at": "2026-01-28T15:59:03.786604+00:00", "source": "session", "source_id": "9703f385-8e1c-4490-a4a9-c306f952f27a"}
{"id": "mm-55ef58ff", "content": "File I/O in Gobby must explicitly specify UTF-8 encoding (e.g., open(path, 'r', encoding='utf-8')) rather than relying on locale defaults, especially for JSON/transcript processing where locale-dependent encoding can cause failures with non-ASCII characters.", "type": "pattern", "importance": 0.8, "tags": ["file-io", "encoding", "unicode", "robustness"], "created_at": "2026-01-28T03:41:22.372766+00:00", "updated_at": "2026-01-28T03:41:22.372766+00:00", "source": "session", "source_id": "740c4be1-cfcc-4aa0-ab30-7a088d85d22d"}
{"id": "mm-5a501116", "content": "Gobby consistently converts runtime asserts to explicit if-checks raising RuntimeError for production robustness. Pattern: replace 'assert condition, msg' with 'if not condition: raise RuntimeError(msg)' to ensure validation in optimized Python runs (-O flag).", "type": "pattern", "importance": 0.8, "tags": ["assertions", "error-handling", "code-quality"], "created_at": "2026-01-28T03:41:22.372437+00:00", "updated_at": "2026-01-28T03:41:22.372437+00:00", "source": "session", "source_id": "740c4be1-cfcc-4aa0-ab30-7a088d85d22d"}
{"id": "mm-69f2642a", "content": "Thread-safety in Gobby requires explicit lock acquisition around shared state modifications. For module-level sets like _prompt_files_to_cleanup, the pattern is: acquire lock before modifying/reading, copy to local list if iterating, clear under lock to prevent concurrent modification with create_prompt_file.", "type": "pattern", "importance": 0.8, "tags": ["thread-safety", "concurrency", "locks"], "created_at": "2026-01-28T03:41:22.371552+00:00", "updated_at": "2026-01-28T03:41:22.371552+00:00", "source": "session", "source_id": "740c4be1-cfcc-4aa0-ab30-7a088d85d22d"}
{"id": "mm-540d4e1b", "content": "The gobby project stores workflow utilities like LazyBool and SafeExpressionEvaluator in src/gobby/workflows/safe_evaluator.py, and git-related helpers like get_dirty_files and get_task_session_liveness in src/gobby/workflows/git_utils.py.", "type": "fact", "importance": 0.8, "tags": ["file-locations", "utilities", "architecture"], "created_at": "2026-01-28T03:41:15.172692+00:00", "updated_at": "2026-01-28T03:41:15.172692+00:00", "source": "session", "source_id": "a4edf892-add1-4cad-95e0-aea0bb4459cb"}
{"id": "mm-719af616", "content": "Workflow action modules (context_actions.py, llm_actions.py, mcp_actions.py, state_actions.py, todo_actions.py) should use standard TYPE_CHECKING imports at module level and include None-safety checks for injected dependencies like session_manager before use.", "type": "pattern", "importance": 0.8, "tags": ["workflows", "type-checking", "imports", "null-safety"], "created_at": "2026-01-28T03:36:47.023513+00:00", "updated_at": "2026-01-28T03:36:47.023513+00:00", "source": "session", "source_id": "3d3b236e-30cc-48ae-a65e-e81c904bb1ff"}
{"id": "mm-c434e2f2", "content": "Facade pattern is used in gobby for refactored components—MemoryManager becomes a facade after its responsibilities are extracted into SearchCoordinator, MultimodalIngestor, and CrossrefService. This maintains backward compatibility while internal structure is reorganized.", "type": "pattern", "importance": 0.8, "tags": ["design-patterns", "refactoring", "architecture"], "created_at": "2026-01-28T01:59:09.438543+00:00", "updated_at": "2026-01-28T01:59:09.438543+00:00", "source": "session", "source_id": "d6068bb9-78b2-4941-9de3-e4e4fe940a4f"}
{"id": "mm-244f329e", "content": "The gobby project organizes epic-level work using task hierarchies with clear phases. Each phase targets a specific architectural component, with sub-tasks tracking individual refactoring steps. This enables systematic decomposition tracking and clear milestone demarcation.", "type": "pattern", "importance": 0.8, "tags": ["task-management", "epic-structure", "project-organization"], "created_at": "2026-01-28T01:59:09.437516+00:00", "updated_at": "2026-01-28T01:59:09.437516+00:00", "source": "session", "source_id": "d6068bb9-78b2-4941-9de3-e4e4fe940a4f"}
{"id": "mm-e92f7dce", "content": "MCP routes validation errors return 400 status codes with error details accessible via the 'detail' key in the response body, not 200 responses. Tests should expect 400 for validation failure scenarios.", "type": "pattern", "importance": 0.8, "tags": ["mcp-routes", "error-handling", "http-status"], "created_at": "2026-01-28T01:56:06.710516+00:00", "updated_at": "2026-01-28T01:56:06.710516+00:00", "source": "session", "source_id": "5ddc8b77-f2ef-4af8-af41-e78cec23ce77"}
{"id": "mm-ce021e4e", "content": "The gobby project uses a local `.gobby/tasks.jsonl` file to track task state, which can become out of sync with the database. When encountering hook errors about task status mismatches, use the sync_tasks tool to reconcile local file state with the database.", "type": "context", "importance": 0.8, "tags": ["gobby", "task-management", "sync", "troubleshooting"], "created_at": "2026-01-28T01:56:06.704145+00:00", "updated_at": "2026-01-28T01:56:06.704145+00:00", "source": "session", "source_id": "5ddc8b77-f2ef-4af8-af41-e78cec23ce77"}
{"id": "mm-f429e5c6", "content": "The project has three quality gates: pytest (unit tests), mypy (type checking), and ruff (linting). All three must pass. When refactoring, prioritize updating mocks and assertions to match new function signatures and data structure changes.", "type": "context", "importance": 0.8, "tags": ["testing", "quality-gates", "ci"], "created_at": "2026-01-28T01:55:53.741385+00:00", "updated_at": "2026-01-28T01:55:53.741385+00:00", "source": "session", "source_id": "5ddc8b77-f2ef-4af8-af41-e78cec23ce77"}
{"id": "mm-c3f75126", "content": "gobby webhook actions sanitize URLs before logging by removing query parameters to prevent leaking secrets in logs (webhook_actions.py).", "type": "pattern", "importance": 0.8, "tags": ["security", "webhook-actions.py", "logging"], "created_at": "2026-01-27T23:41:42.515150+00:00", "updated_at": "2026-01-27T23:41:42.515150+00:00", "source": "session", "source_id": "39a10997-65a2-4b26-a7ba-fe39b764ea3d"}
{"id": "mm-141b5d05", "content": "gobby database migrations use db.transaction() wrapper for atomic operations (e.g., DROP/CREATE INDEX in migrations.py) to ensure atomicity across multiple statements.", "type": "pattern", "importance": 0.8, "tags": ["database", "migrations.py", "atomicity"], "created_at": "2026-01-27T23:41:42.514723+00:00", "updated_at": "2026-01-27T23:41:42.514723+00:00", "source": "session", "source_id": "39a10997-65a2-4b26-a7ba-fe39b764ea3d"}
{"id": "mm-100f6488", "content": "gobby handles async/blocking I/O by wrapping file operations with asyncio.to_thread() in artifact_actions.py to prevent blocking the event loop.", "type": "pattern", "importance": 0.8, "tags": ["async", "artifact-actions.py", "I/O-patterns"], "created_at": "2026-01-27T23:41:42.514225+00:00", "updated_at": "2026-01-27T23:41:42.514225+00:00", "source": "session", "source_id": "39a10997-65a2-4b26-a7ba-fe39b764ea3d"}
{"id": "mm-5fa24b74", "content": "gobby uses LRU cache pattern for memory management: _seen_threads in adapter.py replaced unbounded set with OrderedDict-based LRU cache with configurable max size (default 1000) to prevent unbounded growth.", "type": "pattern", "importance": 0.8, "tags": ["memory-management", "adapter.py", "performance"], "created_at": "2026-01-27T23:41:42.512388+00:00", "updated_at": "2026-01-27T23:41:42.512388+00:00", "source": "session", "source_id": "39a10997-65a2-4b26-a7ba-fe39b764ea3d"}
{"id": "mm-48240301", "content": "SpawnRequest requires a `session_manager` parameter for Gemini/Codex preflight tests. This was previously missing in some spawn_executor test cases.", "type": "pattern", "importance": 0.8, "tags": ["spawn_executor", "testing", "preflight"], "created_at": "2026-01-27T23:38:12.463724+00:00", "updated_at": "2026-01-27T23:38:12.463724+00:00", "source": "session", "source_id": "5d29ae81-e961-4da4-af8a-20467e7e654e"}
{"id": "mm-0a3066fa", "content": "The spawn_agent API expects `get_project_context` mock to return a dict-like object (not MagicMock), as the code calls `ctx.get('id')` which requires dictionary behavior.", "type": "pattern", "importance": 0.8, "tags": ["testing", "mocking", "spawn_agent-api"], "created_at": "2026-01-27T23:38:12.462951+00:00", "updated_at": "2026-01-27T23:38:12.462951+00:00", "source": "session", "source_id": "5d29ae81-e961-4da4-af8a-20467e7e654e"}
{"id": "mm-0bbfbe3d", "content": "Skill directories were renamed: 'tasks' → 'gobby-tasks' and 'workflows' → 'gobby-workflows' to match names documented in SKILL.md. Git detects these as renames (R status) rather than delete+add operations.", "type": "fact", "importance": 0.8, "tags": ["directory-structure", "skills", "naming-convention"], "created_at": "2026-01-27T23:38:12.460388+00:00", "updated_at": "2026-01-27T23:38:12.460388+00:00", "source": "session", "source_id": "5d29ae81-e961-4da4-af8a-20467e7e654e"}
{"id": "mm-32b5ae71", "content": "The gobby project uses project-scoped session tracking with database indexes on (project_id, seq_num) composite keys rather than single-column indexes. Migrations must wrap backfill operations in transactions to maintain data integrity.", "type": "fact", "importance": 0.8, "tags": ["database", "migrations", "schema", "project-scoping"], "created_at": "2026-01-27T23:18:37.181604+00:00", "updated_at": "2026-01-27T23:18:37.181604+00:00", "source": "session", "source_id": "73e859dc-af97-4d70-8c2f-008413ea3728"}
{"id": "mm-100044df", "content": "When fixing code quality issues in gobby, prioritize security fixes (path traversal sanitization), race condition fixes (thread-safe atexit registration), and null safety checks on context managers like `context.session_manager` in workflow action handlers.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "code-fixes", "security", "null-safety", "concurrency"], "created_at": "2026-01-27T22:58:27.316168+00:00", "updated_at": "2026-01-27T22:58:27.316168+00:00", "source": "session", "source_id": "4e1df24d-0242-427d-a7cf-36d77a4de313"}
{"id": "mm-bd6a47c2", "content": "ActionHandler wrappers in task_enforcement_actions.py must always null-check context.session_manager before calling .get(): use `if context.session_manager:` guard pattern, then safely derive project_id from current_session only if it exists. This prevents AttributeError in handlers like handle_require_active_task and handle_require_task_complete.", "type": "pattern", "importance": 0.8, "tags": ["null-safety", "action-handler", "context-manager"], "created_at": "2026-01-27T22:52:38.926716+00:00", "updated_at": "2026-01-27T22:52:38.926716+00:00", "source": "session", "source_id": "935114fe-ccaa-4dfc-8f95-99956c976c4f"}
{"id": "mm-fc625269", "content": "Gobby session adapter classes (CodexAdapter, CodexNotifyAdapter) follow dual-mode pattern: integrated mode attaches to existing clients via attach_to_client(), standalone mode translates events only. Both normalize tool names via TOOL_MAP for consistency across CLIs (e.g., 'commandExecution' → 'Bash'). timestamp parsing must return UTC-aware datetime using datetime.fromtimestamp(unix_ts, tz=UTC).", "type": "pattern", "importance": 0.8, "tags": ["adapter", "codex", "timestamp", "utc-aware"], "created_at": "2026-01-27T22:52:38.925888+00:00", "updated_at": "2026-01-27T22:52:38.925888+00:00", "source": "session", "source_id": "935114fe-ccaa-4dfc-8f95-99956c976c4f"}
{"id": "mm-b246a6bc", "content": "The gobby project uses ruff and mypy strict mode for linting and type checking. Code quality checks pass before commits are made.", "type": "fact", "importance": 0.8, "tags": ["tooling", "code-quality", "linting"], "created_at": "2026-01-27T18:49:09.591912+00:00", "updated_at": "2026-01-27T18:49:09.591912+00:00", "source": "session", "source_id": "3caecb5d-d60f-4db8-a133-af7d943ec216"}
{"id": "mm-5a0dac10", "content": "The gobby project has a pip-audit vulnerability with python-multipart 0.0.21 (CVE-2026-24486). Since it's a transitive dependency from mcp, it must be added as a direct dependency with version constraint >=0.0.22 in pyproject.toml to force the upgrade.", "type": "context", "importance": 0.8, "tags": ["dependencies", "security", "pyproject.toml"], "created_at": "2026-01-27T18:43:29.730003+00:00", "updated_at": "2026-01-27T18:43:29.730003+00:00", "source": "session", "source_id": "92ef8efc-a5d6-4b8c-b235-59c8c08b0a8b"}
{"id": "mm-ed766cc1", "content": "When pushing to the dev branch, use `git push --no-verify` to bypass pre-push hooks (which are slow). The remote allows rule violations to be bypassed for dev branch pushes.", "type": "preference", "importance": 0.8, "tags": ["git_workflow", "dev_branch", "performance"], "created_at": "2026-01-27T18:42:45.066859+00:00", "updated_at": "2026-01-27T18:42:45.066859+00:00", "source": "session", "source_id": "c1fb78bc-e645-4b4f-aec6-b2a0a7ac17d4"}
{"id": "mm-41ce3307", "content": "The gobby project has a test suite with 510 hook tests. When tests fail, check test_api_messages.py for missing database schema columns (like `had_edits BOOLEAN DEFAULT 0`) and test_skill_manager.py for outdated skill name references that need updating after refactoring.", "type": "pattern", "importance": 0.8, "tags": ["testing", "database_schema", "hook_tests", "test_maintenance"], "created_at": "2026-01-27T18:42:45.064543+00:00", "updated_at": "2026-01-27T18:42:45.064543+00:00", "source": "session", "source_id": "c1fb78bc-e645-4b4f-aec6-b2a0a7ac17d4"}
{"id": "mm-acf7fab2", "content": "Test methods in gobby test files require both `@pytest.mark.unit` decorators on test classes and `-> None` return type hints on individual test methods to pass quality checks.", "type": "pattern", "importance": 0.8, "tags": ["testing", "pytest", "conventions"], "created_at": "2026-01-27T18:16:19.486515+00:00", "updated_at": "2026-01-27T18:16:19.486515+00:00", "source": "session", "source_id": "7ce4587b-4bf1-4f73-baa6-5ac59f572839"}
{"id": "mm-b2593658", "content": "The gobby project uses a linter that prefers bare `ActionContext` type annotations over qualified ones (e.g., `ActionContext` instead of `Optional[ActionContext]`). These work correctly at runtime because they're guarded by `if TYPE_CHECKING:` blocks that Python treats as forward references.", "type": "pattern", "importance": 0.8, "tags": ["type-hints", "linting", "ActionContext"], "created_at": "2026-01-27T18:16:19.484781+00:00", "updated_at": "2026-01-27T18:16:19.484781+00:00", "source": "session", "source_id": "7ce4587b-4bf1-4f73-baa6-5ac59f572839"}
{"id": "mm-1ae472f5", "content": "User preference: Do not provide time estimates or task duration predictions in plans. Focus on what needs to be done and affected file counts instead.", "type": "preference", "importance": 0.8, "tags": ["planning", "communication"], "created_at": "2026-01-27T18:15:43.762512+00:00", "updated_at": "2026-01-27T18:15:43.762512+00:00", "source": "session", "source_id": "a1199286-0860-4cd3-aeb8-366a288db4b4"}
{"id": "mm-99fc2d68", "content": "In gobby, function defaults should match their original docstring intent when there are no external users to maintain backward compatibility with. For example, use_flattened_baseline should default to True (per docstring) rather than False, with legacy code kept for edge cases but not as the default path.", "type": "preference", "importance": 0.8, "tags": ["gobby", "defaults", "api-design", "backward-compatibility"], "created_at": "2026-01-27T17:51:13.861659+00:00", "updated_at": "2026-01-27T17:51:13.861659+00:00", "source": "session", "source_id": "3d10abf2-873d-46ec-b659-981102d8aad6"}
{"id": "mm-cf40ac94", "content": "The usage skill in gobby extracts model information from Claude transcripts by capturing the model field in SessionMessageProcessor, enabling accurate token usage and cost reporting calculations.", "type": "fact", "importance": 0.8, "tags": ["gobby", "usage-skill", "model-extraction", "cost-tracking"], "created_at": "2026-01-27T17:49:03.714869+00:00", "updated_at": "2026-01-27T17:49:03.714869+00:00", "source": "session", "source_id": "448cabcd-183a-473e-a6ae-a6050b5c6d96"}
{"id": "mm-db006455", "content": "The gobby project uses an epic/subtask workflow where epics require linked commits to close. When closing an epic with multiple completed subtasks, use the last commit SHA from the final subtask to satisfy the commit requirement.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "workflow", "epic-management", "commits"], "created_at": "2026-01-27T17:49:03.713281+00:00", "updated_at": "2026-01-27T17:49:03.713281+00:00", "source": "session", "source_id": "448cabcd-183a-473e-a6ae-a6050b5c6d96"}
{"id": "mm-0322243e", "content": "The gobby project uses a task management system with refs (#6264, #6265, etc.) and task dependencies. Tasks can be created in bulk via an expansion process and survive daemon restarts. Task status can be verified using bash commands that query task IDs and refs.", "type": "fact", "importance": 0.8, "tags": ["gobby", "task-management", "system-architecture"], "created_at": "2026-01-27T01:33:16.630325+00:00", "updated_at": "2026-01-27T01:33:16.630325+00:00", "source": "session", "source_id": "e8d257ca-90d9-4276-b8ce-72d71e05b0bb"}
{"id": "mm-eed85876", "content": "Migration 77 has a UNIQUE constraint issue on seq_num that requires clearing values to NULL before reassigning to avoid violations. This is a known gotcha when modifying sequence numbers in migrations.", "type": "context", "importance": 0.8, "tags": ["migration", "database", "constraints", "gobby"], "created_at": "2026-01-27T01:29:58.428788+00:00", "updated_at": "2026-01-27T01:29:58.428788+00:00", "source": "session", "source_id": "2bc8895b-b292-4b81-acfc-180c276ca5cd"}
{"id": "mm-d1527911", "content": "Gobby uses an MCP (Model Context Protocol) tool system with metrics tools already available (get_usage_report, get_budget_status in gobby-metrics). New skills can leverage existing metrics functionality rather than reimplementing.", "type": "pattern", "importance": 0.8, "tags": ["mcp", "tools", "metrics", "reusability"], "created_at": "2026-01-27T01:28:48.065987+00:00", "updated_at": "2026-01-27T01:28:48.065987+00:00", "source": "session", "source_id": "e0e85afe-8841-425f-ba0d-018b5301fb73"}
{"id": "mm-0fa7d45a", "content": "In gobby, the migration flattening feature includes a rollback mechanism: if issues arise, the feature can be disabled via `use_flattened_baseline: false` configuration, allowing the system to revert to the previous incremental migration path.", "type": "fact", "importance": 0.8, "tags": ["migration", "rollback", "safety", "feature-flag"], "created_at": "2026-01-27T00:15:25.228807+00:00", "updated_at": "2026-01-27T00:15:25.228807+00:00", "source": "session", "source_id": "22fdeb42-a38e-44e4-a7f1-ca4c87da2807"}
{"id": "mm-ab9673a7", "content": "Sandbox configuration injection feature is planned for gobby agents (#6198 epic): involves creating SandboxConfig/ResolvedSandboxPaths models, CLI-specific resolvers for Claude/Codex/Gemini, spawn integration across TerminalSpawner/EmbeddedSpawner/HeadlessSpawner, and agent definition support. Implementation should follow phases 1-5 sequentially starting with SandboxConfig model (#6209).", "type": "context", "importance": 0.8, "tags": ["feature-plan", "sandboxing", "architecture"], "created_at": "2026-01-27T00:13:51.520995+00:00", "updated_at": "2026-01-27T00:13:51.520995+00:00", "source": "session", "source_id": "bbde861d-1946-4835-8a53-93a1830483ca"}
{"id": "mm-693bfb66", "content": "Gobby plan skill documents use structured format: analyzes current state with file metrics, defines task hierarchy (epic/phase/feature), details each phase with specific tasks, recommends execution order, and includes verification steps. Plans are stored in ~/.claude/plans/ directory.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "documentation", "planning-format"], "created_at": "2026-01-26T23:05:30.976012+00:00", "updated_at": "2026-01-26T23:05:30.976012+00:00", "source": "session", "source_id": "c939a49c-67ad-433f-bc8f-defdac852772"}
{"id": "mm-78baa3dc", "content": "Runtime state files in .gobby/ directory (specifically tasks.jsonl and tasks_meta.json) should not be committed to version control as they represent transient session state, not project code.", "type": "pattern", "importance": 0.8, "tags": ["git", "ignore", "runtime-state", ".gobby"], "created_at": "2026-01-26T22:56:14.014750+00:00", "updated_at": "2026-01-26T22:56:14.014750+00:00", "source": "session", "source_id": "b422c481-ba1d-44da-8912-666de487efbf"}
{"id": "mm-91955784", "content": "Session references in cross-project context should use 'project#N' format (e.g., 'gobby#1') to clearly indicate which project a session belongs to when displaying cross-project results.", "type": "pattern", "importance": 0.8, "tags": ["hub.py", "session-refs", "display-format", "list_cross_project_sessions"], "created_at": "2026-01-26T22:45:00.910921+00:00", "updated_at": "2026-01-26T22:45:00.910921+00:00", "source": "session", "source_id": "75faf6fd-5728-4faa-95d7-48b6444dec38"}
{"id": "mm-00172273", "content": "When executing schema migrations in gobby, the workflow is: backup the DB → dump schema → review schema → implement changes with feature flag branching → test both code paths → validate schema equivalence → flip default → update docs. Rollback involves setting the flag to false or reverting commits.", "type": "pattern", "importance": 0.8, "tags": ["schema-migration", "testing", "rollback", "workflow"], "created_at": "2026-01-26T22:35:10.787644+00:00", "updated_at": "2026-01-26T22:35:10.787644+00:00", "source": "session", "source_id": "37010a61-6ffb-495f-b12a-e444c0981eff"}
{"id": "mm-d8185a04", "content": "The gobby task management system uses a hierarchical task structure with task refs (#6179, etc.), titles, and categories (manual, code, config, docs). Tasks are created via expansion specs that generate multiple related subtasks organized into logical phases.", "type": "fact", "importance": 0.8, "tags": ["task-system", "task-refs", "expansion-specs", "subtasks"], "created_at": "2026-01-26T22:35:10.786907+00:00", "updated_at": "2026-01-26T22:35:10.786907+00:00", "source": "session", "source_id": "37010a61-6ffb-495f-b12a-e444c0981eff"}
{"id": "mm-ce5e9d4e", "content": "Gobby stores configuration in DaemonConfig class and database migrations in migrations.py with functions like run_migrations(). Schema is dumped to schema_dump.sql files for review and the main database is gobby-hub.db.", "type": "fact", "importance": 0.8, "tags": ["architecture", "configuration", "database", "migrations"], "created_at": "2026-01-26T22:35:10.786459+00:00", "updated_at": "2026-01-26T22:35:10.786459+00:00", "source": "session", "source_id": "37010a61-6ffb-495f-b12a-e444c0981eff"}
{"id": "mm-2134963f", "content": "The `/g` command is a shorthand alias for `/gobby` router. It routes to skills, MCP servers, or shows help. Common usage: `/g plan`, `/g expand`, `/g tasks list`. The routing logic checks for 'mcp' prefix or matches skill names via `gobby-skills.get_skill(name=...)`.", "type": "fact", "importance": 0.8, "tags": ["gobby", "command-reference", "routing"], "created_at": "2026-01-26T22:18:20.051189+00:00", "updated_at": "2026-01-26T22:18:20.051189+00:00", "source": "session", "source_id": "1b365507-fea8-4662-a6c5-62caef8f48ea"}
{"id": "mm-08fbcdb0", "content": "The gobby project uses a strangler-fig decomposition strategy documented in ~/Projects/gobby/docs/plans/strangler-fig-decomposition.md. Phase 2 of this strategy references migration-flattening.md to avoid content duplication between planning documents.", "type": "fact", "importance": 0.8, "tags": ["architecture", "decomposition-strategy", "documentation"], "created_at": "2026-01-26T22:07:51.369987+00:00", "updated_at": "2026-01-26T22:07:51.369987+00:00", "source": "session", "source_id": "49db39b5-e610-475a-9a48-a200411dd23e"}
{"id": "mm-97f9a8ec", "content": "When closing tasks in gobby, use the close_task() call with parameter 'reason' (not 'resolution') and include 'changes_summary' for proper task closure. Invalid parameter names cause task closure to fail.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "task-management", "api-parameters"], "created_at": "2026-01-26T21:23:00.442381+00:00", "updated_at": "2026-01-26T21:23:00.442381+00:00", "source": "session", "source_id": "0f3bb4a3-6134-46de-8234-d51d676dfbd8"}
{"id": "mm-814f8329", "content": "The conductor module architecture separates passive observability (metrics for dashboards) from active orchestration (pricing/budget that influences decisions). Future observability additions (Prometheus metrics, OpenTelemetry spans) would warrant a dedicated metrics/ module, but cost-control components belong in conductor.", "type": "pattern", "importance": 0.8, "tags": ["conductor", "architecture", "observability", "cost-control"], "created_at": "2026-01-26T21:16:57.262706+00:00", "updated_at": "2026-01-26T21:16:57.262706+00:00", "source": "session", "source_id": "9ef8d770-7c10-4f8e-800a-a7c749644689"}
{"id": "mm-6289a133", "content": "gobby-metrics is a separate MCP skill that provides tool usage observability (call counts, success rates, latency, failing tools), distinct from conductor's cost tracking. The two serve complementary purposes: gobby-metrics monitors tool performance, while conductor/pricing tracks LLM token costs and manages spawn budgets.", "type": "fact", "importance": 0.8, "tags": ["metrics", "observability", "architecture", "separation-of-concerns"], "created_at": "2026-01-26T21:16:57.262328+00:00", "updated_at": "2026-01-26T21:16:57.262328+00:00", "source": "session", "source_id": "9ef8d770-7c10-4f8e-800a-a7c749644689"}
{"id": "mm-2674c8ab", "content": "Workflows in gobby require installation to `.gobby/workflows/` (they don't have bundled fallbacks), but prompts should maintain a fallback to bundled defaults if not installed for safer development experience.", "type": "preference", "importance": 0.8, "tags": ["design-decision", "workflows", "installation-strategy"], "created_at": "2026-01-26T17:17:40.836279+00:00", "updated_at": "2026-01-26T17:17:40.836279+00:00", "source": "session", "source_id": "68fb48cd-e380-4b4d-81c9-932b386a549e"}
{"id": "mm-141dbc25", "content": "Testing is validation-driven: each subtask has explicit validation criteria (e.g., 'Tests pass. AgentDefinition model has isolation, branch_prefix, base_branch, and provider fields'). Use this pattern for all future work—define acceptance criteria before implementation.", "type": "pattern", "importance": 0.8, "tags": ["testing", "quality-assurance", "acceptance-criteria"], "created_at": "2026-01-26T17:11:39.635182+00:00", "updated_at": "2026-01-26T17:11:39.635182+00:00", "source": "session", "source_id": "8d582fd9-8c4b-48bf-949b-3d2f353527c9"}
{"id": "mm-6c01df19", "content": "The project uses atomic task expansion with dependency graphs—create a parent epic (#6119 'Unified spawn_agent API Design'), then generate 15 subtasks with explicit dependency declarations. Tasks with no dependencies (#6120 model, #6128 workflow) can start immediately; later tasks depend on their completion.", "type": "pattern", "importance": 0.8, "tags": ["task-organization", "agile-workflow", "dependency-management"], "created_at": "2026-01-26T17:11:39.634873+00:00", "updated_at": "2026-01-26T17:11:39.634873+00:00", "source": "session", "source_id": "8d582fd9-8c4b-48bf-949b-3d2f353527c9"}
{"id": "mm-f46a4a3b", "content": "The gobby project uses a hook system (hook_dispatcher.py) that validates agent state at session boundaries, including task claim status. Hooks will block operations if preconditions aren't met (e.g., files can't be edited without claiming the related task).", "type": "pattern", "importance": 0.8, "tags": ["validation", "hooks", "gobby-architecture"], "created_at": "2026-01-26T17:11:05.006448+00:00", "updated_at": "2026-01-26T17:11:05.006448+00:00", "source": "session", "source_id": "595ef7e1-c5ec-401b-b6c9-cc68eb89acbc"}
{"id": "mm-46872852", "content": "Router skill commands are stored in .claude/commands/ directory (e.g., gobby.md, g.md). After making changes to router skills, the daemon must be restarted to verify skill sync and category filtering.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "file-organization", "deployment"], "created_at": "2026-01-26T16:15:48.274379+00:00", "updated_at": "2026-01-26T16:15:48.274379+00:00", "source": "session", "source_id": "5f62f7a8-1c13-4a38-a8ed-56585340164c"}
{"id": "mm-dc250e9e", "content": "The gobby project uses an MCP tool interface (mcp__gobby__call_tool) for task management. Task closure requires a linked commit; attempting to close without one returns error 'no_commits_linked'. The tool accepts a 'changes_summary' parameter (not 'justification').", "type": "fact", "importance": 0.8, "tags": ["task-management", "mcp-interface", "commit-linking"], "created_at": "2026-01-26T16:04:13.385328+00:00", "updated_at": "2026-01-26T16:04:13.385328+00:00", "source": "session", "source_id": "04acd96a-8556-48e8-8162-f0808275d40c"}
{"id": "mm-501b6bb9", "content": "Task closure in gobby requires a commit SHA to be linked before closing. Attempting to close tasks without providing the commit SHA will fail with 'no_commits_linked' error.", "type": "context", "importance": 0.8, "tags": ["gobby", "task-management", "commits"], "created_at": "2026-01-26T16:01:00.587202+00:00", "updated_at": "2026-01-26T16:01:00.587202+00:00", "source": "session", "source_id": "39053109-12aa-41c0-8293-dded645dbe27"}
{"id": "mm-8e3afcbc", "content": "Recent Gobby project milestones include: Gemini CLI hooks, autonomous orchestration, and memory v3 marked as shipped. Active development includes skill enhancements, agent spawning v2, code decomposition (strangler fig pattern), API versioning, and migration flattening.", "type": "context", "importance": 0.8, "tags": ["gobby", "current-status", "project-priorities"], "created_at": "2026-01-26T15:53:04.661565+00:00", "updated_at": "2026-01-26T15:53:04.661565+00:00", "source": "session", "source_id": "a3a6417e-f8fd-4aae-b2ba-548d04020bf0"}
{"id": "mm-90ae9a33", "content": "Gobby's roadmap tracks features across sections: Shipped (completed), Beta (new experimental features), Current work (in-progress items), and Near term (planned). Features are marked with status indicators (✅ done, 🧪 experimental).", "type": "pattern", "importance": 0.8, "tags": ["gobby", "roadmap-structure", "documentation-pattern"], "created_at": "2026-01-26T15:53:04.661170+00:00", "updated_at": "2026-01-26T15:53:04.661170+00:00", "source": "session", "source_id": "a3a6417e-f8fd-4aae-b2ba-548d04020bf0"}
{"id": "mm-b3dbc0c7", "content": "The gobby-skills internal tool registry is located at src/gobby/mcp_proxy/tools/skills/__init__.py and provides the interface for skill management and retrieval.", "type": "fact", "importance": 0.8, "tags": ["gobby", "skills", "file-location", "internal-tools"], "created_at": "2026-01-26T15:25:05.984089+00:00", "updated_at": "2026-01-26T15:25:05.984089+00:00", "source": "session", "source_id": "abc2700e-a3b7-49e6-8af8-daaf3a0607cb"}
{"id": "mm-73c7f8d0", "content": "Parser and storage layers need updates to support top-level alwaysApply and category fields. The alwaysApply parser is in parser.py (lines 188-240) and storage is in storage/skills.py. These changes enable skill-level defaults that apply across all MCP servers.", "type": "fact", "importance": 0.8, "tags": ["configuration", "parser", "storage", "skill-defaults"], "created_at": "2026-01-26T15:19:56.016324+00:00", "updated_at": "2026-01-26T15:19:56.016324+00:00", "source": "session", "source_id": "1f0eb083-9ebd-4c61-8ea3-0e9fd78037e2"}
{"id": "mm-8cad280e", "content": "The `/gobby` router command (accessible via `/g` or `/gobby`) should display help when invoked without arguments, showing available skills and usage. This requires skill_name lookup fix in Python code (get_skill function).", "type": "pattern", "importance": 0.8, "tags": ["gobby", "router", "UX", "help-system"], "created_at": "2026-01-26T15:05:14.863770+00:00", "updated_at": "2026-01-26T15:05:14.863770+00:00", "source": "session", "source_id": "7a81fcd4-081e-46e1-816a-7c19660112ae"}
{"id": "mm-92e2213d", "content": "Gobby's `alwaysApply` infrastructure exists but is currently unused. The system needs to support both boolean format (`alwaysApply: true`) and string format for backward compatibility, with foundational skills marked as alwaysApply after implementation.", "type": "fact", "importance": 0.8, "tags": ["gobby", "skills", "alwaysApply", "implementation-detail"], "created_at": "2026-01-26T15:05:14.863383+00:00", "updated_at": "2026-01-26T15:05:14.863383+00:00", "source": "session", "source_id": "7a81fcd4-081e-46e1-816a-7c19660112ae"}
{"id": "mm-1781116c", "content": "Gobby has a pre-merge-commit hook that can block automatic merge commits even when the merge succeeds. When this occurs, manually complete the merge with 'git commit' rather than aborting.", "type": "context", "importance": 0.8, "tags": ["git-hooks", "merge-workflow", "gobby-tools"], "created_at": "2026-01-26T14:38:25.219518+00:00", "updated_at": "2026-01-26T14:38:25.219518+00:00", "source": "session", "source_id": "a1ac3b12-02bf-4d07-94ec-c64ada8e202e"}
{"id": "mm-185e07e1", "content": "The spawn_agent_in_worktree tool in worktrees.py must resolve task_id formats (supports #N, N, path, or UUID) before spawning. Task ID resolution requires task_manager parameter and error handling for invalid formats.", "type": "pattern", "importance": 0.8, "tags": ["task-management", "spawn", "task-id-resolution"], "created_at": "2026-01-26T14:25:01.563300+00:00", "updated_at": "2026-01-26T14:25:01.563300+00:00", "source": "session", "source_id": "4cb1f535-45d0-476c-92e1-5c11a06e1ef2"}
{"id": "mm-b385673c", "content": "Gemini model spawning uses provider='gemini' with model='gemini-3-pro' (not gemini-2.5-pro). This is the current preview model in the Gemini series.", "type": "fact", "importance": 0.8, "tags": ["gemini", "api", "model-names", "spawn"], "created_at": "2026-01-26T14:25:01.560283+00:00", "updated_at": "2026-01-26T14:25:01.560283+00:00", "source": "session", "source_id": "4cb1f535-45d0-476c-92e1-5c11a06e1ef2"}
{"id": "mm-5b373bb6", "content": "The worktrees.py module at src/gobby/mcp_proxy/tools/worktrees.py contains MCP tools for worktree management. The `spawn_agent_in_worktree` function should accept and resolve task_id parameters using the task_manager to support flexible task_id formats before downstream operations.", "type": "fact", "importance": 0.8, "tags": ["worktrees", "file-location", "task-spawning"], "created_at": "2026-01-26T14:06:11.454734+00:00", "updated_at": "2026-01-26T14:06:11.454734+00:00", "source": "session", "source_id": "fd7660c1-b6a1-4b45-81ae-e8d0c7aa074c"}
{"id": "mm-e4e4b24d", "content": "The spawn_agent API migration uses a three-phase approach: Phase 1 adds the new unified tool, Phase 2 deprecates the old fragmented tools (spawn_agent_in_worktree, etc.), Phase 3 removes them. This allows backward compatibility during transition.", "type": "context", "importance": 0.8, "tags": ["spawn_agent", "migration_strategy", "API_design"], "created_at": "2026-01-26T14:05:26.285261+00:00", "updated_at": "2026-01-26T14:05:26.285261+00:00", "source": "session", "source_id": "dc91e716-6e3a-4958-a18f-599e9bc18341"}
{"id": "mm-6a14204c", "content": "When planning work in gobby, document the plan in two places: update the current session plan file (e.g., .claude/plans/optimized-seeking-hammock.md) first for approval, then export to permanent documentation (docs/plans/) before creating tasks. User prefers structured plan review before task creation.", "type": "pattern", "importance": 0.8, "tags": ["planning", "workflow", "documentation", "task-creation"], "created_at": "2026-01-26T02:57:07.744297+00:00", "updated_at": "2026-01-26T02:57:07.744297+00:00", "source": "session", "source_id": "1d0c2cb9-eb49-4dc2-8480-b01ade18895e"}
{"id": "mm-9dd1372b", "content": "To use Gobby's project features from Claude Desktop, run 'gobby init' in a directory first, then start Claude Desktop from that same directory so it can discover .gobby/project.json via directory traversal. This is a workaround for Claude Desktop's lack of native project context.", "type": "context", "importance": 0.8, "tags": ["gobby", "claude-desktop", "integration", "workaround"], "created_at": "2026-01-26T02:40:00.901541+00:00", "updated_at": "2026-01-26T02:40:00.901541+00:00", "source": "session", "source_id": "98f5698d-646d-409d-8d8f-c997ab736d98"}
{"id": "mm-40fa28fe", "content": "Gobby applies database migrations when the daemon starts. Schema changes between versions can cause compatibility issues, so be cautious when switching between development and published versions of gobby that share the same ~/.gobby database.", "type": "context", "importance": 0.8, "tags": ["gobby", "database", "migrations", "versions"], "created_at": "2026-01-25T23:37:41.142421+00:00", "updated_at": "2026-01-25T23:37:41.142421+00:00", "source": "session", "source_id": "2ceaa340-cf01-4208-80b8-dcc482c3992c"}
{"id": "mm-3db04a42", "content": "For gobby development, prefer using `uv run gobby` from the project directory over `uvx gobby` or system installations to avoid version mismatches and database migration issues with the development database.", "type": "preference", "importance": 0.8, "tags": ["gobby", "development-workflow", "tooling"], "created_at": "2026-01-25T23:37:41.141599+00:00", "updated_at": "2026-01-25T23:37:41.141599+00:00", "source": "session", "source_id": "2ceaa340-cf01-4208-80b8-dcc482c3992c"}
{"id": "mm-7238770d", "content": "The gobby project uses git hooks that can be bypassed with --no-verify flag when pushing. Use this when standard git push commands hang or get stuck.", "type": "pattern", "importance": 0.8, "tags": ["git", "troubleshooting", "gobby"], "created_at": "2026-01-25T20:25:01.884761+00:00", "updated_at": "2026-01-25T20:25:01.884761+00:00", "source": "session", "source_id": "a6e315ce-fd9e-4f19-b3a2-bd2ffeeb9924"}
{"id": "mm-cec2eb9c", "content": "gobby project has CLI tests that properly mock `stop_daemon` and `kill_all_gobby_daemons`, and E2E tests spawn isolated daemons with `gobby_e2e_` in the cmdline. The `cleanup_orphan_processes` function only targets `gobby_e2e_` processes, ensuring test isolation.", "type": "fact", "importance": 0.8, "tags": ["testing", "daemon", "isolation", "test-infrastructure"], "created_at": "2026-01-25T20:24:39.566039+00:00", "updated_at": "2026-01-25T20:24:39.566039+00:00", "source": "session", "source_id": "c2aaa2aa-e2e4-43d7-b976-8c11ab85e050"}
{"id": "mm-c41451ab", "content": "Git utility tests in tests/utils/test_utils_git.py use caplog to verify that specific log messages are emitted (e.g., 'Git command failed', 'timed out', 'not found', 'detached HEAD'). These tests mock subprocess.run and gobby.utils.git.run_git_command to simulate various git error conditions.", "type": "pattern", "importance": 0.8, "tags": ["testing", "git-utils", "logging-verification", "mocking"], "created_at": "2026-01-25T20:04:09.520802+00:00", "updated_at": "2026-01-25T20:04:09.520802+00:00", "source": "session", "source_id": "4042c9be-18da-4d31-9039-027a93af8c78"}
{"id": "mm-35af5cac", "content": "When bandit flags try-except-pass patterns as B110, the appropriate fix is to add a `# nosec B110` comment with justification rather than changing the code, especially when exception silencing is intentional for best-effort fallback patterns.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "bandit", "code-style", "security-scanning"], "created_at": "2026-01-25T20:01:19.944858+00:00", "updated_at": "2026-01-25T20:01:19.944858+00:00", "source": "session", "source_id": "d57d9ac5-abb3-41a5-8fc5-06d1a8aef82a"}
{"id": "mm-5522ad34", "content": "When modifying workflow YAML files in gobby, ensure both source and installed versions stay in sync. The `gobby install` command automatically updates installed versions, so verify alignment after changes.", "type": "pattern", "importance": 0.8, "tags": ["workflow-maintenance", "source-control", "installation"], "created_at": "2026-01-25T19:15:01.968389+00:00", "updated_at": "2026-01-25T19:15:01.968389+00:00", "source": "session", "source_id": "148858d4-70aa-430c-90ab-861f2584dc3c"}
{"id": "mm-bf5b0d6d", "content": "The project has a hook dispatcher system at ~/Projects/gobby/.claude/hooks/hook_dispatcher that validates tool usage. Edit tools trigger PreToolUse hooks that check for claimed tasks and enforce workflow rules.", "type": "fact", "importance": 0.8, "tags": ["hooks", "tool-validation", "task-claiming"], "created_at": "2026-01-25T19:15:01.967950+00:00", "updated_at": "2026-01-25T19:15:01.967950+00:00", "source": "session", "source_id": "148858d4-70aa-430c-90ab-861f2584dc3c"}
{"id": "mm-41c60290", "content": "The gobby project uses a standard workflow: edit files → run tests → commit with branch reference (e.g., [#6074] prefix in commit message) → close task via MCP tool. Tests include coverage reporting for multiple workflow files.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "workflow", "testing", "git-commit"], "created_at": "2026-01-25T18:57:20.544809+00:00", "updated_at": "2026-01-25T18:57:20.544809+00:00", "source": "session", "source_id": "b2f71f48-f38b-497f-be1f-51691cd40974"}
{"id": "mm-ee68ecb2", "content": "The gobby project has active workflows with priority levels. The active workflows display shows workflow name, scope (project/global), and priority value (e.g., session-lifecycle at priority=10, session-handoff at priority=100).", "type": "fact", "importance": 0.8, "tags": ["gobby", "workflows", "priority", "display"], "created_at": "2026-01-25T18:57:20.539593+00:00", "updated_at": "2026-01-25T18:57:20.539593+00:00", "source": "session", "source_id": "b2f71f48-f38b-497f-be1f-51691cd40974"}
{"id": "mm-8e12a95f", "content": "The gobby codebase has skill definitions in src/gobby/install/shared/skills/ with SKILL.md files. Instructions should direct users to call gobby-sessions.get_current_session() to obtain session IDs before task creation.", "type": "fact", "importance": 0.8, "tags": ["skills", "sessions", "task-creation"], "created_at": "2026-01-25T18:38:30.161806+00:00", "updated_at": "2026-01-25T18:38:30.161806+00:00", "source": "session", "source_id": "8acbf4cc-c352-46e6-92f7-1047394972e3"}
{"id": "mm-915d5286", "content": "Template conditionals in Jinja2 templates (e.g., compact.md) should wrap variables like {{ todo_list }} in {% if variable %}...{% endif %} to prevent rendering undefined/empty values.", "type": "pattern", "importance": 0.8, "tags": ["templates", "jinja2", "conditional-rendering"], "created_at": "2026-01-25T18:38:30.161494+00:00", "updated_at": "2026-01-25T18:38:30.161494+00:00", "source": "session", "source_id": "8acbf4cc-c352-46e6-92f7-1047394972e3"}
{"id": "mm-f1e414ba", "content": "Timestamp parsing in src/gobby/sync/tasks.py (lines 302-309 and 324-329) requires try/except blocks to handle malformed timestamps gracefully, falling back to datetime.min when parsing fails.", "type": "pattern", "importance": 0.8, "tags": ["error-handling", "timestamps", "sync-module"], "created_at": "2026-01-25T18:38:30.161069+00:00", "updated_at": "2026-01-25T18:38:30.161069+00:00", "source": "session", "source_id": "8acbf4cc-c352-46e6-92f7-1047394972e3"}
{"id": "mm-ed88b0b6", "content": "The gobby daemon automatically syncs bundled skills from src/gobby/install/shared/skills/. After modifications, list_skills() should show 25 total skills: 24 bundled from gobby-skills + 1 textual skill from .claude/commands/textual/.", "type": "fact", "importance": 0.8, "tags": ["gobby-daemon", "skill-sync", "skill-discovery"], "created_at": "2026-01-25T18:18:01.199346+00:00", "updated_at": "2026-01-25T18:18:01.199346+00:00", "source": "session", "source_id": "8ba09a43-3c3f-442c-9cdf-555cb2f38851"}
{"id": "mm-adb48bc7", "content": "Task commit messages follow the format [#TASK_ID] Description (e.g., '[#6065] Bundle quick task skills in gobby-skills'). The task ID reference is automatically recognized by the task management system.", "type": "pattern", "importance": 0.8, "tags": ["commit-convention", "task-tracking"], "created_at": "2026-01-25T18:18:01.198966+00:00", "updated_at": "2026-01-25T18:18:01.198966+00:00", "source": "session", "source_id": "8ba09a43-3c3f-442c-9cdf-555cb2f38851"}
{"id": "mm-4a8a52fd", "content": "Gobby's task lifecycle state management involves: detect_task_claim sets task_claimed=True on create_task, the MCP proxy's close_task clears it on successful close, and detection_helpers.py detects tool results. The state must be coordinated across these three components.", "type": "context", "importance": 0.8, "tags": ["task-lifecycle", "state-coordination", "architecture"], "created_at": "2026-01-25T17:14:28.200461+00:00", "updated_at": "2026-01-25T17:14:28.200461+00:00", "source": "session", "source_id": "b08118fe-cfa2-4c04-b92a-d381c05e7eda"}
{"id": "mm-021b3a13", "content": "The gobby project uses skill definitions in SKILL.md files (located in .claude/skills/ directories) that document tool parameters, defaults, and behavior. These are the source of truth for API contracts.", "type": "fact", "importance": 0.8, "tags": ["gobby", "architecture", "skills", "SKILL.md"], "created_at": "2026-01-25T17:06:20.291852+00:00", "updated_at": "2026-01-25T17:06:20.291852+00:00", "source": "session", "source_id": "14783fc8-c1c8-4670-9bdc-0a1849c5376d"}
{"id": "mm-27f5f8a3", "content": "GEMINI.md serves as user-facing documentation for the gobby project that includes code examples for calling tools. Examples must be kept in sync with actual SKILL.md specifications and parameter defaults to avoid confusion.", "type": "context", "importance": 0.8, "tags": ["gobby", "documentation", "GEMINI.md"], "created_at": "2026-01-25T17:05:36.799771+00:00", "updated_at": "2026-01-25T17:05:36.799771+00:00", "source": "session", "source_id": "14783fc8-c1c8-4670-9bdc-0a1849c5376d"}
{"id": "mm-ba7ad593", "content": "Gobby uses progressive disclosure for MCP tools: list_mcp_servers() → list_tools(server=...) → get_tool_schema(server, tool). Never load all schemas upfront to preserve context window. Reference skill: discovering-tools for the complete pattern.", "type": "pattern", "importance": 0.8, "tags": ["mcp-proxy", "tool-discovery", "context-optimization"], "created_at": "2026-01-25T17:05:36.433954+00:00", "updated_at": "2026-01-25T17:05:36.433954+00:00", "source": "session", "source_id": "510d507d-f02a-47d5-8b8c-5c8fc2299ab3"}
{"id": "mm-726b9000", "content": "The gobby project uses specific LiteLLM exception handling (AuthenticationError, NotFoundError, RateLimitError, ContextWindowExceededError) in create_memory(). The .gobby/memories.jsonl file should not contain entries with null or empty content fields.", "type": "pattern", "importance": 0.8, "tags": ["validation", "memories", "data-integrity"], "created_at": "2026-01-25T16:54:00.261264+00:00", "updated_at": "2026-01-25T16:54:00.261264+00:00", "source": "session", "source_id": "0c5227bc-84b1-44b2-9e75-32fd96ec85ca"}
{"id": "mm-1e4502e8", "content": "Gobby daemon runs on two ports: 60887 (primary) and 60888 (secondary). These are the standard ports for thture includes tests/ with subdirectories like tests/utils/ and tests/plugins/ containing test modules following a test_*.py naming convention.", "type": "fact", "importance": 0.8, "tags": ["project-structure", "gobby", "file-organization"], "created_at": "2026-01-25T16:54:00.260257+00:00", "updated_at": "2026-01-25T16:54:00.260257+00:00", "source": "session", "source_id": "99afe6be-e662-4f5b-a6b0-6c8da124b366"}
{"id": "mm-0f7ec749", "content": "Memory records in .gobby/memories.jsonl must have non-empty 'content' field. Add validation in create_memory() and import_from_jsonl() to reject or skip records where content is null, empty string, or missing. This prevents silent data loss and ensures all stored memories are meaningful.", "type": "pattern", "importance": 0.8, "tags": ["validation", "memories", "data-integrity", "error-handling"], "created_at": "2026-01-25T16:54:00.259301+00:00", "updated_at": "2026-01-25T16:54:00.259301+00:00", "source": "session", "source_id": "389037ea-8953-4e4f-bcb4-29c5dc468357"}
{"id": "mm-04676fa3", "content": "The _LazyBool class in task_enforcement_actions.py lacks __eq__ and __ne__ operators, causing expressions like 'session_has_dirty_files == False' to skip thunk evaluation. Add __eq__(self, other) and __ne__(self, other) methods that coerce self to bool via bool(self) before comparison to ensure lazy evaluation is triggered and comparisons return correct True/False semantics.", "type": "pattern", "importance": 0.8, "tags": ["lazy-evaluation", "task-enforcement", "operator-overloading", "python-semantics"], "created_at": "2026-01-25T16:54:00.257505+00:00", "updated_at": "2026-01-25T16:54:00.257505+00:00", "source": "session", "source_id": "389037ea-8953-4e4f-bcb4-29c5dc468357"}
{"id": "mm-3aff47e4", "content": "The gobby project stores planning documentation in ~/.claude/plans/ with markdown files. The project structure includes tests/ with subdirectories like tests/utils/ and tests/plugins/ containing test modules following a test_*.py naming convention.", "type": "fact", "importance": 0.8, "tags": ["project-structure", "gobby", "file-organization"], "created_at": "2026-01-25T16:54:00.255448+00:00", "updated_at": "2026-01-25T16:54:00.255448+00:00", "source": "session", "source_id": "99afe6be-e662-4f5b-a6b0-6c8da124b366"}
{"id": "mm-d478ad15", "content": "The gobby project stores planning documentation in ~/.claude/plans/ with markdown files. The project structure includes tests/ with subdirectories like tests/utils/ and tests/plugins/ containing test modules following a test_*.py naming convention.", "type": "fact", "importance": 0.8, "tags": ["project-structure", "gobby", "file-organization"], "created_at": "2026-01-25T16:53:25.606105+00:00", "updated_at": "2026-01-25T16:53:25.606105+00:00", "source": "session", "source_id": "99afe6be-e662-4f5b-a6b0-6c8da124b366"}
{"id": "mm-25f56f05", "content": "The gobby project uses pytest markers configured in pyproject.toml. Unknown markers like `no_config_protection` generate warnings and must be explicitly registered in the `[tool.pytest.ini_options]` markers list to be recognized.", "type": "pattern", "importance": 0.8, "tags": ["pytest", "configuration", "markers", "gobby"], "created_at": "2026-01-25T16:53:25.605691+00:00", "updated_at": "2026-01-25T16:53:25.605691+00:00", "source": "session", "source_id": "99afe6be-e662-4f5b-a6b0-6c8da124b366"}
{"id": "mm-0dc68d2a", "content": "The _normalize_timestamp() function in sync/tasks.py should treat empty string as None (return None if ts == ''), and use regex pattern matching (e.g., r'Z|[+-]\\d{2}:\\d{2}$') to detect RFC3339 timezone suffixes instead of brittle slice checks. Only append 'Z' when the pattern does not match the timestamp suffix.", "type": "pattern", "importance": 0.8, "tags": ["timestamp-handling", "iso8601", "sync", "task-export", "regex-validation"], "created_at": "2026-01-25T04:38:01.653774+00:00", "updated_at": "2026-01-25T04:38:01.653774+00:00", "source": "session", "source_id": "389037ea-8953-4e4f-bcb4-29c5dc468357"}
{"id": "mm-53413dff", "content": "Async test methods in gobby test suite (especially in test_task_enforcement.py) require @pytest.mark.asyncio decorator above each async def so pytest-asyncio discovers and runs them correctly. Can also use pytestmark at class level as alternative.", "type": "pattern", "importance": 0.8, "tags": ["testing", "pytest-asyncio", "async"], "created_at": "2026-01-25T04:37:25.373896+00:00", "updated_at": "2026-01-25T04:37:25.373896+00:00", "source": "session", "source_id": "90eefa0c-bedd-4489-bcd4-df7bf8a3cc6b"}
{"id": "mm-1357e99e", "content": "Gobby task workflow: make targeted fixes, verify with tests (all must pass), run git operations selectively (stage only relevant files, not unrelated changes), commit with task number format [#XXXX], then use tool to close task. The .gobby/tasks.jsonl file tracks task metadata.", "type": "pattern", "importance": 0.8, "tags": ["workflow", "git-practices", "testing", "task-management"], "created_at": "2026-01-25T04:37:25.371478+00:00", "updated_at": "2026-01-25T04:37:25.371478+00:00", "source": "session", "source_id": "1a867b59-ad3d-4075-9020-6293616fbeb2"}
{"id": "mm-798188ed", "content": "Git logging tests require a caplog fixture configured with 'gobby.utils.git' logger. Use autouse fixture in conftest.py to configure caplog at the start of each test in test_utils_git.py to capture logger output properly.", "type": "pattern", "importance": 0.8, "tags": ["testing", "logging", "fixtures", "git"], "created_at": "2026-01-25T04:37:25.368223+00:00", "updated_at": "2026-01-25T04:37:25.368223+00:00", "source": "session", "source_id": "edd104f2-b2d8-4d31-a4fa-5799376ae6ec"}
{"id": "mm-46af0301", "content": "gobby syncs require timestamp normalization to ensure all timestamps have timezone suffix (appends 'Z' if missing in src/gobby/sync/tasks.py) and memory deduplication during export (src/gobby/sync/memories.py).", "type": "pattern", "importance": 0.8, "tags": ["gobby", "sync", "timestamps", "deduplication"], "created_at": "2026-01-25T04:37:25.365141+00:00", "updated_at": "2026-01-25T04:37:25.365141+00:00", "source": "session", "source_id": "c9787d92-bd8e-4fcc-a158-05af9147f470"}
{"id": "mm-245807b9", "content": "The gobby project uses specific LiteLLM exception handling (AuthenticationError, NotFoundError, RateLimitError, ContextWindowExceededError) instead of broad exception catching in the embeddings module. Apply specific exception types in LiteLLM integration code.", "type": "pattern", "importance": 0.8, "tags": ["error-handling", "litellm", "embeddings"], "created_at": "2026-01-25T04:34:46.441061+00:00", "updated_at": "2026-01-25T04:34:46.441061+00:00", "source": "session", "source_id": "0c5227bc-84b1-44b2-9e75-32fd96ec85ca"}
{"id": "mm-7d8398f5", "content": "The gobby project uses structured error codes via ToolProxyErrorCode enum (SERVER_NOT_FOUND, INVALID_ARGUMENTS, etc.) in src/gobby/mcp_proxy/models.py, with error classification in tool_proxy.py and backward-compatible fallback string matching in routes/mcp/tools.py.", "type": "pattern", "importance": 0.8, "tags": ["gobby", "error-handling", "mcp-proxy", "structured-errors"], "created_at": "2026-01-25T04:17:24.126037+00:00", "updated_at": "2026-01-25T04:17:24.126037+00:00", "source": "session", "source_id": "c9787d92-bd8e-4fcc-a158-05af9147f470"}
{"id": "mm-41a61c2a", "content": "Memory ID generation in gobby uses '||' delimiter between content and project_id to prevent collisions (e.g., 'abc'+'def' vs 'abcd'+'ef'). This is implemented in src/gobby/storage/memories.py.", "type": "fact", "importance": 0.8, "tags": ["gobby", "memory-system", "id-generation", "collision-prevention"], "created_at": "2026-01-25T04:17:24.123650+00:00", "updated_at": "2026-01-25T04:17:24.123650+00:00", "source": "session", "source_id": "c9787d92-bd8e-4fcc-a158-05af9147f470"}
{"id": "mm-010003b6", "content": "Async test methods in the gobby project must be decorated with `@pytest.mark.asyncio`. This is a project-wide convention that was missing from tests/workflows/test_task_enforcement.py in the TestBlockTools class.", "type": "pattern", "importance": 0.8, "tags": ["testing", "pytest", "async", "conventions"], "created_at": "2026-01-25T04:08:42.983058+00:00", "updated_at": "2026-01-25T04:08:42.983058+00:00", "source": "session", "source_id": "82c1590d-8051-4ccf-af2c-988867c7e884"}
{"id": "mm-56ae40e4", "content": "Gobby diagnostic skill uses `__diag__` prefix for self-cleaning test artifacts. Cleanup protocol (Step 3-4) must iterate over list_tasks() results and call close_task(task_id, reason='obsolete') or delete_task(task_id) for hard deletion. Similar patterns apply to memories, worktrees, and clones—always search by prefix/tag, iterate results, then clean up individually.", "type": "pattern", "importance": 0.8, "tags": ["gobby-diagnostic", "cleanup", "testing", "MCP-tools"], "created_at": "2026-01-25T04:04:50.335354+00:00", "updated_at": "2026-01-25T04:04:50.335354+00:00", "source": "session", "source_id": "90eefa0c-bedd-4489-bcd4-df7bf8a3cc6b"}
{"id": "mm-28d8d578", "content": "Test fixtures in gobby: protect_production_resources fixture patches load_config in already-imported modules (e.g., gobby.runner, gobby.mcp_proxy.stdio) to use safe_load_config with test DB paths. Must be added to test signature to ensure safe DB is used when instantiating GobbyRunner.", "type": "fact", "importance": 0.8, "tags": ["testing", "fixtures", "safety"], "created_at": "2026-01-25T04:04:50.334561+00:00", "updated_at": "2026-01-25T04:04:50.334561+00:00", "source": "session", "source_id": "90eefa0c-bedd-4489-bcd4-df7bf8a3cc6b"}
{"id": "mm-3f91e1c8", "content": "The _is_plan_file() function in task_enforcement_actions.py should explicitly check `if source != \"claude\"` rather than `if source and source != \"claude\"` to enforce that a source value must be present and not 'claude'. This prevents plan files from being processed without explicit source attribution.", "type": "pattern", "importance": 0.8, "tags": ["validation", "task-enforcement", "source-attribution"], "created_at": "2026-01-25T04:02:56.263283+00:00", "updated_at": "2026-01-25T04:02:56.263283+00:00", "source": "session", "source_id": "1a867b59-ad3d-4075-9020-6293616fbeb2"}
{"id": "mm-40adbbec", "content": "In claiming-tasks/SKILL.md API documentation, the task_id extraction requires accessing a nested 'suggestion' object in the response, not at the top level. The API path pattern is important for skill implementations that interact with task management.", "type": "fact", "importance": 0.8, "tags": ["api-patterns", "skills", "claiming-tasks"], "created_at": "2026-01-25T04:02:56.262863+00:00", "updated_at": "2026-01-25T04:02:56.262863+00:00", "source": "session", "source_id": "1a867b59-ad3d-4075-9020-6293616fbeb2"}
{"id": "mm-6b0e1503", "content": "Skill SKILL.md files must use semantic versioning (e.g., '2.0.0' not '2.0'). Invalid versions cause 'skipping invalid skill' warnings during test execution.", "type": "fact", "importance": 0.8, "tags": ["skills", "versioning", "configuration"], "created_at": "2026-01-25T04:00:54.888578+00:00", "updated_at": "2026-01-25T04:00:54.888578+00:00", "source": "session", "source_id": "edd104f2-b2d8-4d31-a4fa-5799376ae6ec"}
{"id": "mm-0f81f76f", "content": "Gobby daemon runs on two ports: 60887 (primary) and 60888 (secondary). These are the standard ports for the Gobby service.", "type": "fact", "importance": 0.8, "tags": ["gobby", "daemon", "ports", "configuration"], "created_at": "2026-01-25T03:55:42.227210+00:00", "updated_at": "2026-01-25T03:55:42.227210+00:00", "source": "session", "source_id": "9802ab5d-afe8-4c12-a35e-228cedb63faa"}
{"id": "mm-a028f56e", "content": "Gobby has migrated to database schema v75 as baseline minimum. Legacy migrations (versions 0-75) are from migrations_legacy.py, while new migrations v76+ go in MIGRATIONS list. run_migrations rejects versions below v75, and docstrings should reference v75+ not v60+.", "type": "fact", "importance": 0.78, "tags": ["database", "migrations", "schema-version"], "created_at": "2026-01-28T03:41:22.372041+00:00", "updated_at": "2026-01-28T03:41:22.372041+00:00", "source": "session", "source_id": "740c4be1-cfcc-4aa0-ab30-7a088d85d22d"}
{"id": "mm-c1410ada", "content": "The gobby project uses a task/subtask management system where work is organized into parent epics with multiple subtasks. Closing all subtasks allows the parent epic to be closed, indicating completion of a major feature or milestone.", "type": "context", "importance": 0.75, "tags": ["gobby", "project-structure", "task-management"], "created_at": "2026-02-01T02:41:13.608931+00:00", "updated_at": "2026-02-01T02:41:13.608931+00:00", "source": "session", "source_id": "fbd26d80-b4ae-4979-8cfd-fade016711ee"}
{"id": "mm-477ebfb6", "content": "Task #6574 'Task ebby uses an update_task tool that can change task status. When working in plan mode, task status updates are a valid operation to track progress and prevent duplicate work.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "task_workflow", "plan_mode"], "created_at": "2026-02-01T02:40:40.551793+00:00", "updated_at": "2026-02-01T02:40:40.551793+00:00", "source": "session", "source_id": "1e237409-bb73-4358-8a4e-1dd38cf8dfab"}
{"id": "mm-a563a1c5", "content": "The gobby codebase is located in src/gobby/ with workflored in ~/.claude/plans/). Plan files are actively used to track architectural decisions and evolving feature design during development.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "workflow", "documentation"], "created_at": "2026-02-01T02:40:40.540417+00:00", "updated_at": "2026-02-01T02:40:40.540417+00:00", "source": "session", "source_id": "70cd9d8b-3583-4667-8b34-ea439a6c59ff"}
{"id": "mm-fc12d88a", "content": "The gobby project uses a plans directory (~/.claude/plans/) to store planning documents for features, with files named using descriptive project names (e.g., fuzzy-sniffing-toucan.md).", "type": "pattern", "importance": 0.75, "tags": ["gobby", "project-organization", "planning"], "created_at": "2026-02-01T02:40:40.521628+00:00", "updated_at": "2026-02-01T02:40:40.521628+00:00", "source": "session", "source_id": "ae499d78-7dcb-44dd-8df9-103c0c1ef33e"}
{"id": "mm-bb774938", "content": "The gobby project uses a plans directory (~/.claude/plans/) to store planning documents for features, with files named using descriptive project names (e.g., fuzzy-sniffing-toucan.md).", "type": "pattern", "importance": 0.75, "tags": ["gobby", "project-organization", "planning"], "created_at": "2026-02-01T02:39:40.054761+00:00", "updated_at": "2026-02-01T02:39:40.054761+00:00", "source": "session", "source_id": "ae499d78-7dcb-44dd-8df9-103c0c1ef33e"}
{"id": "mm-b84a97c8", "content": "A plan was created at ~/.claude/plans/fuzzy-sniffing-toucan.md documenting the fix strategy for the ID generation issue in the memory system's create_memory method.", "type": "fact", "importance": 0.75, "tags": ["gobby", "planning", "file-location", "memory-system"], "created_at": "2026-02-01T01:45:14.401224+00:00", "updated_at": "2026-02-01T01:45:14.401224+00:00", "source": "session", "source_id": "40138583-1571-42f6-ae85-f046f67ea747"}
{"id": "mm-e4d913b2", "content": "A plan was created at ~/.claude/plans/fuzzy-sniffing-toucan.md documenting the fix strategy for the ID generation issue in the memory system's create_memory method.", "type": "fact", "importance": 0.75, "tags": ["gobby", "planning", "file-location", "memory-system"], "created_at": "2026-02-01T01:44:17.930650+00:00", "updated_at": "2026-02-01T01:44:17.930650+00:00", "source": "session", "source_id": "40138583-1571-42f6-ae85-f046f67ea747"}
{"id": "mm-30a8b6a0", "content": "The gobby project uses a planning system with files stored in ~/.claude/plans/ (e.g., magical-crunching-bee.md). Plans are generated in plan mode and require user approval via ExitPlanMode before proceeding.", "type": "fact", "importance": 0.75, "tags": ["project-setup", "workflow", "gobby"], "created_at": "2026-02-01T01:42:54.021407+00:00", "updated_at": "2026-02-01T01:42:54.021407+00:00", "source": "session", "source_id": "f41bfbd1-8db4-4411-af15-7986f3249da4"}
{"id": "mm-e81e2a49", "content": "Event handlers are defined in ~/Projects/gobby/src/gobby/hooks/event_handlers.py. Recent changes added priority display to active workflows.", "type": "fact", "importance": 0.75, "tags": ["gobby", "file-location", "event-handlers"], "created_at": "2026-02-01T01:42:53.994156+00:00", "updated_at": "2026-02-01T01:42:53.994156+00:00", "source": "session", "source_id": "b2f71f48-f38b-497f-be1f-51691cd40974"}
{"id": "mm-60491217", "content": "The project uses a plan-driven development approach where phase-appropriate exploration of codebase is completed before writing implementation plans. Plans are stored in `~/.claude/plans/` directory.", "type": "pattern", "importance": 0.75, "tags": ["workflow", "planning", "project-structure"], "created_at": "2026-02-01T01:42:53.939852+00:00", "updated_at": "2026-02-01T01:42:53.939852+00:00", "source": "session", "source_id": "68fb48cd-e380-4b4d-81c9-932b386a549e"}
{"id": "mm-9252faca", "content": "The gobby project uses a plan file at ~/.claude/plans/toasty-skipping-turing.md for tracking work and decisions. Plans can be edited and updated during sessions.", "type": "fact", "importance": 0.75, "tags": ["gobby", "project-structure", "planning"], "created_at": "2026-02-01T01:42:53.889142+00:00", "updated_at": "2026-02-01T01:42:53.889142+00:00", "source": "session", "source_id": "008e8b21-c3a7-49ef-9285-f3a8534c5d7e"}
{"id": "mm-8b04be96", "content": "Documentation for gobby workflows is maintained in ~/Projects/gobby/docs/guides/workflows.md. This is a primary location for workflow-related documentation and can be updated with comprehensive guides as needed.", "type": "fact", "importance": 0.75, "tags": ["gobby", "documentation", "file-location", "workflows"], "created_at": "2026-02-01T01:42:53.853998+00:00", "updated_at": "2026-02-01T01:42:53.853998+00:00", "source": "session", "source_id": "fdbe4c8c-e194-4744-ae02-fa63a5422b54"}
{"id": "mm-aad8144d", "content": "The project uses a plan-driven approach with markdown-based planning documents (stored in ~/.claude/plans/). Plan files are actively used to track architectural decisions and evolving feature design during development.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "workflow", "documentation"], "created_at": "2026-02-01T00:58:05.043215+00:00", "updated_at": "2026-02-01T00:58:05.043215+00:00", "source": "session", "source_id": "70cd9d8b-3583-4667-8b34-ea439a6c59ff"}
{"id": "mm-2a665c07", "content": "The gobby codebase is located in src/gobby/ with workflows in src/gobby/workflows/. The lifecycle_evaluator.py file handles workflow evaluation logic.", "type": "fact", "importance": 0.75, "tags": ["gobby", "project-structure", "file-locations"], "created_at": "2026-01-31T22:27:49.659438+00:00", "updated_at": "2026-01-31T22:27:49.659438+00:00", "source": "session", "source_id": "42f3748c-dce8-4d68-8d30-492c9b127973"}
{"id": "mm-a0208562", "content": "In the gobby project, workflow variables were not propagating to debug_echo_context in lifecycle_evaluator.py. The fix involved ensuring variables are properly passed through the workflow context chain.", "type": "fact", "importance": 0.75, "tags": ["gobby", "workflow", "lifecycle_evaluator", "debug_echo_context", "bug-fix"], "created_at": "2026-01-31T22:27:49.657178+00:00", "updated_at": "2026-01-31T22:27:49.657178+00:00", "source": "session", "source_id": "42f3748c-dce8-4d68-8d30-492c9b127973"}
{"id": "mm-343f9bec", "content": "The project has a task routing mechanism where items are automatically routed to 'review' state for validation before approval. The review state is an intermediate step in the task lifecycle.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "workflow", "task-lifecycle"], "created_at": "2026-01-31T22:27:15.005326+00:00", "updated_at": "2026-01-31T22:27:15.005326+00:00", "source": "session", "source_id": "310aa924-114a-404b-b37a-b8700ddacb04"}
{"id": "mm-b9502a2e", "content": "The gobby codebase uses context_data parameter in functions like process_action_result() to manage metadata flow through the system. Understanding context propagation is important for modifications.", "type": "context", "importance": 0.75, "tags": ["gobby", "architecture", "context-management"], "created_at": "2026-01-30T17:16:47.939785+00:00", "updated_at": "2026-01-30T17:16:47.939785+00:00", "source": "session", "source_id": "24dd0a64-04d3-4154-b31a-e903f8fa484e"}
{"id": "mm-a1b1bec4", "content": "The gobby project uses a workflows module with file organization that was recently refactored: _types.py was renamed to _resolution.py. This suggests the workflows module handles type resolution logic.", "type": "fact", "importance": 0.75, "tags": ["workflows", "file-organization", "refactoring"], "created_at": "2026-01-30T17:04:16.561468+00:00", "updated_at": "2026-01-30T17:04:16.561468+00:00", "source": "session", "source_id": "19c46026-3e31-4084-bc9c-ec3a1070828d"}
{"id": "mm-7489cd4f", "content": "In gobby's _query.py file, there was a bare `except: pass` block that was replaced with proper debug logging for invalid workflow files. The project prefers explicit error handling with logging over silent exception swallowing.", "type": "pattern", "importance": 0.75, "tags": ["error-handling", "logging", "_query.py", "code-quality"], "created_at": "2026-01-30T17:01:34.928121+00:00", "updated_at": "2026-01-30T17:01:34.928121+00:00", "source": "session", "source_id": "31a32563-deb5-4d75-9380-937e7500bc88"}
{"id": "mm-8311195a", "content": "When refactoring code in gobby (like extracting pre-created session and response components), use descriptive commit messages with issue references (e.g., `[#6602] Extract pre-created session...`). Complete the refactoring task by calling the task completion endpoint after successful commits.", "type": "pattern", "importance": 0.75, "tags": ["workflow", "commits", "refactoring"], "created_at": "2026-01-30T16:59:34.019126+00:00", "updated_at": "2026-01-30T16:59:34.019126+00:00", "source": "session", "source_id": "d9d28f23-f972-4192-b039-e92e928c45b4"}
{"id": "mm-64ce9b85", "content": "The project follows a pattern of extracting duplicated helper methods to reduce code duplication, as evidenced by the extraction of _retry_async() from multiple locations in claude.py.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "code-refactoring", "helper-methods", "deduplication"], "created_at": "2026-01-30T16:54:11.669193+00:00", "updated_at": "2026-01-30T16:54:11.669193+00:00", "source": "session", "source_id": "f35b9a63-ea64-4bb8-aa7c-17c033c8fe4e"}
{"id": "mm-4a022ea1", "content": "The dev branch typically has multiple unpushed commits (observed 23 commits ahead of origin/dev). Code changes are committed regularly, and task tracking is done through issue numbers (e.g., #6601) referenced in commit messages.", "type": "context", "importance": 0.75, "tags": ["gobby", "git-workflow", "dev-branch", "commit-tracking"], "created_at": "2026-01-30T16:54:11.668109+00:00", "updated_at": "2026-01-30T16:54:11.668109+00:00", "source": "session", "source_id": "f35b9a63-ea64-4bb8-aa7c-17c033c8fe4e"}
{"id": "mm-e79e5ab8", "content": "When Black formatter reports that files would be reformatted (exit code 1), run `black` on the specific file to auto-format it, then proceed with git operations. This is part of the standard pre-commit workflow.", "type": "pattern", "importance": 0.75, "tags": ["formatting", "black", "workflow"], "created_at": "2026-01-30T16:53:32.770781+00:00", "updated_at": "2026-01-30T16:53:32.770781+00:00", "source": "session", "source_id": "a18a5103-fcf7-47cd-aca7-ce25fb96f55f"}
{"id": "mm-7aed6656", "content": "Documentation for gobby workflows is maintained in ~/Projects/gobby/docs/guides/workflows.md. This is a primary location for workflow-related documentation and can be updated with comprehensive guides as needed.", "type": "fact", "importance": 0.75, "tags": ["gobby", "documentation", "file-location", "workflows"], "created_at": "2026-01-30T16:49:17.107642+00:00", "updated_at": "2026-01-30T16:49:17.107642+00:00", "source": "session", "source_id": "fdbe4c8c-e194-4744-ae02-fa63a5422b54"}
{"id": "mm-0dd98b24", "content": "The project uses git-based workflow with branches (dev) and pre-tool hooks for task management. Hook dispatcher checks must pass before closing tasks. Recent commits include fixes to test_suggest_next_task for leaf task support.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "git-workflow", "hooks", "testing"], "created_at": "2026-01-30T16:38:16.970005+00:00", "updated_at": "2026-01-30T16:38:16.970005+00:00", "source": "session", "source_id": "45c897a8-445a-41d1-ab1d-2f15a110f7c8"}
{"id": "mm-3c927bd2", "content": "Gobby uses a git-based workflow with commit messages following a pattern like '[#ISSUE_ID] Description'. Tasks are tracked in an MCP system with a close_task tool that requires commit_sha parameter.", "type": "pattern", "importance": 0.75, "tags": ["git-workflow", "task-tracking", "commit-conventions", "mcp-tools"], "created_at": "2026-01-30T16:33:48.861184+00:00", "updated_at": "2026-01-30T16:33:48.861184+00:00", "source": "session", "source_id": "dae52101-4612-4d2f-96d6-b462ab7e52b1"}
{"id": "mm-66dedea4", "content": "The user prefers to keep optional parameters as optional (session_id) rather than making them required, which affects how tests must be structured to handle both cases.", "type": "preference", "importance": 0.75, "tags": ["gobby", "api_design", "optional_parameters"], "created_at": "2026-01-30T16:30:21.376320+00:00", "updated_at": "2026-01-30T16:30:21.376320+00:00", "source": "session", "source_id": "1e237409-bb73-4358-8a4e-1dd38cf8dfab"}
{"id": "mm-9db5a701", "content": "Task management in gobby uses an update_task tool that can change task status. When working in plan mode, task status updates are a valid operation to track progress and prevent duplicate work.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "task_workflow", "plan_mode"], "created_at": "2026-01-30T16:30:21.374507+00:00", "updated_at": "2026-01-30T16:30:21.374507+00:00", "source": "session", "source_id": "1e237409-bb73-4358-8a4e-1dd38cf8dfab"}
{"id": "mm-c2ac85b8", "content": "Task #6574 'Task enforcement hook not blocking edits without claimed task' was fixed and closed as already_implemented. The task enforcement mechanism is working correctly to block edits when no task is claimed.", "type": "context", "importance": 0.75, "tags": ["gobby", "task-enforcement", "completed"], "created_at": "2026-01-30T16:17:10.071774+00:00", "updated_at": "2026-01-30T16:17:10.071774+00:00", "source": "session", "source_id": "de45fa0f-60fa-4d82-8bd9-c0f33462dccb"}
{"id": "mm-b434fddd", "content": "The gobby project has a hooks testing suite with 514 tests that all pass. Hooks implementation is complete and validated.", "type": "fact", "importance": 0.75, "tags": ["gobby", "hooks", "testing", "validation"], "created_at": "2026-01-30T15:55:14.997396+00:00", "updated_at": "2026-01-30T15:55:14.997396+00:00", "source": "session", "source_id": "0849573d-1848-44a7-a8b4-0300bea6b53b"}
{"id": "mm-e6b61528", "content": "Gobby uses a task/workflow system that can be closed/completed via tool actions. Changes are committed to git with descriptive commit messages referencing issue numbers.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "workflow", "git", "commit-conventions"], "created_at": "2026-01-30T15:51:10.024926+00:00", "updated_at": "2026-01-30T15:51:10.024926+00:00", "source": "session", "source_id": "bbd47ee8-2900-42de-b8a4-5eb6249f0c59"}
{"id": "mm-c36b02f8", "content": "Recent work added artifact stats to gobby status display (commit #6585). The status command now shows artifact-related statistics that can be verified by restarting the daemon.", "type": "context", "importance": 0.75, "tags": ["gobby", "status-display", "artifacts", "feature"], "created_at": "2026-01-30T15:51:10.024384+00:00", "updated_at": "2026-01-30T15:51:10.024384+00:00", "source": "session", "source_id": "bbd47ee8-2900-42de-b8a4-5eb6249f0c59"}
{"id": "mm-ec823b6d", "content": "The project involves researching and implementing context window management strategies across different LLM providers, with specific focus on how different APIs expose (or don't expose) context usage metrics to agents.", "type": "context", "importance": 0.75, "tags": ["gobby", "multi-provider-support", "context-limits"], "created_at": "2026-01-30T15:49:35.525284+00:00", "updated_at": "2026-01-30T15:49:35.525284+00:00", "source": "session", "source_id": "008e8b21-c3a7-49ef-9285-f3a8534c5d7e"}
{"id": "mm-8285d3eb", "content": "The gobby project uses a plan file at ~/.claude/plans/toasty-skipping-turing.md for tracking work and decisions. Plans can be edited and updated during sessions.", "type": "fact", "importance": 0.75, "tags": ["gobby", "project-structure", "planning"], "created_at": "2026-01-30T15:49:35.522477+00:00", "updated_at": "2026-01-30T15:49:35.522477+00:00", "source": "session", "source_id": "008e8b21-c3a7-49ef-9285-f3a8534c5d7e"}
{"id": "mm-7b3b35a0", "content": "The gobby project uses a task tracking system (external service) where commits are linked to task IDs in the format '[#TASK_ID] Description' in commit messages. Task #6584 was created and closed during this session for the _setup_litellm refactoring work.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "workflow", "git-commits", "task-tracking"], "created_at": "2026-01-30T15:29:00.183402+00:00", "updated_at": "2026-01-30T15:29:00.183402+00:00", "source": "session", "source_id": "be491fa5-b0af-4ce2-aa89-91304485464c"}
{"id": "mm-32ae9fe5", "content": "The gobby project uses git_utils.py in src/gobby/workflows/ for Git operations. Test coverage for this module is currently at 70% (80 lines total), with lines 26-35 uncovered.", "type": "fact", "importance": 0.75, "tags": ["gobby", "git_utils", "test_coverage", "file_location"], "created_at": "2026-01-30T14:44:27.150201+00:00", "updated_at": "2026-01-30T14:44:27.150201+00:00", "source": "session", "source_id": "e3a814a9-84de-4937-84db-e26881de918f"}
{"id": "mm-463e0399", "content": "The gobby project uses a storage module with tasks submodule containing a _search.py file. This appears to be part of the core functionality for task searching/storage operations.", "type": "fact", "importance": 0.75, "tags": ["architecture", "file-structure"], "created_at": "2026-01-30T14:43:31.713123+00:00", "updated_at": "2026-01-30T14:43:31.713123+00:00", "source": "session", "source_id": "3094c52c-a09f-44ce-8f44-22329bb971a9"}
{"id": "mm-8608bd3e", "content": "gobby is an LLM-related project with a module structure at src/gobby/llm/ that includes claude.py. The codebase uses git for version control with feature branches and commit-based development workflow.", "type": "context", "importance": 0.75, "tags": ["architecture", "project-structure", "gobby"], "created_at": "2026-01-30T05:42:30.512208+00:00", "updated_at": "2026-01-30T05:42:30.512208+00:00", "source": "session", "source_id": "2f8f0abb-0651-43a3-84bb-10d649559ea9"}
{"id": "mm-2b4c5f0d", "content": "The gobby project uses a structured commit message format with issue references like [#6570], [#6571]. Recent work involved fixes to workflow lifecycle safety, async generators, model consistency, error handling, and encoding issues in src/gobby/llm/claude.py.", "type": "pattern", "importance": 0.75, "tags": ["commit-conventions", "issue-tracking", "gobby"], "created_at": "2026-01-30T05:42:30.485080+00:00", "updated_at": "2026-01-30T05:42:30.485080+00:00", "source": "session", "source_id": "2f8f0abb-0651-43a3-84bb-10d649559ea9"}
{"id": "mm-9ed20ef7", "content": "The project uses a microservice/tool calling interface with parameters like `task_id` (not `task_r`). When calling tools, verify parameter names carefully as incorrect names cause 'Invalid arguments' errors.", "type": "pattern", "importance": 0.75, "tags": ["api-parameters", "tool-interface", "error-handling"], "created_at": "2026-01-30T05:36:15.004573+00:00", "updated_at": "2026-01-30T05:36:15.004573+00:00", "source": "session", "source_id": "022c84bd-87d9-4bc1-a18d-f867c1d1dc8f"}
{"id": "mm-4ed794dd", "content": "The gobby project uses a package structure with an event_handlers module that exports EDIT_TOOLS. The project follows a pattern of exporting utilities from package __init__.py files for easier importing.", "type": "fact", "importance": 0.75, "tags": ["package-structure", "event_handlers", "exports"], "created_at": "2026-01-30T05:36:15.002673+00:00", "updated_at": "2026-01-30T05:36:15.002673+00:00", "source": "session", "source_id": "022c84bd-87d9-4bc1-a18d-f867c1d1dc8f"}
{"id": "mm-18ee2abe", "content": "When consolidating duplicate skill documentation in gobby, merge valuable content from source skills into the target skill file, then remove the now-redundant source skill directories entirely.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "refactoring", "documentation", "skills"], "created_at": "2026-01-30T05:22:14.084757+00:00", "updated_at": "2026-01-30T05:22:14.084757+00:00", "source": "session", "source_id": "e7d731e3-3254-4be0-bb35-6a270f20a3d6"}
{"id": "mm-54e64a74", "content": "Gobby uses git for version control with conventional commit messages. Recent work involved fixing context accumulation, database lifecycle, and force parameter issues (commit b85e38c2 on dev branch).", "type": "context", "importance": 0.75, "tags": ["version-control", "bug-fixes", "architecture"], "created_at": "2026-01-30T05:05:50.554218+00:00", "updated_at": "2026-01-30T05:05:50.554218+00:00", "source": "session", "source_id": "1ae1a61a-5d0a-469c-90f4-9c58b0c3da5b"}
{"id": "mm-13af2da3", "content": "The gobby codebase uses a workflows module with state_actions.py and actions.py, structured around ActionContext dataclasses for passing context through the workflow system.", "type": "fact", "importance": 0.75, "tags": ["architecture", "workflows", "file-structure"], "created_at": "2026-01-30T01:27:17.886030+00:00", "updated_at": "2026-01-30T01:27:17.886030+00:00", "source": "session", "source_id": "daf9fa89-b207-4674-acb3-f6c28bebb609"}
{"id": "mm-8af19eba", "content": "The project uses declarative plan files stored at ~/.claude/plans/ (e.g., declarative-snuggling-bunny.md) to document architectural decisions and exploration results.", "type": "fact", "importance": 0.75, "tags": ["gobby", "file-structure", "documentation", "plans"], "created_at": "2026-01-30T00:26:30.403584+00:00", "updated_at": "2026-01-30T00:26:30.403584+00:00", "source": "session", "source_id": "ecc2810e-4888-4aa1-8467-3c4253472fd6"}
{"id": "mm-8eb64b6f", "content": "Josh uses grep-based code search (Grep tool) to systematically find where functions are called across the codebase before making refactoring decisions. This helps identify dead code and understand usage patterns.", "type": "preference", "importance": 0.75, "tags": ["workflow", "refactoring", "code-search", "methodology"], "created_at": "2026-01-29T23:49:24.405036+00:00", "updated_at": "2026-01-29T23:49:24.405036+00:00", "source": "session", "source_id": "bac9e680-2612-49f0-809c-a1d79f478dfe"}
{"id": "mm-8d580e9c", "content": "Gobby uses git commits with issue references in the format '[#ISSUE_NUMBER] Description' (e.g., '[#6544] Fix template, error handling, and documentation issues') for tracking changes to specific issues.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "git", "commit-messages", "issue-tracking"], "created_at": "2026-01-29T23:48:17.895503+00:00", "updated_at": "2026-01-29T23:48:17.895503+00:00", "source": "session", "source_id": "1f32ae8a-b1d2-4374-8808-87a566215851"}
{"id": "mm-960389f7", "content": "Task #6455 involved adding database fallback to kill_agent for session lookup. The implementation passed all 649 tests and required a git commit before MCP operations could proceed.", "type": "context", "importance": 0.75, "tags": ["gobby", "task-history", "kill_agent", "database"], "created_at": "2026-01-29T23:01:39.007893+00:00", "updated_at": "2026-01-29T23:01:39.007893+00:00", "source": "session", "source_id": "9841346c-e803-418c-8622-66237103439c"}
{"id": "mm-f41c3cd9", "content": "The user prefers committing and pushing all changes together, including files not directly worked on in the current session ('commit and push everything, including things you didn't work on').", "type": "preference", "importance": 0.75, "tags": ["git", "workflow", "user-preference"], "created_at": "2026-01-29T22:08:28.382175+00:00", "updated_at": "2026-01-29T22:08:28.382175+00:00", "source": "session", "source_id": "53dab286-6423-4ec7-bd65-743cab2aea63"}
{"id": "mm-b5ddb5e6", "content": "The gobby project uses a git workflow with a `dev` branch. When committing changes, use `git commit` followed by `git push --no-verify` to bypass pre-commit rule violations if needed.", "type": "pattern", "importance": 0.75, "tags": ["git", "workflow", "dev-branch"], "created_at": "2026-01-29T22:08:28.379362+00:00", "updated_at": "2026-01-29T22:08:28.379362+00:00", "source": "session", "source_id": "53dab286-6423-4ec7-bd65-743cab2aea63"}
{"id": "mm-a4ed65c9", "content": "When running long-running tests (like pytest), the user prefers to run them in a separate session while closing the current task. Don't block on test completion.", "type": "preference", "importance": 0.75, "tags": ["testing", "workflow", "pytest"], "created_at": "2026-01-29T21:48:42.278615+00:00", "updated_at": "2026-01-29T21:48:42.278615+00:00", "source": "session", "source_id": "94675099-1199-4ead-b6c2-f2796ad3e6db"}
{"id": "mm-82afacbb", "content": "Gobby tracks memories in .gobby/memories.jsonl and has plugins in .gobby/plugins/ (including code_guardian.py and example.py). These are auto-committed when modified during sessions.", "type": "fact", "importance": 0.75, "tags": ["gobby", "file-structure", "memories", "plugins"], "created_at": "2026-01-29T21:48:42.278184+00:00", "updated_at": "2026-01-29T21:48:42.278184+00:00", "source": "session", "source_id": "94675099-1199-4ead-b6c2-f2796ad3e6db"}
{"id": "mm-007c4717", "content": "When the daemon goes down or requests fail, the approach is to retry the operations. The system supports batch creation of multiple tasks and subsequent retrieval of the full task tree for verification.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "error-handling", "resilience", "task-management"], "created_at": "2026-01-29T21:48:18.426212+00:00", "updated_at": "2026-01-29T21:48:18.426212+00:00", "source": "session", "source_id": "f5d36288-0711-4210-84bb-8ba85bf97a99"}
{"id": "mm-c0bdfbdb", "content": "The project contains core modules in `src/gobby/sessions/` (e.g., analyzer.py). Changes typically involve multi-file updates to address code quality issues, followed by git commits before task closure.", "type": "fact", "importance": 0.75, "tags": ["gobby", "project-structure", "file-organization"], "created_at": "2026-01-29T21:43:53.451590+00:00", "updated_at": "2026-01-29T21:43:53.451590+00:00", "source": "session", "source_id": "8a5835e4-3a01-49c6-993d-6f3148bc344e"}
{"id": "mm-b520c9f1", "content": "The gobby codebase uses grep-based exploration to understand file locations and relationships across modules. Key modules to explore include src/gobby/hooks/webhooks.py, src/gobby/sync/tasks.py, and database manager components when investigating issues.", "type": "pattern", "importance": 0.75, "tags": ["exploration", "codebase-navigation", "gobby"], "created_at": "2026-01-29T21:38:03.448192+00:00", "updated_at": "2026-01-29T21:38:03.448192+00:00", "source": "session", "source_id": "d9a04861-719c-46f4-8332-ebdeff098544"}
{"id": "mm-e9e28679", "content": "The gobby project uses a task management system with reference IDs (e.g., #6390, #6392). Tasks can be updated via tool calls that return success confirmations with response times typically under 3ms.", "type": "fact", "importance": 0.75, "tags": ["gobby", "task-management", "workflow"], "created_at": "2026-01-29T21:12:32.229647+00:00", "updated_at": "2026-01-29T21:12:32.229647+00:00", "source": "session", "source_id": "5bcabb70-a370-40dd-ac6b-d2238ae7dbd0"}
{"id": "mm-bc48cdea", "content": "The typical workflow for fixing issues in gobby involves staging specific modified files (not all changes), committing with a ticket reference (e.g., '[#6466] Fix description'), and then closing editor sessions.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "git-workflow", "code-quality"], "created_at": "2026-01-29T21:12:17.761618+00:00", "updated_at": "2026-01-29T21:12:17.761618+00:00", "source": "session", "source_id": "53c7627e-979c-42d7-b261-4201e251e3b8"}
{"id": "mm-54be5bb3", "content": "The gobby project uses a task tracking system (e.g., #6466, #6465) where completed fixes are referenced in commit messages and tasks can be closed via API calls to mark work as done.", "type": "pattern", "importance": 0.75, "tags": ["workflow", "git", "task-management", "commits"], "created_at": "2026-01-29T21:11:41.513240+00:00", "updated_at": "2026-01-29T21:11:41.513240+00:00", "source": "session", "source_id": "fd94c8c2-f988-4c64-8c1b-0958eff0cc06"}
{"id": "mm-6cd8ffc1", "content": "Gobby uses a custom task notification system that provides output files and status updates. Task completion messages are delivered via user content with task-id and output-file references for tracking background operations.", "type": "fact", "importance": 0.75, "tags": ["gobby", "task-system", "background-processes"], "created_at": "2026-01-29T21:08:09.782266+00:00", "updated_at": "2026-01-29T21:08:09.782266+00:00", "source": "session", "source_id": "6ea5dbf3-d8eb-4764-840d-f8554f7828d0"}
{"id": "mm-8cfe307c", "content": "The gobby project has a hook system with pre-tool-use hooks located at .claude/hooks/hook_dispatcher.py that can validate or process tool executions before they run.", "type": "fact", "importance": 0.75, "tags": ["gobby", "hooks", "tool-execution"], "created_at": "2026-01-29T21:05:29.383280+00:00", "updated_at": "2026-01-29T21:05:29.383280+00:00", "source": "session", "source_id": "a8ab47ba-ac70-44b1-b967-796dab065853"}
{"id": "mm-2cdc1c66", "content": "Project structure includes .gobby/plugins/ directory with plugin files (code_guardian.py, example_notify.py) and src/gobby/mcp_proxy/tools/ directory with tool implementations like agent_messaging.py, plus tests/ directory for test files.", "type": "fact", "importance": 0.75, "tags": ["project-structure", "file-locations"], "created_at": "2026-01-29T18:16:01.893356+00:00", "updated_at": "2026-01-29T18:16:01.893356+00:00", "source": "session", "source_id": "387d5f35-49ae-4889-add0-af4588688301"}
{"id": "mm-d4229644", "content": "When encountering pre-existing lint errors in files not modified during the session, restore those files to their original state using git checkout rather than attempting to fix them as part of the current work.", "type": "pattern", "importance": 0.75, "tags": ["linting", "git", "error-handling"], "created_at": "2026-01-29T17:47:26.281109+00:00", "updated_at": "2026-01-29T17:47:26.281109+00:00", "source": "session", "source_id": "dd1173c2-2911-4b39-8fbf-897dde2bb120"}
{"id": "mm-a0ea607f", "content": "The user prefers to interrupt and reject tool uses that attempt to execute broader changes without explicit approval. This suggests a preference for step-by-step confirmation on significant operations rather than bulk automation.", "type": "preference", "importance": 0.75, "tags": ["workflow", "user-control", "approval-process"], "created_at": "2026-01-29T17:41:53.874861+00:00", "updated_at": "2026-01-29T17:41:53.874861+00:00", "source": "session", "source_id": "a506fc5b-8ab1-46b2-a51d-70c731443a33"}
{"id": "mm-83e6c8f9", "content": "The gobby project includes Gemini agent integration with database fallback functionality (commit #6451), and uses configuration with worker_model settings (e.g., 'gemini-2.5-pro').", "type": "context", "importance": 0.75, "tags": ["gemini-integration", "database-fallback", "agent-config"], "created_at": "2026-01-29T16:05:30.061670+00:00", "updated_at": "2026-01-29T16:05:30.061670+00:00", "source": "session", "source_id": "01a787ef-a623-4b57-bb31-521ac5e91cf1"}
{"id": "mm-509de9a6", "content": "Gobby uses a hook dispatcher system at .claude/hooks/hook_dispatcher.py for managing pre-tool-use hooks, which validates changes before execution.", "type": "fact", "importance": 0.75, "tags": ["gobby", "hooks", "infrastructure"], "created_at": "2026-01-29T03:43:34.246973+00:00", "updated_at": "2026-01-29T03:43:34.246973+00:00", "source": "session", "source_id": "2152dcd4-bd79-4808-99e7-62131488068f"}
{"id": "mm-8d90fef2", "content": "The project uses structured logging in hook_dispatcher.py for debugging hook data issues. Python syntax is validated with 'python -m py_compile' before commits.", "type": "pattern", "importance": 0.75, "tags": ["logging", "validation", "hook-dispatcher"], "created_at": "2026-01-29T03:40:03.791260+00:00", "updated_at": "2026-01-29T03:40:03.791260+00:00", "source": "session", "source_id": "ba79f495-984c-4cc8-92be-6c352b431d15"}
{"id": "mm-aadb3d4f", "content": "Task closing in gobby requires using the correct MCP parameter name (not 'task_id' but the proper parameter the system expects). Failed attempts return 'Unknown parameter' errors that require retry with corrected parameters.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "task-management", "mcp-tools", "error-handling"], "created_at": "2026-01-29T03:36:29.985092+00:00", "updated_at": "2026-01-29T03:36:29.985092+00:00", "source": "session", "source_id": "a566e9e4-4295-4a5f-9b1e-088963ec77a5"}
{"id": "mm-3d63a401", "content": "The project follows a workflow where changes are committed with issue references in the commit message format (e.g., `[#6429]`), and the dev branch is used for feature work before pushing to origin.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "git-workflow", "conventions"], "created_at": "2026-01-29T03:07:05.065578+00:00", "updated_at": "2026-01-29T03:07:05.065578+00:00", "source": "session", "source_id": "c67d2615-fca5-4fc6-8075-6a1f2e5741d3"}
{"id": "mm-e3330697", "content": "Gobby uses `uv run` to execute Python scripts, including the hook dispatcher. This is the primary way to run Python tooling in the project.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "tooling", "python", "uv"], "created_at": "2026-01-29T03:07:05.065104+00:00", "updated_at": "2026-01-29T03:07:05.065104+00:00", "source": "session", "source_id": "c67d2615-fca5-4fc6-8075-6a1f2e5741d3"}
{"id": "mm-17034a4a", "content": "The project uses nosec comments for subprocess security annotations (B404, B603, B607) and has state tracking for plugin statistics (_files_checked, _files_blocked, _last_check_results). Workflow actions and conditions use async/await patterns.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "code-style", "security", "async"], "created_at": "2026-01-29T02:47:50.780558+00:00", "updated_at": "2026-01-29T02:47:50.780558+00:00", "source": "session", "source_id": "0955b7ef-8dd8-487b-bf7d-27a707d8789d"}
{"id": "mm-18481c7c", "content": "The feat/web-ui branch is the active development branch. Commits are made with structured messages following pattern '[#ISSUE_NUMBER] Description' (e.g., '[#6413] Normalize hook data at adapter layer').", "type": "pattern", "importance": 0.75, "tags": ["gobby", "git", "branching", "commit-convention"], "created_at": "2026-01-28T21:50:49.839830+00:00", "updated_at": "2026-01-28T21:50:49.839830+00:00", "source": "session", "source_id": "7c5f795a-a3bd-4f90-b241-b10bfd91dc09"}
{"id": "mm-12bd0c76", "content": "Task closure in gobby uses the mcp__gobby__call_tool with a 'close' parameter (not 'close_task'). Successful task closure returns a 200ms response time and empty result object.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "mcp", "task-management", "api"], "created_at": "2026-01-28T21:50:49.839469+00:00", "updated_at": "2026-01-28T21:50:49.839469+00:00", "source": "session", "source_id": "7c5f795a-a3bd-4f90-b241-b10bfd91dc09"}
{"id": "mm-837e0ae2", "content": "Gobby uses sequential task numbering (seq_num field) for issue tracking; recent tasks were #6413 for hook data normalization", "type": "fact", "importance": 0.75, "tags": ["task-management", "numbering-scheme"], "created_at": "2026-01-28T21:43:03.018079+00:00", "updated_at": "2026-01-28T21:43:03.018079+00:00", "source": "session", "source_id": "6a941dc7-b179-4476-80fc-dec12f7c827d"}
{"id": "mm-2e8d0b10", "content": "Workflow activation on a session is persistent and requires explicit deactivation/ending via hook_dispatcher.py before the session can cleanly stop - accidental workflow activation can block session exit.", "type": "pattern", "importance": 0.75, "tags": ["workflow-lifecycle", "session-management", "debugging"], "created_at": "2026-01-28T20:38:12.091482+00:00", "updated_at": "2026-01-28T20:38:12.091482+00:00", "source": "session", "source_id": "8cc46e99-2e03-41f8-ba7e-7ad372450e56"}
{"id": "mm-f3c42990", "content": "When debugging gobby agent spawns, check: (1) session transcripts via gobby-sessions tools—empty transcript means agent never ran, (2) agent run records via agent runs queries, (3) gobby.log for 'Invalid JSON at line 0' warnings in transcript parsing. Silent failures can occur where spawn claims success but no Ghostty launches and no agent registers.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "debugging", "troubleshooting", "spawn_agent", "validation"], "created_at": "2026-01-28T20:27:23.836631+00:00", "updated_at": "2026-01-28T20:27:23.836631+00:00", "source": "session", "source_id": "d347d68e-869d-4a6e-a8d5-8fe855bba25e"}
{"id": "mm-d2ecc207", "content": "The gobby project has an API versioning migration initiative that was planned (tasks #6147-#6160), which included updating routes, MCP server mount paths (/api/v1.0/mcp), client base URLs, health check endpoints, and test URL patterns across multiple test modules (servers, e2e, hooks, cli, utils, mcp_proxy).", "type": "context", "importance": 0.75, "tags": ["gobby", "api-versioning", "project-history"], "created_at": "2026-01-28T19:25:02.266149+00:00", "updated_at": "2026-01-28T19:25:02.266149+00:00", "source": "session", "source_id": "d44d7b84-230b-4630-a249-272cac25abf6"}
{"id": "mm-e59455d0", "content": "When deleting a parent task with cascade=True enabled, all subtasks are automatically deleted. This is useful for efficiently removing related task hierarchies without individual deletion calls.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "task-management", "workflow"], "created_at": "2026-01-28T19:25:02.265643+00:00", "updated_at": "2026-01-28T19:25:02.265643+00:00", "source": "session", "source_id": "d44d7b84-230b-4630-a249-272cac25abf6"}
{"id": "mm-c9e99c87", "content": "When git push operations to remote tags hang or timeout during release workflows, prefer using the GitHub API via `gh` CLI (e.g., `gh release create`) as an alternative to direct git operations.", "type": "preference", "importance": 0.75, "tags": ["github", "release-workflow", "troubleshooting", "ci-cd"], "created_at": "2026-01-28T19:23:48.218959+00:00", "updated_at": "2026-01-28T19:23:48.218959+00:00", "source": "session", "source_id": "2b71e1b6-adc6-42af-b8dc-30a1399ed05b"}
{"id": "mm-5ffcf640", "content": "Files to monitor for type issues in gobby: `tools/summarizer.py`, `mcp_proxy/importer.py`, `memory/manager.py`, and `mcp_proxy/tools/memory.py`. These files had recent mypy fixes related to Path type conversions and async/await handling.", "type": "fact", "importance": 0.75, "tags": ["file-locations", "type-checking"], "created_at": "2026-01-28T16:55:23.784631+00:00", "updated_at": "2026-01-28T16:55:23.784631+00:00", "source": "session", "source_id": "54206ab9-e65a-47db-859f-05033c66bcb8"}
{"id": "mm-d18a6e4a", "content": "The MCP routes endpoint uses fail-closed security behavior: it returns HTTP 400 for project resolution errors and task enforcement handlers block invalid condition syntax rather than passing through.", "type": "context", "importance": 0.75, "tags": ["security", "mcp", "error-handling", "enforcement"], "created_at": "2026-01-28T16:47:06.179723+00:00", "updated_at": "2026-01-28T16:47:06.179723+00:00", "source": "session", "source_id": "3b010b4a-a71b-40be-871a-624cec1dc2a8"}
{"id": "mm-6ca1c828", "content": "Documentation in gobby is organized in 'docs/plans/' with subdirectories like 'completed/' and 'deferred/' to track architectural decisions and design specifications (e.g., strangler_analysis.md, api-versioning.md).", "type": "fact", "importance": 0.75, "tags": ["file_organization", "documentation"], "created_at": "2026-01-28T16:21:32.100687+00:00", "updated_at": "2026-01-28T16:21:32.100687+00:00", "source": "session", "source_id": "83a8829f-f924-45b8-b8ec-303487f25cdf"}
{"id": "mm-859f2006", "content": "Gobby test files use @pytest.mark.unit decorator for unit tests. When adding or modifying tests, ensure proper pytest markers are applied.", "type": "pattern", "importance": 0.75, "tags": ["testing", "pytest", "conventions"], "created_at": "2026-01-28T16:07:23.828344+00:00", "updated_at": "2026-01-28T16:07:23.828344+00:00", "source": "session", "source_id": "273fe57b-f22d-4e85-a858-884a1f726954"}
{"id": "mm-fa2355e3", "content": "Enforcement action handlers in gobby follow a wrapper pattern with handle_* functions in enforcement/handlers.py that correspond to enforcement logic in specialized modules (blocking, commit_policy, task_policy).", "type": "pattern", "importance": 0.75, "tags": ["handlers", "naming-convention", "enforcement"], "created_at": "2026-01-28T03:41:15.173282+00:00", "updated_at": "2026-01-28T03:41:15.173282+00:00", "source": "session", "source_id": "a4edf892-add1-4cad-95e0-aea0bb4459cb"}
{"id": "mm-fcc3f9c9", "content": "Machine ID generation in adapter.py should use fallback strategy: hostname → MAC address → persisted file, ensuring stable IDs across restarts without external dependencies.", "type": "pattern", "importance": 0.75, "tags": ["adapter", "machine-id", "stability", "fallback"], "created_at": "2026-01-28T03:36:47.023800+00:00", "updated_at": "2026-01-28T03:36:47.023800+00:00", "source": "session", "source_id": "3d3b236e-30cc-48ae-a65e-e81c904bb1ff"}
{"id": "mm-8bc876c5", "content": "Gobby extends utility modules like git_utils.py with new functions (e.g., get_dirty_files) rather than creating new modules, following DRY principles for related functionality.", "type": "pattern", "importance": 0.75, "tags": ["code-organization", "utilities", "convention"], "created_at": "2026-01-28T01:59:09.439075+00:00", "updated_at": "2026-01-28T01:59:09.439075+00:00", "source": "session", "source_id": "d6068bb9-78b2-4941-9de3-e4e4fe940a4f"}
{"id": "mm-e8574a35", "content": "The resolve_session_reference function signature was updated to include a project_id parameter. Mock assertions in tests that call this function should use ANY for flexible matching of this parameter rather than hardcoding expected values.", "type": "fact", "importance": 0.75, "tags": ["mcp-tools", "session-messages", "api-changes"], "created_at": "2026-01-28T01:56:06.710074+00:00", "updated_at": "2026-01-28T01:56:06.710074+00:00", "source": "session", "source_id": "5ddc8b77-f2ef-4af8-af41-e78cec23ce77"}
{"id": "mm-47b7afba", "content": "The project has pytest tests in test_codex.py, test_mcp_tools_session_messages.py, and test_mcp_routes.py. When updating internal implementation details (like changing _seen_threads from set to OrderedDict, or adding parameters to functions), related test assertions need updating accordingly.", "type": "pattern", "importance": 0.75, "tags": ["testing", "pytest", "mcp-tools"], "created_at": "2026-01-28T01:56:06.709662+00:00", "updated_at": "2026-01-28T01:56:06.709662+00:00", "source": "session", "source_id": "5ddc8b77-f2ef-4af8-af41-e78cec23ce77"}
{"id": "mm-2ef0671b", "content": "HTTP endpoint validation errors in mcp_routes return 400 status codes with error details in a 'detail' key, not 200 with error objects. Update test expectations accordingly.", "type": "pattern", "importance": 0.75, "tags": ["testing", "routes", "error-handling"], "created_at": "2026-01-28T01:55:53.741783+00:00", "updated_at": "2026-01-28T01:55:53.741783+00:00", "source": "session", "source_id": "5ddc8b77-f2ef-4af8-af41-e78cec23ce77"}
{"id": "mm-b3715f90", "content": "Code quality fixes in gobby often involve: fixing AttributeError when context.state is None in workflows, handling missing configuration parameters before early returns, and ensuring proper exception handling in async contexts.", "type": "pattern", "importance": 0.75, "tags": ["code-quality", "defensive-programming", "workflows", "error-handling"], "created_at": "2026-01-27T23:18:37.182889+00:00", "updated_at": "2026-01-27T23:18:37.182889+00:00", "source": "session", "source_id": "73e859dc-af97-4d70-8c2f-008413ea3728"}
{"id": "mm-a29c587f", "content": "HTTP error handling in MCP endpoints should raise HTTPException(500) for server errors rather than returning success=False in the response body. This maintains consistency with HTTP conventions.", "type": "pattern", "importance": 0.75, "tags": ["http", "error-handling", "mcp", "endpoints"], "created_at": "2026-01-27T23:18:37.182077+00:00", "updated_at": "2026-01-27T23:18:37.182077+00:00", "source": "session", "source_id": "73e859dc-af97-4d70-8c2f-008413ea3728"}
{"id": "mm-2bc3258b", "content": "Gobby has critical null check requirements in src/gobby/workflows/task_enforcement_actions.py handlers (`handle_require_active_task`, `handle_require_task_complete`) where `context.session_manager` must be validated before use to prevent runtime errors.", "type": "fact", "importance": 0.75, "tags": ["gobby", "workflows", "task-enforcement", "null-safety"], "created_at": "2026-01-27T22:58:27.316895+00:00", "updated_at": "2026-01-27T22:58:27.316895+00:00", "source": "session", "source_id": "4e1df24d-0242-427d-a7cf-36d77a4de313"}
{"id": "mm-6f1f6283", "content": "The project has backward compatibility requirements across config and spawn modules. Test failures often relate to missing columns in mock database schemas or stale references to renamed skills/sessions.", "type": "context", "importance": 0.75, "tags": ["backward_compatibility", "test_fixes", "refactoring"], "created_at": "2026-01-27T18:42:45.067608+00:00", "updated_at": "2026-01-27T18:42:45.067608+00:00", "source": "session", "source_id": "c1fb78bc-e645-4b4f-aec6-b2a0a7ac17d4"}
{"id": "mm-2033f688", "content": "The gobby codebase includes null-check defensive programming patterns: check for `context.template_engine` before calling `.render()` and `context.session_manager` before calling `.get()` to avoid AttributeErrors.", "type": "pattern", "importance": 0.75, "tags": ["code-quality", "defensive-programming", "context"], "created_at": "2026-01-27T18:16:19.487618+00:00", "updated_at": "2026-01-27T18:16:19.487618+00:00", "source": "session", "source_id": "7ce4587b-4bf1-4f73-baa6-5ac59f572839"}
{"id": "mm-ac5c7199", "content": "When committing changes to gobby, staging only specific files for a particular task/issue is necessary because the working directory often contains unrelated changes (e.g., .gobby/memories.jsonl, tasks.jsonl) that shouldn't be included in feature commits.", "type": "pattern", "importance": 0.75, "tags": ["git-workflow", "commits"], "created_at": "2026-01-27T18:16:19.487312+00:00", "updated_at": "2026-01-27T18:16:19.487312+00:00", "source": "session", "source_id": "7ce4587b-4bf1-4f73-baa6-5ac59f572839"}
{"id": "mm-abca8f3e", "content": "The MCP gobby tool requires a session_id parameter when calling tools in plan mode (obtained from system reminders). Missing this parameter causes 'Invalid arguments' errors.", "type": "fact", "importance": 0.75, "tags": ["gobby", "mcp-tool", "error-handling", "session-management"], "created_at": "2026-01-27T17:51:13.862518+00:00", "updated_at": "2026-01-27T17:51:13.862518+00:00", "source": "session", "source_id": "3d10abf2-873d-46ec-b659-981102d8aad6"}
{"id": "mm-2931d3d4", "content": "When calling gobby's task listing API, use project_id parameter rather than parent_id for filtering tasks. The API returns task refs, titles, and status which can be cross-referenced for dependency tracking.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "api", "task-management", "parameters"], "created_at": "2026-01-27T17:49:03.715225+00:00", "updated_at": "2026-01-27T17:49:03.715225+00:00", "source": "session", "source_id": "448cabcd-183a-473e-a6ae-a6050b5c6d96"}
{"id": "mm-5307b95b", "content": "When pushing commits to the gobby repo, use 'git push --no-verify' to skip slow pre-push hooks if verification is not needed. This bypasses rule violations and speeds up development cycles.", "type": "preference", "importance": 0.75, "tags": ["git", "workflow", "optimization"], "created_at": "2026-01-27T01:29:58.430431+00:00", "updated_at": "2026-01-27T01:29:58.430431+00:00", "source": "session", "source_id": "2bc8895b-b292-4b81-acfc-180c276ca5cd"}
{"id": "mm-b4c282bf", "content": "The spawn_executor.py and spawn_agent.py files require strict type validation for session_manager, mode, project_id, and project_path parameters. These need proper type casts to satisfy mypy checks.", "type": "pattern", "importance": 0.75, "tags": ["typing", "spawn", "mypy", "validation"], "created_at": "2026-01-27T01:29:58.430015+00:00", "updated_at": "2026-01-27T01:29:58.430015+00:00", "source": "session", "source_id": "2bc8895b-b292-4b81-acfc-180c276ca5cd"}
{"id": "mm-54afc1e7", "content": "When creating expansion specs in Gobby, structure tasks with clear dependencies and identify which tasks can run in parallel (e.g., config changes independent of code changes). Use subtask creation with the mcp__gobby__call_tool and execute_task_expansion command pattern.", "type": "pattern", "importance": 0.75, "tags": ["workflow", "task-management", "expansion-spec"], "created_at": "2026-01-27T01:28:48.066412+00:00", "updated_at": "2026-01-27T01:28:48.066412+00:00", "source": "session", "source_id": "e0e85afe-8841-425f-ba0d-018b5301fb73"}
{"id": "mm-4fb541ee", "content": "Task descriptions in gobby should include TDD steps (test-driven development workflow) for code tasks. Documentation tasks focus on updating schemas and instructions. Test tasks target specific test files like test_cli_utils.py and test_sessions.py.", "type": "pattern", "importance": 0.75, "tags": ["task-descriptions", "tdd", "code-organization"], "created_at": "2026-01-27T00:15:05.234311+00:00", "updated_at": "2026-01-27T00:15:05.234311+00:00", "source": "session", "source_id": "8a8d7adb-fc94-45da-9f98-77fae95a85d6"}
{"id": "mm-2e3459be", "content": "Task closing in gobby requires a linked commit before the task can be marked complete. Use `git commit` with appropriate message, then close the task via the tool. Commit messages follow pattern `[#TASKID] Description`.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "workflow", "git-integration", "task-closure"], "created_at": "2026-01-26T22:18:20.052250+00:00", "updated_at": "2026-01-26T22:18:20.052250+00:00", "source": "session", "source_id": "1b365507-fea8-4662-a6c5-62caef8f48ea"}
{"id": "mm-c5a9c160", "content": "For the gobby project, maintain cross-references between related planning documents (e.g., strangler-fig-decomposition.md → migration-flattening.md) rather than duplicating content across multiple plan files. This reduces maintenance burden when plans evolve.", "type": "pattern", "importance": 0.75, "tags": ["documentation-practice", "DRY-principle", "planning"], "created_at": "2026-01-26T22:07:51.371049+00:00", "updated_at": "2026-01-26T22:07:51.371049+00:00", "source": "session", "source_id": "49db39b5-e610-475a-9a48-a200411dd23e"}
{"id": "mm-4fd8446c", "content": "The project uses a plan-driven development approach where phase-appropriate exploration of codebase is completed before writing implementation plans. Plans are stored in `~/.claude/plans/` directory.", "type": "pattern", "importance": 0.75, "tags": ["workflow", "planning", "project-structure"], "created_at": "2026-01-26T17:17:40.836678+00:00", "updated_at": "2026-01-26T17:17:40.836678+00:00", "source": "session", "source_id": "68fb48cd-e380-4b4d-81c9-932b386a549e"}
{"id": "mm-c618168b", "content": "When committing to dev branch, use git push --no-verify to skip pre-push hooks that run tests, which can be time-consuming. The CI/CD system allows rule violations to be bypassed for the dev branch.", "type": "preference", "importance": 0.75, "tags": ["workflow", "git", "ci-cd"], "created_at": "2026-01-26T16:15:48.274715+00:00", "updated_at": "2026-01-26T16:15:48.274715+00:00", "source": "session", "source_id": "5f62f7a8-1c13-4a38-a8ed-56585340164c"}
{"id": "mm-99444598", "content": "The README.md includes a changelog reference section after the Roadmap section. When creating release notes, remember to update both CHANGELOG.md and README.md to maintain documentation consistency.", "type": "pattern", "importance": 0.75, "tags": ["documentation", "release-process", "readme-structure"], "created_at": "2026-01-26T16:04:13.387649+00:00", "updated_at": "2026-01-26T16:04:13.387649+00:00", "source": "session", "source_id": "04acd96a-8556-48e8-8162-f0808275d40c"}
{"id": "mm-46ae9b78", "content": "Gobby project tracks connected MCP servers and tool caching stats. Status output shows 'Servers: X connected / Y total' and 'Tools cached: Z', suggesting active server registry and tool introspection mechanisms.", "type": "context", "importance": 0.75, "tags": ["mcp-integration", "monitoring", "architecture"], "created_at": "2026-01-26T15:30:12.066332+00:00", "updated_at": "2026-01-26T15:30:12.066332+00:00", "source": "session", "source_id": "5ba0e7a1-f81a-495c-839e-d2710f7f3c64"}
{"id": "mm-3b5c948c", "content": "The plan uses subtask dependency indices for organizing a 27-task expansion spec across multiple phases (router commands, parser/storage updates, skill renames, category tagging, cleanup). Indices must be carefully maintained when adding/removing tasks to keep downstream depends_on references accurate.", "type": "pattern", "importance": 0.75, "tags": ["planning", "task-management", "dependencies"], "created_at": "2026-01-26T15:19:56.017034+00:00", "updated_at": "2026-01-26T15:19:56.017034+00:00", "source": "session", "source_id": "1f0eb083-9ebd-4c61-8ea3-0e9fd78037e2"}
{"id": "mm-32e042e0", "content": "The gobby daemon manages skill lifecycle with LocalSkillManager and needs to stay synchronized with MCP server connections. After daemon restart, monitor that MCP server connections stabilize (expected: 12/12 connected).", "type": "context", "importance": 0.75, "tags": ["daemon", "mcp-servers", "deployment", "health-check"], "created_at": "2026-01-26T15:14:41.967272+00:00", "updated_at": "2026-01-26T15:14:41.967272+00:00", "source": "session", "source_id": "e3289ba4-649b-4c70-bae6-4d4d88f9bb91"}
{"id": "mm-eb01144c", "content": "When local changes would be overwritten during a git merge, stash them first before attempting the merge, then pop the stash afterward to preserve uncommitted work.", "type": "pattern", "importance": 0.75, "tags": ["git-workflow", "merge-strategy", "stash-management"], "created_at": "2026-01-26T14:38:25.220394+00:00", "updated_at": "2026-01-26T14:38:25.220394+00:00", "source": "session", "source_id": "a1ac3b12-02bf-4d07-94ec-c64ada8e202e"}
{"id": "mm-8dd85449", "content": "Wait tools and orchestrator registration (gobby-agents and gobby-orchestrator) are prerequisite tasks that must be completed before implementing the meeseeks workflow system.", "type": "context", "importance": 0.75, "tags": ["dependencies", "prerequisites", "implementation-order"], "created_at": "2026-01-26T02:57:07.744995+00:00", "updated_at": "2026-01-26T02:57:07.744995+00:00", "source": "session", "source_id": "1d0c2cb9-eb49-4dc2-8480-b01ade18895e"}
{"id": "mm-316c434f", "content": "The recommend_tools feature has two modes: LLM-only (works without project) and hybrid/semantic (requires project context). It gracefully degrades to LLM-only mode when project context is unavailable.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "graceful-degradation", "tool-recommendation"], "created_at": "2026-01-26T02:40:00.901119+00:00", "updated_at": "2026-01-26T02:40:00.901119+00:00", "source": "session", "source_id": "98f5698d-646d-409d-8d8f-c997ab736d98"}
{"id": "mm-fd8ecb87", "content": "GitHub API workflow for releases: Create PR via API, merge it, then create release/tag via API using `gh` CLI. This avoids local git hook issues and can be done entirely through GitHub without local git operations.", "type": "pattern", "importance": 0.75, "tags": ["github", "releases", "workflow", "git"], "created_at": "2026-01-25T23:37:41.142029+00:00", "updated_at": "2026-01-25T23:37:41.142029+00:00", "source": "session", "source_id": "2ceaa340-cf01-4208-80b8-dcc482c3992c"}
{"id": "mm-d83d05f9", "content": "The gobby project has branch protection rules on the dev branch that require status checks. These can be bypassed with `--no-verify` flag, and the remote will report bypassed rule violations in the push response.", "type": "context", "importance": 0.75, "tags": ["git", "branch-protection", "dev-branch", "remote-rules"], "created_at": "2026-01-25T23:34:08.744277+00:00", "updated_at": "2026-01-25T23:34:08.744277+00:00", "source": "session", "source_id": "2dc67dac-f11a-4808-a217-f1be3471a6be"}
{"id": "mm-68483c19", "content": "The gobby project uses pre-push hooks for testing. When tests are slow or blocking, the user prefers to run them outside the session and push with `git push --no-verify` to bypass the hook rather than waiting.", "type": "preference", "importance": 0.75, "tags": ["git", "workflow", "testing", "pre-push-hooks"], "created_at": "2026-01-25T23:34:08.742319+00:00", "updated_at": "2026-01-25T23:34:08.742319+00:00", "source": "session", "source_id": "2dc67dac-f11a-4808-a217-f1be3471a6be"}
{"id": "mm-4db31b04", "content": "The gobby daemon uses MCP (Model Context Protocol) hooks and lifespan management. Shutdown events appear as 'MCP server lifespan shutdown complete' in logs, which can be external signals (gobby restart) or crashes - check surrounding log entries for context.", "type": "fact", "importance": 0.75, "tags": ["daemon", "MCP", "architecture"], "created_at": "2026-01-25T20:24:39.567756+00:00", "updated_at": "2026-01-25T20:24:39.567756+00:00", "source": "session", "source_id": "c2aaa2aa-e2e4-43d7-b976-8c11ab85e050"}
{"id": "mm-530f55e0", "content": "gobby daemon logs are rotated (e.g., gobby.log.1 for previous logs) and contain timestamps. When investigating daemon issues, check both current and rotated logs with grep for shutdown/signal events to correlate with test execution times.", "type": "pattern", "importance": 0.75, "tags": ["debugging", "logging", "daemon-lifecycle"], "created_at": "2026-01-25T20:24:39.567304+00:00", "updated_at": "2026-01-25T20:24:39.567304+00:00", "source": "session", "source_id": "c2aaa2aa-e2e4-43d7-b976-8c11ab85e050"}
{"id": "mm-a0c04839", "content": "The gobby project has a logging utilities module at src/gobby/utils/logging.py that handles both file logging setup and MCP logging setup. Both disable propagation on their respective loggers to prevent duplicate output to stdout/files.", "type": "fact", "importance": 0.75, "tags": ["logging", "architecture", "file-locations"], "created_at": "2026-01-25T20:04:09.520158+00:00", "updated_at": "2026-01-25T20:04:09.520158+00:00", "source": "session", "source_id": "4042c9be-18da-4d31-9039-027a93af8c78"}
{"id": "mm-e67cfb73", "content": "The gobby project has automated linting/type-checking reports in ./reports/ directory with ruff, mypy, and bandit checks. Recent reports show the project maintains high code quality standards with all ruff and mypy checks passing.", "type": "fact", "importance": 0.75, "tags": ["gobby", "project-structure", "quality-assurance", "linting"], "created_at": "2026-01-25T20:01:19.941056+00:00", "updated_at": "2026-01-25T20:01:19.941056+00:00", "source": "session", "source_id": "d57d9ac5-abb3-41a5-8fc5-06d1a8aef82a"}
{"id": "mm-ebcabd6b", "content": "Error messages in gobby workflows should use a leading newline before headers (e.g., 'Task Required:') but no extra blank line between the header and bullet points for clean, readable formatting.", "type": "preference", "importance": 0.75, "tags": ["formatting", "error-messages", "yaml-workflows"], "created_at": "2026-01-25T19:15:01.967507+00:00", "updated_at": "2026-01-25T19:15:01.967507+00:00", "source": "session", "source_id": "148858d4-70aa-430c-90ab-861f2584dc3c"}
{"id": "mm-53c6d9be", "content": "Event handlers are defined in ~/Projects/gobby/src/gobby/hooks/event_handlers.py. Recent changes added priority display to active workflows.", "type": "fact", "importance": 0.75, "tags": ["gobby", "file-location", "event-handlers"], "created_at": "2026-01-25T18:57:20.541359+00:00", "updated_at": "2026-01-25T18:57:20.541359+00:00", "source": "session", "source_id": "b2f71f48-f38b-497f-be1f-51691cd40974"}
{"id": "mm-888b9e93", "content": "Gobby has guidance files for different agent types: AGENTS.md (for Codex/OpenAI agents), CLAUDE.md (for Claude development), instructions.py (MCP server instructions with XML structure), and SKILL.md files in task directories. These files should maintain consistent wording about tool usage and task rules.", "type": "fact", "importance": 0.75, "tags": ["gobby", "documentation", "file-organization", "agent-guidance"], "created_at": "2026-01-25T18:55:02.656917+00:00", "updated_at": "2026-01-25T18:55:02.656917+00:00", "source": "session", "source_id": "d123390e-389b-42d6-9e8e-8c3c222b20db"}
{"id": "mm-96287ee6", "content": "The project uses a Plan agent pattern for designing implementation strategies before execution. The planning process involves: clarifying user intent, using the Plan agent to design implementation, then writing the final plan to a dated plan file.", "type": "pattern", "importance": 0.75, "tags": ["workflow", "planning-process", "agent-usage"], "created_at": "2026-01-25T18:46:30.283683+00:00", "updated_at": "2026-01-25T18:46:30.283683+00:00", "source": "session", "source_id": "598eabaa-1caa-40d8-8166-309b8ff8ba9c"}
{"id": "mm-a0b01f4f", "content": "New bundled skills are located in src/gobby/install/shared/skills/ directory structure, with each skill having a SKILL.md file. When bundling skills, git recognizes file moves with 100% similarity, allowing clean commit history of skill consolidation.", "type": "pattern", "importance": 0.75, "tags": ["skill-creation", "file-organization", "git-workflow"], "created_at": "2026-01-25T18:18:01.198549+00:00", "updated_at": "2026-01-25T18:18:01.198549+00:00", "source": "session", "source_id": "8ba09a43-3c3f-442c-9cdf-555cb2f38851"}
{"id": "mm-93b7df84", "content": "There's a distinction between `.claude/skills/` (skills for Skill tool) and `.claude/commands/` (slash commands for Skill tool), but they work the same way—the difference is organizational. Both are loaded via the Skill tool.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "skills", "commands", "organization"], "created_at": "2026-01-25T17:40:17.817215+00:00", "updated_at": "2026-01-25T17:40:17.817215+00:00", "source": "session", "source_id": "a6b6cc75-b083-4183-827a-b05d51d5a1d3"}
{"id": "mm-f360a31d", "content": "The gobby project has 21 tests for detection_helpers functionality. All tests must pass before commits, and the codebase uses both type checking and linting as part of the validation process.", "type": "fact", "importance": 0.75, "tags": ["gobby", "testing", "quality-gates"], "created_at": "2026-01-25T17:17:47.892232+00:00", "updated_at": "2026-01-25T17:17:47.892232+00:00", "source": "session", "source_id": "10803605-e46c-4c09-8020-d6a4d5077a57"}
{"id": "mm-d12bba04", "content": "Documentation in AGENTS.md should clarify that auto-claim behavior (status: in_progress) only occurs when claim: true is explicitly provided in create_task or claim_task calls. Avoid misleading language like 'automatically sets' without this parameter.", "type": "preference", "importance": 0.75, "tags": ["documentation", "api-examples", "clarity"], "created_at": "2026-01-25T17:02:58.235869+00:00", "updated_at": "2026-01-25T17:02:58.235869+00:00", "source": "session", "source_id": "510d507d-f02a-47d5-8b8c-5c8fc2299ab3"}
{"id": "mm-3418b0f9", "content": "In event_handlers.py handle_session_start, when building system_message, guard session_id with truthiness checks. Only include 'Gobby Session ID:' line if session_id is truthy; otherwise fall back to external_id (e.g., 'Gobby Session ID: <external_id or session_id>'). Apply this pattern to all system_message construction blocks to prevent 'None' in terminal output.", "type": "pattern", "importance": 0.75, "tags": ["event-handlers", "null-safety", "ui-output", "messaging"], "created_at": "2026-01-25T04:38:01.653326+00:00", "updated_at": "2026-01-25T04:38:01.653326+00:00", "source": "session", "source_id": "389037ea-8953-4e4f-bcb4-29c5dc468357"}
{"id": "mm-f4d2816d", "content": "Memory exports in gobby should sanitize user home paths by replacing absolute paths with '~' using _sanitize_content() method (src/gobby/sync/memories.py) to avoid exposing user-specific paths.", "type": "pattern", "importance": 0.75, "tags": ["gobby", "memory-export", "path-sanitization", "privacy"], "created_at": "2026-01-25T04:17:24.127397+00:00", "updated_at": "2026-01-25T04:17:24.127397+00:00", "source": "session", "source_id": "c9787d92-bd8e-4fcc-a158-05af9147f470"}
{"id": "mm-6d28d35b", "content": "The gobby codebase uses RuntimeError rather than ValueError for runtime conditions (e.g., in src/gobby/search/embeddings.py:121), even when docstrings initially reference ValueError. Ensure error types match their docstring documentation.", "type": "pattern", "importance": 0.75, "tags": ["error-handling", "code-quality", "documentation"], "created_at": "2026-01-25T04:08:42.983483+00:00", "updated_at": "2026-01-25T04:08:42.983483+00:00", "source": "session", "source_id": "82c1590d-8051-4ccf-af2c-988867c7e884"}
{"id": "mm-e3b0c442", "content": "", "type": "fact", "importance": 0.75, "tags": ["embeddings", "error-handling", "API-design"], "created_at": "2026-01-25T04:04:50.344580+00:00", "updated_at": "2026-01-25T04:04:50.344580+00:00", "source": "session", "source_id": "90eefa0c-bedd-4489-bcd4-df7bf8a3cc6b"}
{"id": "mm-1800e573", "content": "In gobby.search.embeddings: generate_embeddings() returns empty list on empty input and raises RuntimeError on failure; generate_embedding() is a single-item wrapper that must raise RuntimeError (not ValueError) when result is empty to maintain exception type consistency for callers.", "type": "fact", "importance": 0.75, "tags": ["embeddings", "error-handling", "API-design"], "created_at": "2026-01-25T04:04:12.024974+00:00", "updated_at": "2026-01-25T04:04:12.024974+00:00", "source": "session", "source_id": "90eefa0c-bedd-4489-bcd4-df7bf8a3cc6b"}
{"id": "mm-11967e90", "content": "E2E tests in conftest.py should include early failure detection with a 0.5s delay and polling check. Timeout error messages should include exit codes for better debugging.", "type": "pattern", "importance": 0.75, "tags": ["e2e-testing", "error-handling", "debugging"], "created_at": "2026-01-25T04:00:54.889019+00:00", "updated_at": "2026-01-25T04:00:54.889019+00:00", "source": "session", "source_id": "edd104f2-b2d8-4d31-a4fa-5799376ae6ec"}
{"id": "mm-2d32dd1c", "content": "Test assertions for session messages must check for both 'Gobby Session ID:' and 'External ID:' strings in output. This applies to tests in test_event_handlers.py and test_hooks_manager.py.", "type": "pattern", "importance": 0.75, "tags": ["testing", "assertions", "session-messages"], "created_at": "2026-01-25T04:00:54.887390+00:00", "updated_at": "2026-01-25T04:00:54.887390+00:00", "source": "session", "source_id": "edd104f2-b2d8-4d31-a4fa-5799376ae6ec"}
{"id": "mm-7580f93d", "content": "The user prefers database-first approaches for data consistency fixes over post-processing text files. When fixing timestamp format issues, normalize at the source (SQLite) then regenerate exports, rather than regex-replacing output files.", "type": "preference", "importance": 0.75, "tags": ["data-integrity", "approach"], "created_at": "2026-01-25T03:58:56.475527+00:00", "updated_at": "2026-01-25T03:58:56.475527+00:00", "source": "session", "source_id": "8dfb36ae-572d-4a12-a667-0e710b658a2d"}
{"id": "mm-330f9b15", "content": "Skill version warnings in gobby tests expect semver format (e.g., '2.0.0', '1.0.0') rather than simplified versions like '2.0' or '1.0'. Update test assertions to use proper semantic versioning.", "type": "pattern", "importance": 0.75, "tags": ["testing", "version-format", "gobby"], "created_at": "2026-01-25T03:55:42.228222+00:00", "updated_at": "2026-01-25T03:55:42.228222+00:00", "source": "session", "source_id": "f41bfbd1-8db4-4411-af15-7986f3249da4"}
{"id": "mm-4ab420d4", "content": "The gobby project uses a planning system with files stored in ~/.claude/plans/ (e.g., magical-crunching-bee.md). Plans are generated in plan mode and require user approval via ExitPlanMode before proceeding.", "type": "fact", "importance": 0.75, "tags": ["project-setup", "workflow", "gobby"], "created_at": "2026-01-25T03:55:42.227730+00:00", "updated_at": "2026-01-25T03:55:42.227730+00:00", "source": "session", "source_id": "f41bfbd1-8db4-4411-af15-7986f3249da4"}
{"id": "mm-62299627", "content": "The gobby project includes debug logging for invalid workflow files in _query.py (commit #6603), indicating this is an area of concern for error handling and diagnostics.", "type": "context", "importance": 0.72, "tags": ["workflows", "error-handling", "logging"], "created_at": "2026-01-30T17:04:16.564362+00:00", "updated_at": "2026-01-30T17:04:16.564362+00:00", "source": "session", "source_id": "19c46026-3e31-4084-bc9c-ec3a1070828d"}
{"id": "mm-424dac32", "content": "Catalog authentication is a feature area in gobby (task #6392). When working on authentication features, check existing task references and update them with implementation notes.", "type": "context", "importance": 0.72, "tags": ["gobby", "authentication", "catalog"], "created_at": "2026-01-29T21:12:32.230860+00:00", "updated_at": "2026-01-29T21:12:32.230860+00:00", "source": "session", "source_id": "5bcabb70-a370-40dd-ac6b-d2238ae7dbd0"}
{"id": "mm-76c26af2", "content": "The file src/gobby/workflows/detection_helpers.py contains task_id resolution logic with best-effort exception handling that intentionally silences exceptions when resolution fails and falls back to the original task_id.", "type": "context", "importance": 0.72, "tags": ["gobby", "workflows", "file-location"], "created_at": "2026-01-25T20:01:19.945288+00:00", "updated_at": "2026-01-25T20:01:19.945288+00:00", "source": "session", "source_id": "d57d9ac5-abb3-41a5-8fc5-06d1a8aef82a"}
{"id": "mm-30ec2d8d", "content": "The session involved closing 27 tasks total (17 subtasks + parent epic + additional tasks), suggesting gobby uses a hierarchical task tracking system that can handle large batches of related work items.", "type": "fact", "importance": 0.7, "tags": ["gobby", "workflow", "task-tracking"], "created_at": "2026-02-01T02:41:13.610612+00:00", "updated_at": "2026-02-01T02:41:13.610612+00:00", "source": "session", "source_id": "fbd26d80-b4ae-4979-8cfd-fade016711ee"}
{"id": "mm-12e91b8d", "content": "Project gobby has identified refactoring candidates documented in ~/.claude/plans/lexical-snacking-floyd.md covering both config/app.py cleanup and spawn.py decomposition, with no circular import concerns flagged.", "type": "context", "importance": 0.7, "tags": ["gobby", "refactoring", "planning"], "created_at": "2026-02-01T01:42:54.094926+00:00", "updated_at": "2026-02-01T01:42:54.094926+00:00", "source": "session", "source_id": "a1199286-0860-4cd3-aeb8-366a288db4b4"}
{"id": "mm-91f228b5", "content": "Use ~/.claude/plans/serialized-hatching-acorn.md as the project plan file for the gobby project. This file tracks architectural decisions, implementation details, and approach preferences.", "type": "fact", "importance": 0.7, "tags": ["gobby", "plan-file", "project-organization"], "created_at": "2026-02-01T01:42:54.063286+00:00", "updated_at": "2026-02-01T01:42:54.063286+00:00", "source": "session", "source_id": "c4057c01-26f2-4c9f-bb02-7a23a7ce74dc"}
{"id": "mm-3c2760d0", "content": "Recent work involved adding a `_mcp_db_manager` property and fixing hook tests. This suggests the project has MCP (Model Context Protocol) integration with database management capabilities.", "type": "context", "importance": 0.7, "tags": ["architecture", "mcp", "database", "gobby"], "created_at": "2026-01-30T20:21:01.338583+00:00", "updated_at": "2026-01-30T20:21:01.338583+00:00", "source": "session", "source_id": "8ad8f632-bf82-461e-8393-f27b8d3a021f"}
{"id": "mm-326fcd8d", "content": "Task #6608 involved removing redundant context from compact handoff in the gobby project, resulting in changes across 4 files. The work was completed with commit 0b779300.", "type": "context", "importance": 0.7, "tags": ["gobby", "task-history", "compact-handoff", "refactoring"], "created_at": "2026-01-30T18:50:09.260967+00:00", "updated_at": "2026-01-30T18:50:09.260967+00:00", "source": "session", "source_id": "6b5c1ff0-8790-429d-9cdb-b81584be30f5"}
{"id": "mm-a95137ab", "content": "The gobby project uses linting tools (flake8 or similar) to detect unused imports. The codebase at src/gobby/prompts/loader.py had an unused import of `collections.abc.Callable` that was automatically fixed.", "type": "pattern", "importance": 0.7, "tags": ["gobby", "code-quality", "linting", "imports"], "created_at": "2026-01-30T18:50:09.258425+00:00", "updated_at": "2026-01-30T18:50:09.258425+00:00", "source": "session", "source_id": "6b5c1ff0-8790-429d-9cdb-b81584be30f5"}
{"id": "mm-e817c25d", "content": "When fixing mypy errors in Gobby, focus on type annotations in workflows, task_readiness, and _tool.py files. The project enforces mypy type checking as part of its quality standards.", "type": "context", "importance": 0.7, "tags": ["gobby", "mypy", "type-checking", "quality-standards"], "created_at": "2026-01-30T17:13:43.669593+00:00", "updated_at": "2026-01-30T17:13:43.669593+00:00", "source": "session", "source_id": "31f73b76-a309-435c-811b-5a39722748f0"}
{"id": "mm-58076006", "content": "Task closing in gobby requires retrieving the close_task tool schema from an MCP server before execution, which returns tool metadata including descriptions and required parameters.", "type": "pattern", "importance": 0.7, "tags": ["gobby", "mcp-workflow", "task-management"], "created_at": "2026-01-30T16:45:16.088385+00:00", "updated_at": "2026-01-30T16:45:16.088385+00:00", "source": "session", "source_id": "49bf2caa-bd8e-411a-ae96-8afaa1fef8ac"}
{"id": "mm-8a852931", "content": "The gobby project uses code refactoring tasks such as extracting helper functions (e.g., _format_summary_context in claude.py) to improve maintainability and reduce duplication.", "type": "pattern", "importance": 0.7, "tags": ["gobby", "refactoring", "code-organization", "claude.py"], "created_at": "2026-01-30T16:45:16.087159+00:00", "updated_at": "2026-01-30T16:45:16.087159+00:00", "source": "session", "source_id": "49bf2caa-bd8e-411a-ae96-8afaa1fef8ac"}
{"id": "mm-14f00cdf", "content": "Type annotation inconsistencies in resolve_session_task_value function in src/gobby/mcp_proxy/tools/workflows/_types.py are a known issue that has been fixed (commit fcbc1607). Be aware of potential type annotation patterns in this module when making changes.", "type": "context", "importance": 0.7, "tags": ["gobby", "type-annotations", "_types.py", "issue-6595"], "created_at": "2026-01-30T16:29:54.067533+00:00", "updated_at": "2026-01-30T16:29:54.067533+00:00", "source": "session", "source_id": "04bda0d5-3cf3-4466-b393-dbb62e727e8b"}
{"id": "mm-537afed0", "content": "The project structure includes src/gobby/mcp_proxy/ directory containing database-related code with DatabaseProtocol type annotations that require matching docstrings.", "type": "fact", "importance": 0.7, "tags": ["gobby", "structure", "database"], "created_at": "2026-01-30T16:26:58.086135+00:00", "updated_at": "2026-01-30T16:26:58.086135+00:00", "source": "session", "source_id": "037e4d8b-aee6-4e95-bb4c-da81f10c45b6"}
{"id": "mm-df7b8b2c", "content": "The gobby project uses uv for Python environment/package management, as evidenced by hook execution using 'uv run python' commands in the .claude/hooks directory.", "type": "fact", "importance": 0.7, "tags": ["gobby", "python", "uv", "package-management"], "created_at": "2026-01-30T16:24:43.522702+00:00", "updated_at": "2026-01-30T16:24:43.522702+00:00", "source": "session", "source_id": "a933025b-1bce-4aed-9799-8a0c4fa06590"}
{"id": "mm-166bb204", "content": "The gobby project has a daemon that manages active sessions and loads skills. Use `gobby daemon status` or similar commands to verify the daemon is running with correct configuration after making workflow updates.", "type": "context", "importance": 0.7, "tags": ["gobby", "daemon", "workflow", "debugging"], "created_at": "2026-01-30T15:32:45.889811+00:00", "updated_at": "2026-01-30T15:32:45.889811+00:00", "source": "session", "source_id": "17fd146d-89dc-4bb5-9711-d2a15dbffefb"}
{"id": "mm-85ff1dca", "content": "Documentation is stored in docs/plans/ directory (e.g., moltbot-plugin.md). Changes to documentation are tracked in version control alongside code changes.", "type": "fact", "importance": 0.7, "tags": ["file-organization", "documentation", "gobby"], "created_at": "2026-01-30T14:44:28.876835+00:00", "updated_at": "2026-01-30T14:44:28.876835+00:00", "source": "session", "source_id": "0dffacca-e3fd-48b6-9e60-1e68098112d1"}
{"id": "mm-b233715e", "content": "The discovering-tools skill in gobby is structured to provide progressive disclosure of tool-related concepts, moving from basic discovery to advanced patterns like calling tools without schemas.", "type": "context", "importance": 0.7, "tags": ["gobby", "discovering-tools", "skill-design"], "created_at": "2026-01-30T05:22:14.086989+00:00", "updated_at": "2026-01-30T05:22:14.086989+00:00", "source": "session", "source_id": "e7d731e3-3254-4be0-bb35-6a270f20a3d6"}
{"id": "mm-79397c69", "content": "The project has a .gobby directory containing memories.jsonl, tasks.jsonl, and tasks_meta.json files that track project state and metadata.", "type": "fact", "importance": 0.7, "tags": ["project-structure", "configuration", "tracking"], "created_at": "2026-01-30T05:05:50.555183+00:00", "updated_at": "2026-01-30T05:05:50.555183+00:00", "source": "session", "source_id": "1ae1a61a-5d0a-469c-90f4-9c58b0c3da5b"}
{"id": "mm-91ede785", "content": "Use ~/.claude/plans/serialized-hatching-acorn.md as the project plan file for the gobby project. This file tracks architectural decisions, implementation details, and approach preferences.", "type": "fact", "importance": 0.7, "tags": ["gobby", "plan-file", "project-organization"], "created_at": "2026-01-30T05:04:49.417860+00:00", "updated_at": "2026-01-30T05:04:49.417860+00:00", "source": "session", "source_id": "c4057c01-26f2-4c9f-bb02-7a23a7ce74dc"}
{"id": "mm-4cde7c0d", "content": "Plan development uses 8 implementation steps for enforcing progressive tool discovery. The user rejected an 'Export plan as artifact' action, suggesting they prefer keeping plans as internal working documents rather than external outputs.", "type": "preference", "importance": 0.7, "tags": ["gobby", "tool-use-preferences", "artifact-handling"], "created_at": "2026-01-30T04:54:39.996061+00:00", "updated_at": "2026-01-30T04:54:39.996061+00:00", "source": "session", "source_id": "7786b710-a431-44cc-aba7-bff0ec576229"}
{"id": "mm-92689b03", "content": "Project structure uses workflow-related type definitions in `/src/gobby/mcp_proxy/tools/workflows/_types.py`. This file contains common type definitions for workflow tools and must maintain clean imports without unused declarations.", "type": "fact", "importance": 0.7, "tags": ["gobby", "file-structure", "workflows", "types"], "created_at": "2026-01-30T04:36:22.757669+00:00", "updated_at": "2026-01-30T04:36:22.757669+00:00", "source": "session", "source_id": "576ddb2b-5717-412d-bfaa-4a118cf3668e"}
{"id": "mm-ab7462dd", "content": "The gobby project structure includes a `.claude/hooks/` directory containing hook_dispatcher.py for handling start/stop hooks during sessions. These hooks validate task closure and enforce code quality standards.", "type": "fact", "importance": 0.7, "tags": ["gobby", "architecture", "file-structure"], "created_at": "2026-01-30T01:37:00.820969+00:00", "updated_at": "2026-01-30T01:37:00.820969+00:00", "source": "session", "source_id": "587b7b98-1c21-44c7-977a-d7f0373c263d"}
{"id": "mm-4cac2fbc", "content": "Task #6547 involved improving session ID format in additionalContext. Changes were committed with proper formatting compliance and the task was successfully closed.", "type": "context", "importance": 0.7, "tags": ["gobby", "session-management", "additionalContext"], "created_at": "2026-01-30T00:12:54.928479+00:00", "updated_at": "2026-01-30T00:12:54.928479+00:00", "source": "session", "source_id": "e4adfa00-ab9c-46b0-978c-57160a4a54dd"}
{"id": "mm-6d55dac3", "content": "The gobby project has git worktrees that can become orphaned and need cleanup via command-line management. After cleanup, verify the state with git branch listing to confirm only intended branches remain.", "type": "pattern", "importance": 0.7, "tags": ["git-worktrees", "verification", "gobby"], "created_at": "2026-01-29T23:20:34.712381+00:00", "updated_at": "2026-01-29T23:20:34.712381+00:00", "source": "session", "source_id": "2d1b070c-f1ad-4bf6-990a-cc9ea4a280c3"}
{"id": "mm-2083cf49", "content": "User interrupted execution of a large-scale refactoring task mid-session, indicating preference for planning/validation before committing to major changes.", "type": "preference", "importance": 0.7, "tags": ["gobby", "user-behavior", "execution-caution"], "created_at": "2026-01-29T21:45:31.987800+00:00", "updated_at": "2026-01-29T21:45:31.987800+00:00", "source": "session", "source_id": "df3424d0-eb12-487c-9660-a57c1cfdd398"}
{"id": "mm-74b3be78", "content": "Task #6459 involved standardizing session_id to accept #N format across all MCP tools in the gobby project. This was completed with commit dbc0684f on the dev branch.", "type": "context", "importance": 0.7, "tags": ["gobby", "mcp-tools", "session_id", "completed-task"], "created_at": "2026-01-29T18:19:17.862914+00:00", "updated_at": "2026-01-29T18:19:17.862914+00:00", "source": "session", "source_id": "88282a6f-dcdc-4421-9f80-68006be9b1ce"}
{"id": "mm-16f313fd", "content": "The project has a task management system accessible via mctools that allows closing tasks after work is completed. Task closure is confirmed with a success response.", "type": "fact", "importance": 0.7, "tags": ["gobby", "task-management", "mctools", "workflow"], "created_at": "2026-01-29T18:00:52.416022+00:00", "updated_at": "2026-01-29T18:00:52.416022+00:00", "source": "session", "source_id": "2dcac329-a0f3-483f-bccd-e19d16e2f625"}
{"id": "mm-bc40bd22", "content": "Recent work refactored messaging tools in Gobby to use a database-primary architecture (commit 27f162a8). This represents a significant architectural pattern change worth understanding for future messaging-related work.", "type": "context", "importance": 0.7, "tags": ["gobby", "messaging", "architecture", "database"], "created_at": "2026-01-29T17:43:06.270560+00:00", "updated_at": "2026-01-29T17:43:06.270560+00:00", "source": "session", "source_id": "a84f585a-ec30-4ed3-9b76-ac07d0c5e501"}
{"id": "mm-ab922046", "content": "Issue #6450 involved fixes for async locks, template conditionals, and workflow transitions in the gobby project. The work-task-gemini.yaml file was modified as part of this fix, indicating this is an area of ongoing development.", "type": "context", "importance": 0.7, "tags": ["gobby", "issue-tracking", "workflow", "templates"], "created_at": "2026-01-29T15:12:44.754804+00:00", "updated_at": "2026-01-29T15:12:44.754804+00:00", "source": "session", "source_id": "c8adb817-5b37-4887-9b22-2cf2964fd235"}
{"id": "mm-5c6d4dec", "content": "The project structure includes tests/adapters/ directory for adapter-specific tests, with test_gemini.py being the Gemini adapter test file.", "type": "fact", "importance": 0.7, "tags": ["project-structure", "testing", "adapters"], "created_at": "2026-01-29T15:05:42.802373+00:00", "updated_at": "2026-01-29T15:05:42.802373+00:00", "source": "session", "source_id": "e8e5ef51-6442-48e1-9e5a-c95723d12bc1"}
{"id": "mm-7adeef25", "content": "The gobby project uses git commits with issue references in the format '[#ISSUE_NUMBER] Description' (e.g., '[#6443] Add workflow_name and agent_depth to session metadata cache').", "type": "pattern", "importance": 0.7, "tags": ["gobby", "git", "commit-convention", "issue-tracking"], "created_at": "2026-01-29T03:48:52.687288+00:00", "updated_at": "2026-01-29T03:48:52.687288+00:00", "source": "session", "source_id": "3e5b7409-77eb-405a-8c92-14ff28eb965d"}
{"id": "mm-ed6bc88f", "content": "The gobby project uses pre-tool hooks (dispatcher.py) for validation before executing certain operations, indicating a custom MCP-based workflow system.", "type": "fact", "importance": 0.7, "tags": ["gobby", "hooks", "workflow"], "created_at": "2026-01-29T03:46:52.681915+00:00", "updated_at": "2026-01-29T03:46:52.681915+00:00", "source": "session", "source_id": "e248f919-efb1-4f25-b4ae-43d76d28e09d"}
{"id": "mm-05edbb15", "content": "Test file located at tests/agents/test_spawn_executor.py contains spawn environment assertion tests for Gemini. Fixes to these tests should validate environment setup explicitly rather than implicitly.", "type": "fact", "importance": 0.7, "tags": ["gobby", "testing", "gemini", "spawn-executor"], "created_at": "2026-01-29T03:45:58.332056+00:00", "updated_at": "2026-01-29T03:45:58.332056+00:00", "source": "session", "source_id": "2ab43a4b-1570-40c2-8c65-aac5f01f3aac"}
{"id": "mm-de4a0c66", "content": "Workflow activation logic in gobby can be refactored by extracting duplicated code into a shared _auto_activate_workflow helper function to reduce redundancy.", "type": "pattern", "importance": 0.7, "tags": ["gobby", "refactoring", "code-organization"], "created_at": "2026-01-29T03:43:34.247601+00:00", "updated_at": "2026-01-29T03:43:34.247601+00:00", "source": "session", "source_id": "2152dcd4-bd79-4808-99e7-62131488068f"}
{"id": "mm-ab7c06aa", "content": "Documentation updates for the gobby project typically involve adding missing parameter documentation to docstrings, particularly in the sessions/manager.py file's register_session function.", "type": "pattern", "importance": 0.7, "tags": ["documentation", "docstrings", "sessions-module"], "created_at": "2026-01-29T03:41:42.943173+00:00", "updated_at": "2026-01-29T03:41:42.943173+00:00", "source": "session", "source_id": "14b17bda-1d9c-4dfe-8c91-4c54a957baff"}
{"id": "mm-9978f216", "content": "The gobby project uses task tracking (#6438 format) integrated with git commits. Task completion involves closing the task via MCP after committing changes with the task ID in the commit message.", "type": "pattern", "importance": 0.7, "tags": ["gobby", "workflow", "git", "task-tracking"], "created_at": "2026-01-29T03:37:59.369115+00:00", "updated_at": "2026-01-29T03:37:59.369115+00:00", "source": "session", "source_id": "c029ea2a-a228-48c6-9520-46bbe54729af"}
{"id": "mm-10e877b2", "content": "Recent work on issue #6436 involved fixing test assertions for Gemini spawn environment variables in tests/agents/test_spawn_exe. Tests should validate spawn environment variable handling correctly.", "type": "context", "importance": 0.7, "tags": ["gobby", "testing", "gemini", "spawn-env-vars"], "created_at": "2026-01-29T03:36:29.985832+00:00", "updated_at": "2026-01-29T03:36:29.985832+00:00", "source": "session", "source_id": "a566e9e4-4295-4a5f-9b1e-088963ec77a5"}
{"id": "mm-606ba240", "content": "The project uses a skill verification workflow: update skills in batch, then verify the results by fetching and inspecting individual skill definitions to confirm changes were applied correctly.", "type": "pattern", "importance": 0.7, "tags": ["gobby", "workflow", "testing", "verification"], "created_at": "2026-01-29T02:56:41.352233+00:00", "updated_at": "2026-01-29T02:56:41.352233+00:00", "source": "session", "source_id": "bbb3722e-b087-451b-9f6a-1d174d6bed59"}
{"id": "mm-b3239347", "content": "Gobby daemon configuration includes HTTP and WebSocket endpoints on localhost with dynamically assigned ports (e.g., localhost:60887 for HTTP, localhost:60888 for WebSocket). The daemon tracks MCP servers, skills, sessions, and tasks. Use process restart to resolve transient state issues when database migrations have already been applied.", "type": "fact", "importance": 0.7, "tags": ["daemon", "architecture", "troubleshooting"], "created_at": "2026-01-28T21:18:50.292095+00:00", "updated_at": "2026-01-28T21:18:50.292095+00:00", "source": "session", "source_id": "b9ce4431-a610-4889-a33d-877ba34aba2e"}
{"id": "mm-483f8465", "content": "The project uses git commits with issue references in the format `[#ISSUE_NUMBER]` followed by a description (e.g., `[#6365] Fix mypy type errors in 4 files`). This appears to be the standard commit message format.", "type": "pattern", "importance": 0.7, "tags": ["git", "commit-conventions"], "created_at": "2026-01-28T16:55:23.785078+00:00", "updated_at": "2026-01-28T16:55:23.785078+00:00", "source": "session", "source_id": "54206ab9-e65a-47db-859f-05033c66bcb8"}
{"id": "mm-66e846dc", "content": "The gobby project uses git-tracked sandboxed.yaml files in .gobby/agents/ and src/gobby/install/shared/agents/ directories. These files were previously committed but have since been removed in subsequent commits, so they no longer exist in HEAD.", "type": "fact", "importance": 0.7, "tags": ["project-structure", "git-history", "sandboxed-config"], "created_at": "2026-01-28T02:40:36.000808+00:00", "updated_at": "2026-01-28T02:40:36.000808+00:00", "source": "session", "source_id": "b35da687-ebca-41b2-b942-a107739b9441"}
{"id": "mm-bf9c2c17", "content": "Session messages test mocks require `resolve_session_reference` to have return values configured, not just be present as a mock.", "type": "pattern", "importance": 0.7, "tags": ["testing", "mocking", "session-messages"], "created_at": "2026-01-27T23:38:12.464045+00:00", "updated_at": "2026-01-27T23:38:12.464045+00:00", "source": "session", "source_id": "5d29ae81-e961-4da4-af8a-20467e7e654e"}
{"id": "mm-67076c39", "content": "Test classes in gobby use @pytest.mark.unit decorator for sandbox and unit tests. This is part of the test organization and categorization strategy.", "type": "pattern", "importance": 0.7, "tags": ["testing", "pytest", "markers", "conventions"], "created_at": "2026-01-27T23:18:37.182489+00:00", "updated_at": "2026-01-27T23:18:37.182489+00:00", "source": "session", "source_id": "73e859dc-af97-4d70-8c2f-008413ea3728"}
{"id": "mm-466a4984", "content": "Doctor skill uses --all as canonical flag (with --full as deprecated alias per SKILL.md line 29). All phases use consistent naming: Phase 1-3 (always run), Phase 4 (--all only, includes resource-heavy tests), Phase 5 (--security or --all). Cleanup protocol uses __diag__ prefix for safe test artifact removal.", "type": "context", "importance": 0.7, "tags": ["doctor-skill", "cli-flags", "testing"], "created_at": "2026-01-27T22:52:38.927147+00:00", "updated_at": "2026-01-27T22:52:38.927147+00:00", "source": "session", "source_id": "935114fe-ccaa-4dfc-8f95-99956c976c4f"}
{"id": "mm-f4daad45", "content": "File location: `src/gobby/mcp_proxy/tools/tasks/_lifecycle.py` contains task lifecycle logic including session edit checks that use best-effort try-except-pass patterns.", "type": "fact", "importance": 0.7, "tags": ["file-location", "architecture", "task-management"], "created_at": "2026-01-27T18:46:58.691593+00:00", "updated_at": "2026-01-27T18:46:58.691593+00:00", "source": "session", "source_id": "a910d58a-023a-485c-88d0-e99d4061c5d0"}
{"id": "mm-3ee53971", "content": "Bandit security checks (like B110) can be suppressed with `# nosec B110` annotations when the flagged pattern is intentional. For try-except-pass blocks used as best-effort checks that shouldn't block operations, this annotation is appropriate with justification in comments.", "type": "pattern", "importance": 0.7, "tags": ["bandit", "security", "code-standards", "exception-handling"], "created_at": "2026-01-27T18:46:58.691195+00:00", "updated_at": "2026-01-27T18:46:58.691195+00:00", "source": "session", "source_id": "a910d58a-023a-485c-88d0-e99d4061c5d0"}
{"id": "mm-4c079478", "content": "The gobby project uses multiple LLM providers (CodexProvider, LiteLLMProvider) with a multi-provider LLMService architecture, each with their own test files that import from the reorganized config modules.", "type": "pattern", "importance": 0.7, "tags": ["architecture", "llm-providers", "testing"], "created_at": "2026-01-27T18:43:29.730448+00:00", "updated_at": "2026-01-27T18:43:29.730448+00:00", "source": "session", "source_id": "92ef8efc-a5d6-4b8c-b235-59c8c08b0a8b"}
{"id": "mm-0391b86e", "content": "Completed documentation files in gobby are stored in `.../plans/completed/` directory (e.g., `project-scoped-session-refs.md`), and code snippets in documentation must include all necessary variable assignments (e.g., `seq_num_ref = ref.lstrip(\"#\")`) to avoid undefined variable references.", "type": "fact", "importance": 0.7, "tags": ["documentation", "file-organization", "code-examples"], "created_at": "2026-01-27T18:16:19.487902+00:00", "updated_at": "2026-01-27T18:16:19.487902+00:00", "source": "session", "source_id": "7ce4587b-4bf1-4f73-baa6-5ac59f572839"}
{"id": "mm-3a383cfe", "content": "Project gobby has identified refactoring candidates documented in ~/.claude/plans/lexical-snacking-floyd.md covering both config/app.py cleanup and spawn.py decomposition, with no circular import concerns flagged.", "type": "context", "importance": 0.7, "tags": ["gobby", "refactoring", "planning"], "created_at": "2026-01-27T18:15:43.762826+00:00", "updated_at": "2026-01-27T18:15:43.762826+00:00", "source": "session", "source_id": "a1199286-0860-4cd3-aeb8-366a288db4b4"}
{"id": "mm-3d097eab", "content": "The gobby project uses an MCP server that can be reconnected via '/mcp list' command. After reconnection, git pushes can proceed with --no-verify flag.", "type": "fact", "importance": 0.7, "tags": ["mcp", "server", "infrastructure", "gobby"], "created_at": "2026-01-27T01:29:58.430822+00:00", "updated_at": "2026-01-27T01:29:58.430822+00:00", "source": "session", "source_id": "2bc8895b-b292-4b81-acfc-180c276ca5cd"}
{"id": "mm-774e1d54", "content": "Gobby MCP tool calls require precise parameter names; 'include' is not a valid parameter (Turn 37 error). When tool calls fail with 'Unknown parameter' errors, review the actual API signature rather than assuming standard parameter names.", "type": "context", "importance": 0.7, "tags": ["mcp-tools", "api", "debugging", "gobby-api"], "created_at": "2026-01-26T22:35:10.788123+00:00", "updated_at": "2026-01-26T22:35:10.788123+00:00", "source": "session", "source_id": "37010a61-6ffb-495f-b12a-e444c0981eff"}
{"id": "mm-38e36b64", "content": "Gobby is expanding CLI integration support with multiple tools: Copilot, Cursor, Aider, Continue, and Q Developer. OpenTelemetry and SWE-bench evaluation are in the near-term roadmap.", "type": "fact", "importance": 0.7, "tags": ["gobby", "integrations", "cli-support", "observability"], "created_at": "2026-01-26T15:53:04.661889+00:00", "updated_at": "2026-01-26T15:53:04.661889+00:00", "source": "session", "source_id": "a3a6417e-f8fd-4aae-b2ba-548d04020bf0"}
{"id": "mm-35340c6d", "content": "Recent commits to gobby dev branch include caplog test fixes and metadata/detection helper updates. The project has test infrastructure using caplog.", "type": "context", "importance": 0.7, "tags": ["gobby", "testing", "commits"], "created_at": "2026-01-25T20:25:01.886786+00:00", "updated_at": "2026-01-25T20:25:01.886786+00:00", "source": "session", "source_id": "a6e315ce-fd9e-4f19-b3a2-bd2ffeeb9924"}
{"id": "mm-e57f9d0b", "content": "When planning documentation updates in Gobby, user rejected ExitPlanMode tool use. This suggests the user prefers to review plan content differently or doesn't want interruptions for tool mode exits. Consider alternative approaches for requesting user approval on plans.", "type": "preference", "importance": 0.7, "tags": ["gobby", "user-workflow", "tool-interaction"], "created_at": "2026-01-25T18:55:02.657324+00:00", "updated_at": "2026-01-25T18:55:02.657324+00:00", "source": "session", "source_id": "d123390e-389b-42d6-9e8e-8c3c222b20db"}
{"id": "mm-1787334d", "content": "When making updates to database task records, guard against None returns from update_task() calls in src/gobby/mcp_proxy/tools/tasks/_crud.py before accessing properties like task.id.", "type": "pattern", "importance": 0.7, "tags": ["null-safety", "database-operations", "crud"], "created_at": "2026-01-25T18:38:30.162111+00:00", "updated_at": "2026-01-25T18:38:30.162111+00:00", "source": "session", "source_id": "8acbf4cc-c352-46e6-92f7-1047394972e3"}
{"id": "mm-1b47195e", "content": "Successful caplog test patterns in gobby are found in tests/plugins/test_example_notify.py and tests/utils/test_utils_git.py. These serve as reference implementations for the correct caplog usage pattern with context managers.", "type": "context", "importance": 0.7, "tags": ["testing", "reference", "gobby", "caplog"], "created_at": "2026-01-25T16:53:25.606444+00:00", "updated_at": "2026-01-25T16:53:25.606444+00:00", "source": "session", "source_id": "99afe6be-e662-4f5b-a6b0-6c8da124b366"}
{"id": "mm-de3b515a", "content": "Port 60336 is the configured port for UI services (updated from legacy 8767). Port 60888 is used for WebSocket subscriptions testing. Use these ports when configuring or testing network services.", "type": "fact", "importance": 0.7, "tags": ["configuration", "ports", "networking"], "created_at": "2026-01-25T04:34:46.442070+00:00", "updated_at": "2026-01-25T04:34:46.442070+00:00", "source": "session", "source_id": "0c5227bc-84b1-44b2-9e75-32fd96ec85ca"}
{"id": "mm-d48b9f48", "content": "When committing changes in gobby, exclude auto-generated data files (.gobby/memories.jsonl, .gobby/tasks.jsonl, .gobby/tasks_meta.json) and stage only relevant code changes. Use selective git staging to keep commits focused.", "type": "preference", "importance": 0.7, "tags": ["gobby", "git-workflow", "commit-hygiene"], "created_at": "2026-01-25T04:17:24.126981+00:00", "updated_at": "2026-01-25T04:17:24.126981+00:00", "source": "session", "source_id": "c9787d92-bd8e-4fcc-a158-05af9147f470"}
{"id": "mm-a2192489", "content": "The .claude/skills/gobby-diagnostic/SKILL.md file documents task cleanup instructions. When working on gobby fixes, ensure this file is kept updated with relevant task instructions like close_task and delete_task procedures.", "type": "context", "importance": 0.7, "tags": ["documentation", "skill-files", "task-workflow"], "created_at": "2026-01-25T04:08:42.984331+00:00", "updated_at": "2026-01-25T04:08:42.984331+00:00", "source": "session", "source_id": "82c1590d-8051-4ccf-af2c-988867c7e884"}
{"id": "mm-3b168792", "content": "The gobby project uses task-based workflow with git commits tracking fixes. Task closure requires commit SHA and successful tool invocation via mcp__gobby__call_tool.", "type": "pattern", "importance": 0.7, "tags": ["testing", "fixtures", "production-safety"], "created_at": "2026-01-25T04:04:50.346697+00:00", "updated_at": "2026-01-25T04:04:50.346697+00:00", "source": "session", "source_id": "1a867b59-ad3d-4075-9020-6293616fbeb2"}
{"id": "mm-1170d6b4", "content": "Test fixtures like 'protect_production_resources' need to be explicitly added as parameters to test functions that interact with production resources. This is a project convention for protecting production data during testing.", "type": "pattern", "importance": 0.7, "tags": ["testing", "fixtures", "production-safety"], "created_at": "2026-01-25T04:02:56.263616+00:00", "updated_at": "2026-01-25T04:02:56.263616+00:00", "source": "session", "source_id": "1a867b59-ad3d-4075-9020-6293616fbeb2"}
{"id": "mm-0e5bce0e", "content": "E2E daemon timeout tests in gobby should include early failure detection and exit codes in error messages for better debugging information when timeouts occur.", "type": "pattern", "importance": 0.7, "tags": ["testing", "e2e", "error-handling"], "created_at": "2026-01-25T03:55:42.229377+00:00", "updated_at": "2026-01-25T03:55:42.229377+00:00", "source": "session", "source_id": "f41bfbd1-8db4-4411-af15-7986f3249da4"}
{"id": "mm-d79a184f", "content": "The gobby project uses a standard workflow: edit files → run tf8c78", "type": "fact", "importance": 0.5, "tags": [], "created_at": "2026-02-01T01:42:53.816206+00:00", "updated_at": "2026-02-01T01:42:53.816206+00:00", "source": "import", "source_id": null}
