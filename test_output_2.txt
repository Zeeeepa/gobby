============================= test session starts ==============================
platform darwin -- Python 3.12.12, pytest-9.0.2, pluggy-1.6.0 -- /Users/josh/Projects/gobby/.venv/bin/python
cachedir: .pytest_cache
rootdir: /Users/josh/Projects/gobby
configfile: pyproject.toml
plugins: mock-3.15.1, anyio-4.12.0, asyncio-1.3.0, cov-7.0.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 1 item

tests/e2e/test_worktrees_e2e.py::TestWorktreeDeletion::test_delete_worktree_removes_branch DEBUG: src_dir=/Users/josh/Projects/gobby/src PYTHONPATH=/Users/josh/Projects/gobby/src

=== DAEMON STDOUT ===


=== DAEMON STDERR ===
DEBUG: runner.py loaded from /Users/josh/Projects/gobby/src/gobby/runner.py
DEBUG: sys.path: ['/private/var/folders/s9/818ytv8923v72hrbbgt2g58m0000gn/T/gobby_e2e_srjnlgvo', '/Users/josh/Projects/gobby/src', '/Users/josh/.local/share/uv/python/cpython-3.12.12-macos-aarch64-none/lib/python312.zip', '/Users/josh/.local/share/uv/python/cpython-3.12.12-macos-aarch64-none/lib/python3.12', '/Users/josh/.local/share/uv/python/cpython-3.12.12-macos-aarch64-none/lib/python3.12/lib-dynload', '/Users/josh/Projects/gobby/.venv/lib/python3.12/site-packages']
[01/11/26 23:03:16] INFO     StreamableHTTP       streamable_http_manager.py:115
                             session manager                                    
                             started                                            
                    INFO     server listening on [::1]:52510       server.py:341
                    INFO     server listening on 127.0.0.1:52510   server.py:341

FAILED
ERROR: Coverage failure: total of 1 is less than fail-under=80


=================================== FAILURES ===================================
___________ TestWorktreeDeletion.test_delete_worktree_removes_branch ___________

self = <tests.e2e.test_worktrees_e2e.TestWorktreeDeletion object at 0x10b7c6cf0>
daemon_instance = DaemonInstance(process=<Popen: returncode: None args: ['/Users/josh/Projects/gobby/.venv/bin/python...>, pid=13615, http_port=52509, ws_port=52510, project_dir=PosixPath('/var/folders/s9/818ytv8923v72hrbbgt2g58m0000gn/T/gobby_e2e_srjnlgvo'), gobby_dir=PosixPath('/var/folders/s9/818ytv8923v72hrbbgt2g58m0000gn/T/gobby_e2e_srjnlgvo/.gobby'), log_file=PosixPath('/var/folders/s9/818ytv8923v72hrbbgt2g58m0000gn/T/gobby_e2e_srjnlgvo/.gobby-home/logs/daemon.log'), error_log_file=PosixPath('/var/folders/s9/818ytv8923v72hrbbgt2g58m0000gn/T/gobby_e2e_srjnlgvo/.gobby-home/logs/daemon_error.log'), db_path=PosixPath('/var/folders/s9/818ytv8923v72hrbbgt2g58m0000gn/T/gobby_e2e_srjnlgvo/.gobby-home/gobby.db'), config_path=PosixPath('/var/folders/s9/818ytv8923v72hrbbgt2g58m0000gn/T/gobby_e2e_srjnlgvo/.gobby-home/config.yaml'))
mcp_client = <tests.e2e.conftest.MCPTestClient object at 0x10b869850>
git_repo_with_origin = PosixPath('/var/folders/s9/818ytv8923v72hrbbgt2g58m0000gn/T/gobby_e2e_srjnlgvo')

    def test_delete_worktree_removes_branch(
        self,
        daemon_instance: DaemonInstance,
        mcp_client: MCPTestClient,
        git_repo_with_origin: Path,
    ):
        """Deleting a worktree should also delete the git branch."""
        try:
            branch_name = "feature/delete-branch-test"
    
            # Create worktree
            create_response = mcp_client.call_tool(
                server_name="gobby-worktrees",
                tool_name="create_worktree",
                arguments={
                    "branch_name": branch_name,
                    "project_path": str(git_repo_with_origin),
                },
            )
            result = extract_result(create_response)
            assert result.get("success") is True
            worktree_id = result["worktree_id"]
    
            # Verify branch exists
            branch_check = subprocess.run(
                ["git", "rev-parse", "--verify", branch_name],
                cwd=str(git_repo_with_origin),
                capture_output=True,
            )
            assert branch_check.returncode == 0, "Branch should exist before deletion"
    
            # Delete worktree
            delete_response = mcp_client.call_tool(
                server_name="gobby-worktrees",
                tool_name="delete_worktree",
                arguments={
                    "worktree_id": worktree_id,
                    "force": True,
                },
            )
            delete_result = extract_result(delete_response)
            assert delete_result.get("success") is True
    
            # Verify branch is gone
            branch_check_after = subprocess.run(
                ["git", "rev-parse", "--verify", branch_name],
                cwd=str(git_repo_with_origin),
                capture_output=True,
            )
>           assert branch_check_after.returncode != 0, "Branch should be deleted"
E           AssertionError: Branch should be deleted
E           assert 0 != 0
E            +  where 0 = CompletedProcess(args=['git', 'rev-parse', '--verify', 'feature/delete-branch-test'], returncode=0, stdout=b'fe97e7f15c7e511e45ed06aa5d5648881a2c5cb3\n', stderr=b'').returncode

tests/e2e/test_worktrees_e2e.py:636: AssertionError
=============================== warnings summary ===============================
tests/e2e/test_worktrees_e2e.py::TestWorktreeDeletion::test_delete_worktree_removes_branch
  /Users/josh/Projects/gobby/src/gobby/storage/projects.py:80: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    now = datetime.utcnow().isoformat()

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================ tests coverage ================================
______________ coverage: platform darwin, python 3.12.12-final-0 _______________

Name                                              Stmts   Miss Branch BrPart  Cover   Missing
---------------------------------------------------------------------------------------------
src/gobby/__init__.py                                 1      0      0      0   100%
src/gobby/adapters/__init__.py                        5      5      0      0     0%   18-23
src/gobby/adapters/base.py                           17     17      2      0     0%   8-93
src/gobby/adapters/claude_code.py                    64     64     30      0     0%   18-269
src/gobby/adapters/codex.py                         469    469    132      0     0%   31-1292
src/gobby/adapters/gemini.py                         93     93     44      0     0%   23-343
src/gobby/agents/__init__.py                          4      4      0      0     0%   26-30
src/gobby/agents/constants.py                        19     19      6      0     0%   18-102
src/gobby/agents/context.py                         123    123     40      0     0%   12-362
src/gobby/agents/definitions.py                      58     58     18      0     0%   9-133
src/gobby/agents/registry.py                        138    138     30      0     0%   9-421
src/gobby/agents/runner.py                          302    302     66      0     0%   11-968
src/gobby/agents/session.py                          87     87     24      0     0%   9-250
src/gobby/agents/spawn.py                           164    164     60      0     0%   3-595
src/gobby/agents/spawners/__init__.py                 8      8      0      0     0%   19-50
src/gobby/agents/spawners/base.py                    80     80      4      0     0%   3-142
src/gobby/agents/spawners/cross_platform.py         109    109     28      0     0%   3-262
src/gobby/agents/spawners/embedded.py                70     70     16      0     0%   3-227
src/gobby/agents/spawners/headless.py                67     67     20      0     0%   3-228
src/gobby/agents/spawners/linux.py                   60     60     12      0     0%   3-121
src/gobby/agents/spawners/macos.py                  113    113     32      0     0%   3-258
src/gobby/agents/spawners/windows.py                145    145     42      0     0%   3-304
src/gobby/agents/tty_config.py                       66     66     16      0     0%   8-319
src/gobby/autonomous/__init__.py                      4      4      0      0     0%   9-22
src/gobby/autonomous/progress_tracker.py            123    123     28      0     0%   7-438
src/gobby/autonomous/stop_registry.py                66     66     12      0     0%   9-269
src/gobby/autonomous/stuck_detector.py              110    110     34      0     0%   9-383
src/gobby/cli/__init__.py                            48     48      0      0     0%   5-65
src/gobby/cli/__main__.py                             1      1      0      0     0%   5
src/gobby/cli/agents.py                             237    237     84      0     0%   12-456
src/gobby/cli/artifacts.py                          134    134     52      0     0%   3-265
src/gobby/cli/daemon.py                             174    174     30      0     0%   5-328
src/gobby/cli/extensions.py                         271    271    124      0     0%   5-526
src/gobby/cli/github.py                             141    141     22      0     0%   7-263
src/gobby/cli/init.py                                37     37     18      0     0%   5-53
src/gobby/cli/install.py                            365    365    206      0     0%   5-614
src/gobby/cli/installers/__init__.py                  7      7      0      0     0%   8-20
src/gobby/cli/installers/antigravity.py              22     22      2      0     0%   11-65
src/gobby/cli/installers/claude.py                  218    218     48      0     0%   8-363
src/gobby/cli/installers/codex.py                   100    100     26      0     0%   8-192
src/gobby/cli/installers/gemini.py                  125    125     40      0     0%   8-256
src/gobby/cli/installers/git_hooks.py               121    121     44      0     0%   14-377
src/gobby/cli/installers/shared.py                  360    360    100      0     0%   8-726
src/gobby/cli/linear.py                             134    134     18      0     0%   7-239
src/gobby/cli/mcp.py                                  9      9      0      0     0%   5-30
src/gobby/cli/mcp_proxy.py                          387    387    160      0     0%   14-698
src/gobby/cli/memory.py                             128    128     20      0     0%   1-227
src/gobby/cli/merge.py                              200    200     56      0     0%   12-384
src/gobby/cli/projects.py                            50     50     18      0     0%   5-79
src/gobby/cli/sessions.py                           373    373    158      0     0%   5-630
src/gobby/cli/tasks/__init__.py                       3      3      0      0     0%   14-21
src/gobby/cli/tasks/_utils.py                       214    214     86      0     0%   5-449
src/gobby/cli/tasks/ai.py                           557    557    188      0     0%   5-973
src/gobby/cli/tasks/commits.py                       97     97     32      0     0%   5-169
src/gobby/cli/tasks/crud.py                         333    333    126      0     0%   5-593
src/gobby/cli/tasks/deps.py                          76     76     22      0     0%   5-135
src/gobby/cli/tasks/labels.py                        41     41      4      0     0%   5-63
src/gobby/cli/tasks/main.py                         207    207     50      0     0%   5-339
src/gobby/cli/utils.py                              209    209     74      0     0%   5-418
src/gobby/cli/workflows.py                          526    526    198      0     0%   5-929
src/gobby/cli/worktrees.py                          302    302     68      0     0%   17-492
src/gobby/config/__init__.py                         10     10      0      0     0%   20-86
src/gobby/config/app.py                             147    147     30      0     0%   8-521
src/gobby/config/extensions.py                       34     34      0      0     0%   15-164
src/gobby/config/features.py                         67     67      8      0     0%   14-373
src/gobby/config/llm_providers.py                    26     26      8      0     0%   11-98
src/gobby/config/logging.py                          19     19      2      0     0%   10-66
src/gobby/config/mcp.py                             118    118     52      0     0%   8-346
src/gobby/config/persistence.py                      41     41      8      0     0%   11-113
src/gobby/config/servers.py                          57     57     12      0     0%   11-141
src/gobby/config/sessions.py                         62     62      8      0     0%   14-228
src/gobby/config/tasks.py                            96     96     10      0     0%   16-718
src/gobby/hooks/__init__.py                          13     13      0      0     0%   46-76
src/gobby/hooks/artifact_capture.py                  79     79     30      0     0%   13-213
src/gobby/hooks/broadcaster.py                       73     73     36      0     0%   7-228
src/gobby/hooks/event_handlers.py                   359    359    142      0     0%   11-717
src/gobby/hooks/events.py                            49     49      0      0     0%   13-141
src/gobby/hooks/git.py                               61     61      8      0     0%   7-169
src/gobby/hooks/health_monitor.py                    56     56     10      0     0%   11-145
src/gobby/hooks/hook_manager.py                     317    317     82      0     0%   30-811
src/gobby/hooks/hook_types.py                       180    180      0      0     0%   36-561
src/gobby/hooks/plugins.py                          264    264    100      0     0%   11-813
src/gobby/hooks/session_coordinator.py              143    143     36      0     0%   12-396
src/gobby/hooks/verification_runner.py               88     88     18      0     0%   6-268
src/gobby/hooks/webhooks.py                         121    121     42      0     0%   11-339
src/gobby/integrations/__init__.py                    3      3      0      0     0%   7-10
src/gobby/integrations/github.py                     51     51     20      0     0%   7-145
src/gobby/integrations/linear.py                     51     51     20      0     0%   7-145
src/gobby/llm/__init__.py                             7      7      0      0     0%   12-26
src/gobby/llm/base.py                                20     20      0      0     0%   5-98
src/gobby/llm/claude.py                             213    213    102      0     0%   5-485
src/gobby/llm/claude_executor.py                    165    165     58      0     0%   9-497
src/gobby/llm/codex.py                               95     95     28      0     0%   13-251
src/gobby/llm/codex_executor.py                     157    157     50      0     0%   22-507
src/gobby/llm/executor.py                            82     82      4      0     0%   8-316
src/gobby/llm/factory.py                              6      6      0      0     0%   7-34
src/gobby/llm/gemini.py                              93     93     22      0     0%   9-203
src/gobby/llm/gemini_executor.py                    107    107     30      0     0%   9-333
src/gobby/llm/litellm.py                             73     73     20      0     0%   11-215
src/gobby/llm/litellm_executor.py                    98     98     30      0     0%   9-297
src/gobby/llm/resolver.py                           183    183     70      0     0%   13-499
src/gobby/llm/service.py                             75     75     28      0     0%   9-236
src/gobby/mcp_proxy/__init__.py                       3      3      0      0     0%   11-21
src/gobby/mcp_proxy/actions.py                       43     43      8      0     0%   7-171
src/gobby/mcp_proxy/daemon_control.py                95     95     28      0     0%   3-198
src/gobby/mcp_proxy/importer.py                     138    138     66      0     0%   3-436
src/gobby/mcp_proxy/lazy.py                         129    129     26      0     0%   9-323
src/gobby/mcp_proxy/manager.py                      368    368    148      0     0%   8-798
src/gobby/mcp_proxy/metrics.py                      151    151     44      0     0%   3-615
src/gobby/mcp_proxy/models.py                        65     65     14      0     0%   5-139
src/gobby/mcp_proxy/registries.py                    68     68     24      0     0%   3-215
src/gobby/mcp_proxy/schema_hash.py                   86     86     16      0     0%   7-381
src/gobby/mcp_proxy/semantic_search.py              195    195     44      0     0%   10-706
src/gobby/mcp_proxy/server.py                       157    157     38      0     0%   5-549
src/gobby/mcp_proxy/services/__init__.py              0      0      0      0   100%
src/gobby/mcp_proxy/services/fallback.py             77     77     14      0     0%   7-306
src/gobby/mcp_proxy/services/recommendation.py       80     80     20      0     0%   3-224
src/gobby/mcp_proxy/services/server_mgmt.py          79     79     26      0     0%   3-214
src/gobby/mcp_proxy/services/system.py               22     22      4      0     0%   3-62
src/gobby/mcp_proxy/services/tool_filter.py          92     92     42      0     0%   3-231
src/gobby/mcp_proxy/services/tool_proxy.py          125    125     68      0     0%   3-309
src/gobby/mcp_proxy/stdio.py                        141    141     26      0     0%   8-562
src/gobby/mcp_proxy/tools/__init__.py                 8      8      0      0     0%   9-17
src/gobby/mcp_proxy/tools/agents.py                 220    220     80      0     0%   14-849
src/gobby/mcp_proxy/tools/artifacts.py               48     48     10      0     0%   14-207
src/gobby/mcp_proxy/tools/hub.py                     85     85     22      0     0%   13-335
src/gobby/mcp_proxy/tools/internal.py               105    105     38      0     0%   12-338
src/gobby/mcp_proxy/tools/memory.py                 100    100     10      0     0%   17-409
src/gobby/mcp_proxy/tools/merge.py                  110    110     50      0     0%   15-422
src/gobby/mcp_proxy/tools/metrics.py                 62     62      0      0     0%   12-283
src/gobby/mcp_proxy/tools/session_messages.py       353    353    192      0     0%   14-958
src/gobby/mcp_proxy/tools/task_dependencies.py       69     69     10      0     0%   13-219
src/gobby/mcp_proxy/tools/task_expansion.py         227    227     98      0     0%   14-655
src/gobby/mcp_proxy/tools/task_github.py             93     93     14      0     0%   14-365
src/gobby/mcp_proxy/tools/task_linear.py             91     91     12      0     0%   14-351
src/gobby/mcp_proxy/tools/task_orchestration.py     572    572    250      0     0%   11-2209
src/gobby/mcp_proxy/tools/task_readiness.py         147    147     64      0     0%   12-496
src/gobby/mcp_proxy/tools/task_sync.py               98     98     26      0     0%   15-335
src/gobby/mcp_proxy/tools/task_validation.py        239    239     80      0     0%   17-843
src/gobby/mcp_proxy/tools/tasks.py                  426    426    166      0     0%   25-1446
src/gobby/mcp_proxy/tools/workflows.py              209    209    106      0     0%   20-732
src/gobby/mcp_proxy/tools/worktrees.py              313    313    144      0     0%   14-1163
src/gobby/mcp_proxy/transports/__init__.py            0      0      0      0   100%
src/gobby/mcp_proxy/transports/base.py               42     42      2      0     0%   3-95
src/gobby/mcp_proxy/transports/factory.py            13     13      2      0     0%   3-44
src/gobby/mcp_proxy/transports/http.py               86     86     18      0     0%   3-139
src/gobby/mcp_proxy/transports/stdio.py             108    108     26      0     0%   3-213
src/gobby/mcp_proxy/transports/websocket.py          78     78     18      0     0%   3-136
src/gobby/runner.py                                 259    259     52      0     0%   1-472
src/gobby/servers/__init__.py                         0      0      0      0   100%
src/gobby/servers/http.py                           233    233     52      0     0%   8-625
src/gobby/servers/models.py                          13     13      0      0     0%   5-31
src/gobby/servers/routes/__init__.py                  4      4      0      0     0%   7-16
src/gobby/servers/routes/admin.py                   147    147     26      0     0%   7-360
src/gobby/servers/routes/dependencies.py             42     42      6      0     0%   10-118
src/gobby/servers/routes/mcp/__init__.py              5      5      0      0     0%   14-19
src/gobby/servers/routes/mcp/hooks.py                58     58     12      0     0%   8-133
src/gobby/servers/routes/mcp/plugins.py              42     42     14      0     0%   8-121
src/gobby/servers/routes/mcp/tools.py               578    578    176      0     0%   8-1337
src/gobby/servers/routes/mcp/webhooks.py             60     60     16      0     0%   8-159
src/gobby/servers/routes/sessions.py                259    259     68      0     0%   7-567
src/gobby/servers/websocket.py                      241    241     70      0     0%   10-758
src/gobby/sessions/__init__.py                        3      3      0      0     0%   10-13
src/gobby/sessions/analyzer.py                      143    143     88      0     0%   8-322
src/gobby/sessions/lifecycle.py                     119    119     34      0     0%   9-233
src/gobby/sessions/manager.py                       191    191     66      0     0%   13-554
src/gobby/sessions/processor.py                     105    105     34      0     0%   8-225
src/gobby/sessions/summary.py                       231    231     94      0     0%   9-528
src/gobby/sessions/transcripts/__init__.py            9      9      0      0     0%   7-41
src/gobby/sessions/transcripts/base.py               37     37      0      0     0%   7-125
src/gobby/sessions/transcripts/claude.py            145    145     68      0     0%   7-386
src/gobby/sessions/transcripts/codex.py              65     65     20      0     0%   7-143
src/gobby/sessions/transcripts/gemini.py             92     92     42      0     0%   7-195
src/gobby/storage/__init__.py                         8      0      0      0   100%
src/gobby/storage/agents.py                          99     99      8      0     0%   3-409
src/gobby/storage/artifact_classifier.py            141    141     62      0     0%   14-341
src/gobby/storage/artifacts.py                      104    104     28      0     0%   8-285
src/gobby/storage/compaction.py                      23     23      0      0     0%   3-63
src/gobby/storage/database.py                       103     41     16      1    55%   27, 32, 37, 41, 45, 49, 53, 63, 67, 71, 136-143, 151, 160-161, 198-223, 235-242, 250->exit
src/gobby/storage/mcp.py                            241    187     86      0    17%   37, 55, 73-92, 110, 122, 138, 166-209, 220-227, 231-232, 249-260, 274-279, 289-329, 339-344, 360-392, 402-410, 440-546, 563-616, 634-680
src/gobby/storage/memories.py                       184    184     50      0     0%   1-543
src/gobby/storage/merge_resolutions.py              171    171     36      0     0%   7-550
src/gobby/storage/migrations.py                      97     75     42      2    19%   23-57, 73-154, 164-204, 1303-1304, 1325-1346, 1349
src/gobby/storage/projects.py                        59     20      6      1    62%   30, 43, 101-102, 118, 123-124, 137-156, 165-166
src/gobby/storage/session_messages.py                76     76     14      0     0%   5-251
src/gobby/storage/session_tasks.py                   33     33      4      0     0%   1-97
src/gobby/storage/sessions.py                       218    149     48      0    26%   56, 96-103, 107, 143, 181-247, 251-252, 261-268, 293-300, 321-331, 343-351, 355-360, 364-369, 378-389, 393-403, 407-412, 438-457, 478-504, 523-543, 552-553, 557-558, 570-583, 598-611, 625-636, 648-653, 665-670, 682-709, 735-752
src/gobby/storage/task_dependencies.py              109     79     36      0    21%   24, 34, 51, 57-78, 82-88, 92-96, 100-104, 108-112, 119-138, 153-181, 185-223
src/gobby/storage/tasks.py                          635    540    258      0    11%   23-34, 93-99, 164, 217, 262-263, 276-308, 316-317, 321, 325-329, 345-376, 387-394, 407-421, 450-575, 579-582, 587-595, 599-600, 621-673, 708-854, 879-930, 946-985, 989-994, 998-1003, 1020-1033, 1050-1064, 1073-1093, 1117-1158, 1194-1280, 1303-1346, 1368-1383, 1400-1411, 1423-1433, 1450-1481, 1498-1529, 1593-1714, 1754-1846
src/gobby/storage/workflow_audit.py                  91     91     16      0     0%   7-393
src/gobby/storage/worktrees.py                      133    133     22      0     0%   3-547
src/gobby/sync/__init__.py                            3      3      0      0     0%   7-20
src/gobby/sync/github.py                             87     87     28      0     0%   7-333
src/gobby/sync/linear.py                             73     73     16      0     0%   7-304
src/gobby/sync/memories.py                          119    119     42      0     0%   1-215
src/gobby/sync/tasks.py                             201    201     66      0     0%   1-529
src/gobby/tasks/__init__.py                           3      3      0      0     0%   5-8
src/gobby/tasks/auto_decompose.py                    87     87     46      0     0%   7-251
src/gobby/tasks/build_verification.py                60     60     18      0     0%   6-193
src/gobby/tasks/commits.py                          243    243    132      0     0%   6-635
src/gobby/tasks/context.py                          333    333    148      0     0%   8-712
src/gobby/tasks/criteria.py                         133    133     82      0     0%   9-342
src/gobby/tasks/enhanced_validator.py                67     67     14      0     0%   6-219
src/gobby/tasks/escalation.py                        67     67     10      0     0%   6-258
src/gobby/tasks/expansion.py                        245    245    106      0     0%   8-654
src/gobby/tasks/external_validator.py               179    179     66      0     0%   11-735
src/gobby/tasks/issue_extraction.py                  65     65     28      0     0%   6-164
src/gobby/tasks/research.py                         221    221    116      0     0%   5-416
src/gobby/tasks/spec_parser.py                      432    432    172      0     0%   11-1406
src/gobby/tasks/tdd_repair.py                        37     37     10      0     0%   1-102
src/gobby/tasks/validation.py                       243    243    106      0     0%   16-671
src/gobby/tasks/validation_history.py                99     99     38      0     0%   6-354
src/gobby/tasks/validation_models.py                 29     29      0      0     0%   6-81
src/gobby/tools/__init__.py                           0      0      0      0   100%
src/gobby/tools/summarizer.py                        58     58     24      0     0%   8-170
src/gobby/utils/__init__.py                           1      1      0      0     0%   3
src/gobby/utils/daemon_client.py                     68     68     16      0     0%   26-230
src/gobby/utils/git.py                               68     68     20      0     0%   11-180
src/gobby/utils/id.py                                14     14      8      0     0%   3-38
src/gobby/utils/json_helpers.py                      59     59     22      0     0%   9-163
src/gobby/utils/logging.py                          137    137     28      0     0%   8-376
src/gobby/utils/machine_id.py                        48     48      8      0     0%   7-135
src/gobby/utils/metrics.py                          206    206     42      0     0%   8-589
src/gobby/utils/project_context.py                   68     68     20      0     0%   5-182
src/gobby/utils/project_init.py                     113    113     40      0     0%   8-263
src/gobby/utils/status.py                           132    132     76      0     0%   7-256
src/gobby/utils/validation.py                        32     32      2      0     0%   3-75
src/gobby/utils/version.py                            6      6      0      0     0%   3-23
src/gobby/workflows/__init__.py                       2      2      0      0     0%   2-4
src/gobby/workflows/actions.py                      398    398    110      0     0%   1-1183
src/gobby/workflows/artifact_actions.py              46     46     26      0     0%   7-103
src/gobby/workflows/autonomous_actions.py            60     60     22      0     0%   9-276
src/gobby/workflows/context_actions.py              172    172    102      0     0%   7-351
src/gobby/workflows/definitions.py                   76     76      4      0     0%   1-130
src/gobby/workflows/engine.py                       516    516    250      0     0%   1-1296
src/gobby/workflows/evaluator.py                    226    226    116      0     0%   1-565
src/gobby/workflows/git_utils.py                     36     36     10      0     0%   7-96
src/gobby/workflows/hooks.py                         73     73     20      0     0%   1-168
src/gobby/workflows/llm_actions.py                   26     26      6      0     0%   7-70
src/gobby/workflows/loader.py                       145    145     62      0     0%   1-324
src/gobby/workflows/mcp_actions.py                   23     23     12      0     0%   7-60
src/gobby/workflows/memory_actions.py               106    106     54      0     0%   7-272
src/gobby/workflows/session_actions.py               50     50     24      0     0%   7-137
src/gobby/workflows/state_actions.py                 42     42     16      0     0%   7-123
src/gobby/workflows/state_manager.py                 22     22      2      0     0%   1-104
src/gobby/workflows/stop_signal_actions.py           37     37     12      0     0%   7-163
src/gobby/workflows/summary_actions.py              137    137     70      0     0%   7-334
src/gobby/workflows/task_actions.py                  70     70     22      0     0%   9-243
src/gobby/workflows/task_enforcement_actions.py     264    264    128      0     0%   8-757
src/gobby/workflows/templates.py                     24     24      2      0     0%   1-52
src/gobby/workflows/todo_actions.py                  38     38     12      0     0%   7-84
src/gobby/workflows/webhook.py                       95     95     36      0     0%   8-223
src/gobby/workflows/webhook_executor.py             124    124     38      0     0%   8-393
src/gobby/worktrees/__init__.py                       2      2      0      0     0%   3-5
src/gobby/worktrees/git.py                          203    203     80      0     0%   3-645
src/gobby/worktrees/merge/__init__.py                 3      3      0      0     0%   3-12
src/gobby/worktrees/merge/conflict_parser.py         79     79     32      0     0%   7-167
src/gobby/worktrees/merge/resolver.py               162    162     50      0     0%   10-485
---------------------------------------------------------------------------------------------
TOTAL                                             31646  31266  10526      4     1%
Coverage HTML written to dir htmlcov
FAIL Required test coverage of 80% not reached. Total coverage: 0.92%
=========================== short test summary info ============================
FAILED tests/e2e/test_worktrees_e2e.py::TestWorktreeDeletion::test_delete_worktree_removes_branch - AssertionError: Branch should be deleted
assert 0 != 0
 +  where 0 = CompletedProcess(args=['git', 'rev-parse', '--verify', 'feature/delete-branch-test'], returncode=0, stdout=b'fe97e7f15c7e511e45ed06aa5d5648881a2c5cb3\n', stderr=b'').returncode
======================== 1 failed, 1 warning in 15.44s =========================
